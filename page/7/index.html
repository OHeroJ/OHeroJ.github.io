<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Swift, iOS" />










<meta property="og:type" content="website">
<meta property="og:title" content="loveli">
<meta property="og:url" content="http://loveli.site/page/7/index.html">
<meta property="og:site_name" content="loveli">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="loveli">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://loveli.site/page/7/"/>





  <title>loveli - æµ®ç”Ÿæµå¹´</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">loveli</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">æµ®ç”Ÿæµå¹´</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/08/10/ä¼˜é›…å¤„ç†-bad-enum-configurations/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/10/ä¼˜é›…å¤„ç†-bad-enum-configurations/" itemprop="url">ä¼˜é›…å¤„ç† bad enum configurations</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-08-10T23:10:48+08:00">
                2016-08-10
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/10/ä¼˜é›…å¤„ç†-bad-enum-configurations/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/08/10/ä¼˜é›…å¤„ç†-bad-enum-configurations/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/08/10/ä¼˜é›…å¤„ç†-bad-enum-configurations/" class="leancloud_visitors" data-flag-title="ä¼˜é›…å¤„ç† bad enum configurations">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Using-an-enum-for-configuration"><a href="#Using-an-enum-for-configuration" class="headerlink" title="Using an enum for configuration"></a>Using an enum for configuration</h3><p>ä¸Šä¾‹å­ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">CellStyle</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> login</div><div class="line">    <span class="keyword">case</span> profile</div><div class="line">    <span class="keyword">case</span> settings</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommonTableCell</span>: <span class="title">UITableViewCell</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> style: <span class="type">CellStyle</span> &#123;</div><div class="line">        <span class="keyword">didSet</span> &#123;</div><div class="line">            configureStyle()</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">configureStyle</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">switch</span> cellStyle &#123;</div><div class="line">        <span class="keyword">case</span> .login:</div><div class="line">            <span class="comment">// configure style for login view</span></div><div class="line">            textLabel?.textColor = .red()</div><div class="line">            textLabel?.font = .preferredFont(forTextStyle: <span class="type">UIFontTextStyleBody</span>)</div><div class="line"></div><div class="line">            detailTextLabel?.textColor = .blue()</div><div class="line">            detailTextLabel?.font = .preferredFont(forTextStyle: <span class="type">UIFontTextStyleTitle3</span>)</div><div class="line"></div><div class="line">            accessoryView = <span class="type">UIImageView</span>(image: <span class="type">UIImage</span>(named: <span class="string">"chevron"</span>))</div><div class="line">        <span class="keyword">case</span> .settings:</div><div class="line">            <span class="comment">// configure style for settings view</span></div><div class="line">            textLabel?.textColor = .purple()</div><div class="line">            textLabel?.font = .preferredFont(forTextStyle: <span class="type">UIFontTextStyleTitle1</span>)</div><div class="line"></div><div class="line">            detailTextLabel?.textColor = .green()</div><div class="line">            detailTextLabel?.font = .preferredFont(forTextStyle: <span class="type">UIFontTextStyleCaption1</span>)</div><div class="line"></div><div class="line">            accessoryView = <span class="type">UIImageView</span>(image: <span class="type">UIImage</span>(named: <span class="string">"checkmark"</span>))</div><div class="line">         <span class="keyword">case</span> .profile:</div><div class="line">            <span class="comment">// configure style for profile view</span></div><div class="line">            <span class="comment">// ...</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SettingsViewController</span>: <span class="title">UITableViewController</span> </span>&#123;</div><div class="line">   <span class="comment">// ...</span></div><div class="line"></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</div><div class="line">      <span class="comment">// create and configure cell</span></div><div class="line">      cell.style = .settings</div><div class="line">      <span class="keyword">return</span> cell</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>This is so bad!ğŸ˜¢</strong></p>
<h3 id="Why-enum-configurations-are-bad"><a href="#Why-enum-configurations-are-bad" class="headerlink" title="Why enum configurations are bad"></a>Why enum configurations are bad</h3><p>æœ‰äº›äººä¼šè§‰å¾—è¿™ä¸ªæ¨¡å¼å¾ˆokå“‡ï¼Œ â€œis flexibleâ€ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªæ–°çš„CellStyle, ä½ åªéœ€è¦æ·»åŠ ä¸€ä¸ª<code>case</code>,ç„¶ååœ¨switchæ·»åŠ ä¸€å¤„å¤„ç†ã€‚â€˜set any style you wantâ€™ã€‚</p>
<p>ä½†æ˜¯å¦‚æœè¿™ä¸ªcellæ˜¯ä¸€ä¸ªlibraryï¼Œä½ å°±æ²¡æœ‰åŠæ³•æ·»åŠ æ–°çš„ case, è¿™ä¸ªæ—¶å€™å°±æ— æ³• æ·»åŠ è‡ªå·±æƒ³è¦çš„cellstyleäº†ï¼Œæˆ–è€…ä½ ä¹Ÿè®¸å¯ä»¥æPR.é‚£ä¹ˆå¯¹äºä½¿ç”¨è¿™ä¸ªlibçš„äººæ¥è¯´ï¼Œè¿™ä¸ªåº“è®¾è®¡çš„æ˜¯ä¸çµæ´»çš„ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯è¿™ä¸ª åˆ¤æ–­case åˆ†æ”¯è¶Šå¤šï¼Œä»£ç å°±è¶Šéš¾çœ‹ã€‚</p>
<h4 id="å¦‚ä½•æ”¹è¿›è¿™ç§è®¾è®¡"><a href="#å¦‚ä½•æ”¹è¿›è¿™ç§è®¾è®¡" class="headerlink" title="å¦‚ä½•æ”¹è¿›è¿™ç§è®¾è®¡"></a>å¦‚ä½•æ”¹è¿›è¿™ç§è®¾è®¡</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CellStyle</span> </span>&#123;</div><div class="line">    <span class="keyword">let</span> labelColor: <span class="type">UIColor</span></div><div class="line">    <span class="keyword">let</span> labelFont: <span class="type">UIFont</span></div><div class="line">    <span class="keyword">let</span> detailColor: <span class="type">UIColor</span></div><div class="line">    <span class="keyword">let</span> detailFont: <span class="type">UIFont</span></div><div class="line">    <span class="keyword">let</span> accessory: <span class="type">UIImage</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">init</span>(labelColor: <span class="type">UIColor</span> = .black(),</div><div class="line">         labelFont: <span class="type">UIFont</span> = .preferredFont(forTextStyle: <span class="type">UIFontTextStyleTitle1</span>),</div><div class="line">         detailColor: <span class="type">UIColor</span> = .lightGray(),</div><div class="line">         detailFont: <span class="type">UIFont</span> = .preferredFont(forTextStyle: <span class="type">UIFontTextStyleCaption1</span>),</div><div class="line">         accessory: <span class="type">UIImage</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.labelColor = labelColor</div><div class="line">        <span class="keyword">self</span>.labelFont = labelFont</div><div class="line">        <span class="keyword">self</span>.detailColor = detailColor</div><div class="line">        <span class="keyword">self</span>.detailFont = detailFont</div><div class="line">        <span class="keyword">self</span>.accessory = accessory</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">CellStyle</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> settings: <span class="type">CellStyle</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">CellStyle</span>(labelColor: .purple(),</div><div class="line">                         labelFont: .preferredFont(forTextStyle: <span class="type">UIFontTextStyleTitle1</span>),</div><div class="line">                         detailColor: .green(),</div><div class="line">                         detailFont: .preferredFont(forTextStyle: <span class="type">UIFontTextStyleCaption1</span>),</div><div class="line">                         accessory: <span class="type">UIImage</span>(named: <span class="string">"checkmark"</span>)!)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">CellStyle</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> custom: <span class="type">CellStyle</span> &#123;</div><div class="line">        <span class="comment">// uses default fonts</span></div><div class="line">        <span class="keyword">return</span> <span class="type">CellStyle</span>(labelColor: .blue(),</div><div class="line">                         detailColor: .red(),</div><div class="line">                         accessory: <span class="type">UIImage</span>(named: <span class="string">"action"</span>)!)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommonTableCell</span>: <span class="title">UITableViewCell</span> </span>&#123;</div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">apply</span><span class="params">(style: CellStyle)</span></span> &#123;</div><div class="line">        textLabel?.textColor = style.labelColor</div><div class="line">        textLabel?.font = style.labelFont</div><div class="line"></div><div class="line">        detailTextLabel?.textColor = style.detailColor</div><div class="line">        detailTextLabel?.font = style.detailFont</div><div class="line"></div><div class="line">        accessoryView = <span class="type">UIImageView</span>(image: style.accessory)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// usage:</span></div><div class="line">cell.apply(style: .settings)</div></pre></td></tr></table></figure>
<p>å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</p>
<blockquote>
<p>Software entities should be open for extension, but closed for modification. That is, such an entity can allow its behavior to be extended without modifying its source code.</p>
</blockquote>
<div text-align="center"><br><img src="http://obp26pczx.bkt.clouddn.com/cell-model.png" width="80%"><br></div>


<h3 id="æ‰©å±•é˜…è¯»ï¼š"><a href="#æ‰©å±•é˜…è¯»ï¼š" class="headerlink" title="æ‰©å±•é˜…è¯»ï¼š"></a>æ‰©å±•é˜…è¯»ï¼š</h3><ul>
<li><a href="http://www.jessesquires.com/enums-as-configs/?utm_campaign=This%2BWeek%2Bin%2BSwift&amp;utm_medium=web&amp;utm_source=This_Week_in_Swift_98" target="_blank" rel="noopener">Enums as configuration: the anti-pattern</a></li>
<li><a href="https://realm.io/cn/news/tryswift-daniel-steinberg-blending-cultures/" target="_blank" rel="noopener">æ–‡åŒ–ç¢°æ’ï¼šå‡½æ•°å¼ã€é¢å‘åè®®ã€é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æœ€ä½³å®è·µ</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/08/07/ç§æœ‰ Cocoapods çš„åˆ›å»ºå’Œç»´æŠ¤/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/07/ç§æœ‰ Cocoapods çš„åˆ›å»ºå’Œç»´æŠ¤/" itemprop="url">ç§æœ‰ Cocoapods çš„åˆ›å»ºå’Œç»´æŠ¤</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-08-07T21:53:39+08:00">
                2016-08-07
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/07/ç§æœ‰ Cocoapods çš„åˆ›å»ºå’Œç»´æŠ¤/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/08/07/ç§æœ‰ Cocoapods çš„åˆ›å»ºå’Œç»´æŠ¤/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/08/07/ç§æœ‰ Cocoapods çš„åˆ›å»ºå’Œç»´æŠ¤/" class="leancloud_visitors" data-flag-title="ç§æœ‰ Cocoapods çš„åˆ›å»ºå’Œç»´æŠ¤">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ä½¿ç”¨cocoapodsåˆ›å»ºç§æœ‰podspec"><a href="#ä½¿ç”¨cocoapodsåˆ›å»ºç§æœ‰podspec" class="headerlink" title="ä½¿ç”¨cocoapodsåˆ›å»ºç§æœ‰podspec"></a>ä½¿ç”¨cocoapodsåˆ›å»ºç§æœ‰<code>podspec</code></h3><h4 id="åˆ›å»ºç§æœ‰podspecçš„æ­¥éª¤"><a href="#åˆ›å»ºç§æœ‰podspecçš„æ­¥éª¤" class="headerlink" title="åˆ›å»ºç§æœ‰podspecçš„æ­¥éª¤"></a>åˆ›å»ºç§æœ‰<code>podspec</code>çš„æ­¥éª¤</h4><h5 id="1-åˆ›å»ºå¹¶è®¾ç½®ä¸€ä¸ªç§æœ‰çš„Spec-Repo"><a href="#1-åˆ›å»ºå¹¶è®¾ç½®ä¸€ä¸ªç§æœ‰çš„Spec-Repo" class="headerlink" title="1. åˆ›å»ºå¹¶è®¾ç½®ä¸€ä¸ªç§æœ‰çš„Spec Repo"></a>1. åˆ›å»ºå¹¶è®¾ç½®ä¸€ä¸ªç§æœ‰çš„<code>Spec Repo</code></h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod repo add MySpecs <span class="symbol">https:</span>/<span class="regexp">/gitlab.com/oheroj</span><span class="regexp">/spects.git</span></div></pre></td></tr></table></figure>
<p>éªŒè¯æ˜¯å¦æˆåŠŸçš„è¯ï¼Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd ~/.cocoapods/repos/MySpecs</div></pre></td></tr></table></figure></p>
<p><img src="/images/pod-file01.png" alt="eg"></p>
<h5 id="2-åˆ›å»ºPodæ‰€éœ€è¦çš„é¡¹ç›®å·¥ç¨‹æ–‡ä»¶ï¼Œ-å¹¶ä¸”æœ‰å¯è®¿é—®çš„é¡¹ç›®ç‰ˆæœ¬æ§åˆ¶åœ°å€"><a href="#2-åˆ›å»ºPodæ‰€éœ€è¦çš„é¡¹ç›®å·¥ç¨‹æ–‡ä»¶ï¼Œ-å¹¶ä¸”æœ‰å¯è®¿é—®çš„é¡¹ç›®ç‰ˆæœ¬æ§åˆ¶åœ°å€" class="headerlink" title="2. åˆ›å»ºPodæ‰€éœ€è¦çš„é¡¹ç›®å·¥ç¨‹æ–‡ä»¶ï¼Œ å¹¶ä¸”æœ‰å¯è®¿é—®çš„é¡¹ç›®ç‰ˆæœ¬æ§åˆ¶åœ°å€"></a>2. åˆ›å»ºPodæ‰€éœ€è¦çš„é¡¹ç›®å·¥ç¨‹æ–‡ä»¶ï¼Œ å¹¶ä¸”æœ‰å¯è®¿é—®çš„é¡¹ç›®ç‰ˆæœ¬æ§åˆ¶åœ°å€</h5><h5 id="3-åˆ›å»ºPodæ‰€å¯¹åº”çš„podspecæ–‡ä»¶"><a href="#3-åˆ›å»ºPodæ‰€å¯¹åº”çš„podspecæ–‡ä»¶" class="headerlink" title="3. åˆ›å»ºPodæ‰€å¯¹åº”çš„podspecæ–‡ä»¶"></a>3. åˆ›å»ºPodæ‰€å¯¹åº”çš„<code>podspec</code>æ–‡ä»¶</h5><p>ä¸€èˆ¬æƒ…å†µä¸‹2ï¼Œ3 ä¸¤æ­¥éª¤æ˜¯åœ¨ä¸€èµ·çš„ï¼Œ ä½¿ç”¨<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod lib create RoundButton</div></pre></td></tr></table></figure></p>
<p><img src="/images/pod-file02.png" alt="pod lib create eg"></p>
<p><img src="/images/pod-file03.png" alt="pod lib create xocde eg"></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯åœ¨podæ–‡ä»¶å¤¹ä¸­æ·»åŠ æ–‡ä»¶å’Œèµ„æºï¼Œ å¹¶é…ç½®<code>podspec</code>æ–‡ä»¶ã€‚</p>
<p><img src="/images/pod-file04.png" alt="pod lib create xcode add"></p>
<p>å°†ä»£ç æ¨é€åˆ°è¿œç«¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git add .</div><div class="line">git commit <span class="_">-s</span> -m <span class="string">"First Commit of Lib"</span></div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™ä½ åœ¨gitlabä¸Šåˆ›å»ºä¸ªé¡¹ç›®ï¼š<br><img src="/images/pod-file05.png" alt="pod lib create xcode gitlab"></p>
<p>å°†æœ¬åœ°ä»£ç åº“ä¸è¿œç¨‹ä»£ç åº“å…³è”<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git remote add origin git@gitlab.com:oheroj/RoundButton.git <span class="comment">#æ·»åŠ è¿œç«¯ä»“åº“</span></div><div class="line">git push origin master <span class="comment"># æäº¤åˆ°è¿œç«¯ä»“åº“</span></div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œæˆ‘ä»¬ä¹Ÿä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜å°±æ˜¯ git æäº¤äººçš„ä¿¡æ¯æœ‰é—®é¢˜ï¼Œé»˜è®¤æäº¤è€…ä¸ºä½ è®¾ç½®çš„å…¨å±€çš„gitçš„ueserï¼Œ æ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±å¾—æ”¹åå­—äº†ï¼Œ æ¯”å¦‚æˆ‘è¿™è¾¹è¦æ”¹ä¸º oheroj , ç„¶åé‚®ç®±æ”¹ä¸ºgmailé‚®ç®±ã€‚<br>æœ‰è¿™ä¹ˆä¸€æ®µè„šæœ¬å¯ä»¥ <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2" target="_blank" rel="noopener">å‚è€ƒæ‰§è¡Œ</a>ï¼š</p>
<p>æœ‰è¿™ä¹ˆä¸ªè„šæœ¬  change.sh, é‡Œé¢çš„å†…å®¹æ˜¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">git filter-branch --env-filter <span class="string">'</span></div><div class="line"></div><div class="line">OLD_EMAIL="1814345797@qq.com"</div><div class="line">CORRECT_NAME="OHeroJ"</div><div class="line">CORRECT_EMAIL="oheroj@gmail.com"</div><div class="line"></div><div class="line">if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]</div><div class="line">then</div><div class="line">    export GIT_COMMITTER_NAME="$CORRECT_NAME"</div><div class="line">    export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"</div><div class="line">fi</div><div class="line">if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]</div><div class="line">then</div><div class="line">    export GIT_AUTHOR_NAME="$CORRECT_NAME"</div><div class="line">    export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"</div><div class="line">fi</div><div class="line">' --tag-name-filter cat -- --branches --tags</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™ä½ ç›´æ¥æ›¿æ¢ç›¸åº”çš„å†…å®¹ï¼Œç„¶åæ‰§è¡Œ <code>sh change.sh</code></p>
<blockquote>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯æ¯å½“ä½ å‘Podä¸­æ·»åŠ äº†æ–°çš„æ–‡ä»¶æˆ–è€…ä»¥åæ›´æ–°äº†podspecçš„ç‰ˆæœ¬éƒ½éœ€è¦é‡æ–°æ‰§è¡Œä¸€épod updateå‘½ä»¤</p>
</blockquote>
<p>æ¥ä¸‹æ¥å°±æ˜¯ç¼–è¾‘<code>podspec</code>æ–‡ä»¶äº†, æ¶‰åŠåˆ°çš„å­—æ®µå¯ä»¥åˆ° <a href="http://guides.cocoapods.org/syntax/podspec.html#specification" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a> æŸ¥é˜…<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Pod::Spec.new <span class="keyword">do</span> <span class="params">|s|</span></div><div class="line">  s.name             = <span class="string">'RoundButton'</span></div><div class="line">  s.version          = <span class="string">'0.1.0'</span></div><div class="line">  s.summary          = <span class="string">'A Custom Round Button of Button.'</span></div><div class="line"></div><div class="line"><span class="comment"># This description is used to generate tags and improve search results.</span></div><div class="line"><span class="comment">#   * Think: What does it do? Why did you write it? What is the focus?</span></div><div class="line"><span class="comment">#   * Try to keep it short, snappy and to the point.</span></div><div class="line"><span class="comment">#   * Write the description between the DESC delimiters below.</span></div><div class="line"><span class="comment">#   * Finally, don't worry about the indent, CocoaPods strips it!</span></div><div class="line"></div><div class="line">  s.description      = <span class="string">&lt;&lt;-DESC</span></div><div class="line">åˆ›å»ºä¸€ä¸ªå¸¦æœ‰åœ†è§’çš„UIButton, å¹¶ä¸”ç”¨blockå°è£…å›è°ƒ</div><div class="line">                       DESC</div><div class="line"></div><div class="line">  s.homepage         = <span class="string">'https://gitlab.com/oheroj/RoundButton'</span></div><div class="line">  <span class="comment"># s.screenshots     = 'www.example.com/screenshots_1', 'www.example.com/screenshots_2'</span></div><div class="line">  s.license          = &#123; <span class="symbol">:type</span> =&gt; <span class="string">'MIT'</span>, <span class="symbol">:file</span> =&gt; <span class="string">'LICENSE'</span> &#125;</div><div class="line">  s.author           = &#123; <span class="string">'oheroj'</span> =&gt; <span class="string">'oheroj@gmail.com'</span> &#125;</div><div class="line">  s.source           = &#123; <span class="symbol">:git</span> =&gt; <span class="string">'https://gitlab.com/oheroj/RoundButton.git'</span>, <span class="symbol">:tag</span> =&gt; s.version.to_s &#125;</div><div class="line">  <span class="comment"># s.social_media_url = 'https://twitter.com/&lt;TWITTER_USERNAME&gt;'</span></div><div class="line"></div><div class="line">  s.ios.deployment_target = <span class="string">'8.0'</span></div><div class="line"></div><div class="line">  s.source_files = <span class="string">'RoundButton/Classes/**/*'</span></div><div class="line"></div><div class="line">  <span class="comment"># s.resource_bundles = &#123;</span></div><div class="line">  <span class="comment">#   'RoundButton' =&gt; ['RoundButton/Assets/*.png']</span></div><div class="line">  <span class="comment"># &#125;</span></div><div class="line"></div><div class="line">  <span class="comment"># s.public_header_files = 'Pod/Classes/**/*.h'</span></div><div class="line">  <span class="comment"># s.frameworks = 'UIKit', 'MapKit'</span></div><div class="line">  <span class="comment"># s.dependency 'AFNetworking', '~&gt; 2.3'</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure></p>
<p>è¿›è¡Œæäº¤ï¼Œå¹¶ä¸”æ‰“<code>tag</code></p>
<blockquote>
<p>å› ä¸ºpodspecæ–‡ä»¶ä¸­è·å–Gitç‰ˆæœ¬æ§åˆ¶çš„é¡¹ç›®è¿˜éœ€è¦tagå·ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ‰“ä¸Šä¸€ä¸ªtag</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git commit -a -m &quot;podspec modif&quot;</div><div class="line">git push origin master</div><div class="line"></div><div class="line">git tag -m &quot;first release&quot; 0.1.0</div><div class="line">git push --tags</div></pre></td></tr></table></figure>
<h5 id="4-æœ¬åœ°æµ‹è¯•é…ç½®å¥½çš„podsepcæ–‡ä»¶æ˜¯å¦å¯ç”¨"><a href="#4-æœ¬åœ°æµ‹è¯•é…ç½®å¥½çš„podsepcæ–‡ä»¶æ˜¯å¦å¯ç”¨" class="headerlink" title="4. æœ¬åœ°æµ‹è¯•é…ç½®å¥½çš„podsepcæ–‡ä»¶æ˜¯å¦å¯ç”¨"></a>4. æœ¬åœ°æµ‹è¯•é…ç½®å¥½çš„<code>podsepc</code>æ–‡ä»¶æ˜¯å¦å¯ç”¨</h5><p>ç¼–è¾‘å®Œ<code>podspec</code>æ–‡ä»¶åï¼Œéœ€è¦éªŒè¯ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœæœ‰ä»»ä½•WARNINGæˆ–è€…ERRORéƒ½æ˜¯ä¸å¯ä»¥çš„ï¼Œå®ƒå°±ä¸èƒ½è¢«æ·»åŠ åˆ°Spec Repoä¸­ï¼Œä¸è¿‡xcodeçš„WARNINGæ˜¯å¯ä»¥å­˜åœ¨çš„ï¼ŒéªŒè¯éœ€è¦æ‰§è¡Œä¸€ä¸‹å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod lib lint</div></pre></td></tr></table></figure>
<p><img src="/images/pod-file06.png" alt="pod lib lint"></p>
<h6 id="åˆ›å»ºpodspec-æ–‡ä»¶-æ­¤æ­¥éª¤æ˜¯å¯¹æœ‰ç°å­˜é¡¹ç›®çš„"><a href="#åˆ›å»ºpodspec-æ–‡ä»¶-æ­¤æ­¥éª¤æ˜¯å¯¹æœ‰ç°å­˜é¡¹ç›®çš„" class="headerlink" title="åˆ›å»ºpodspec æ–‡ä»¶(æ­¤æ­¥éª¤æ˜¯å¯¹æœ‰ç°å­˜é¡¹ç›®çš„)"></a>åˆ›å»ºpodspec æ–‡ä»¶(æ­¤æ­¥éª¤æ˜¯å¯¹æœ‰ç°å­˜é¡¹ç›®çš„)</h6><p>å¦‚æœæœ‰ç°æˆé¡¹ç›®çš„è¯ï¼Œ æˆ‘ä»¬å°±éœ€è¦ç»™è¿™ä¸ªé¡¹ç›®åˆ›å»ºä¸ª<code>podspec</code>æ–‡ä»¶,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod sepc create RoundButton git@gitlab.com:oheroj/RoundButton.git</div></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œå®Œä¹‹åï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªpodspecæ–‡ä»¶ï¼Œä»–å…¶ä¸­ä¼šåŒ…å«å¾ˆå¤šå†…å®¹ï¼Œå¯ä»¥æŒ‰ç…§æˆ‘ä¹‹å‰ä»‹ç»çš„è¿›è¡Œç¼–è¾‘ï¼Œæ²¡ç”¨çš„åˆ æ‰ã€‚ç¼–è¾‘å®Œæˆä¹‹åä½¿ç”¨éªŒè¯å‘½ä»¤éªŒè¯ä¸€ä¸‹.</p>
<h5 id="5-å‘ç§æœ‰çš„Spec-Repo-ä¸­æäº¤-podsepc"><a href="#5-å‘ç§æœ‰çš„Spec-Repo-ä¸­æäº¤-podsepc" class="headerlink" title="5. å‘ç§æœ‰çš„Spec Repo ä¸­æäº¤ podsepc"></a>5. å‘ç§æœ‰çš„<code>Spec Repo</code> ä¸­æäº¤ podsepc</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod repo push MySpecs RoundButton.podspec</div></pre></td></tr></table></figure>
<p><img src="/images/pod-file07.png" alt="pod repos push "></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod search RoundButton</div></pre></td></tr></table></figure>
<p><img src="/images/pod-file08.png" alt="pod search"></p>
<h5 id="6-åœ¨ä¸ªäººé¡¹ç›®ä¸­çš„Podfileä¸­å¢åŠ åˆšåˆšåˆ¶ä½œå¥½çš„Podä½¿ç”¨"><a href="#6-åœ¨ä¸ªäººé¡¹ç›®ä¸­çš„Podfileä¸­å¢åŠ åˆšåˆšåˆ¶ä½œå¥½çš„Podä½¿ç”¨" class="headerlink" title="6. åœ¨ä¸ªäººé¡¹ç›®ä¸­çš„Podfileä¸­å¢åŠ åˆšåˆšåˆ¶ä½œå¥½çš„Podä½¿ç”¨"></a>6. åœ¨ä¸ªäººé¡¹ç›®ä¸­çš„<code>Podfile</code>ä¸­å¢åŠ åˆšåˆšåˆ¶ä½œå¥½çš„<code>Pod</code>ä½¿ç”¨</h5><p>åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨çš„æ—¶å€™, åœ¨podfileä¸­æ·»åŠ å¦‚ä¸‹ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">source <span class="string">'https://github.com/CocoaPods/Specs.git'</span> <span class="comment">#å…¬æœ‰åº“</span></div><div class="line">source <span class="string">'https://gitlab.com/oheroj/spects.git'</span></div><div class="line"></div><div class="line">platform <span class="symbol">:ios</span>, <span class="string">"8.0"</span></div><div class="line"></div><div class="line">target <span class="string">'ModelPro'</span> <span class="keyword">do</span></div><div class="line">    pod <span class="string">'RoundButton'</span>, <span class="string">'~&gt; 0.1.0'</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>ç„¶åæ‰§è¡Œpod install å³å¯</p>
<h5 id="7-æ›´æ–°ç»´æŠ¤podspec"><a href="#7-æ›´æ–°ç»´æŠ¤podspec" class="headerlink" title="7. æ›´æ–°ç»´æŠ¤podspec"></a>7. æ›´æ–°ç»´æŠ¤<code>podspec</code></h5><h5 id="ç‰ˆæœ¬è§„èŒƒï¼ˆç‰ˆæœ¬tagï¼‰"><a href="#ç‰ˆæœ¬è§„èŒƒï¼ˆç‰ˆæœ¬tagï¼‰" class="headerlink" title="ç‰ˆæœ¬è§„èŒƒï¼ˆç‰ˆæœ¬tagï¼‰"></a>ç‰ˆæœ¬è§„èŒƒï¼ˆç‰ˆæœ¬tagï¼‰</h5><p><strong>major.minor.patch</strong></p>
<p>Appä¸»é¡¹ç›®ä¾èµ–  <code>pod &#39;AFNetworking&#39;, &#39;~&gt; 3.1.0&#39;</code></p>
<ul>
<li>ä¿®æ”¹bugå’Œä¸€äº›å…¶ä»–ä¸é‡è¦ä¿®æ”¹ï¼ˆä¿®æ”¹READMEï¼ŒFormatç­‰ï¼‰ï¼Œå¢åŠ patchç‰ˆæœ¬å·ã€‚ç”¨æˆ·å¯ä»¥æ”¾å¿ƒå‡çº§ã€‚</li>
<li>æ›¾åŠ åŠŸèƒ½å¹¶ä¸”å‘å‰å…¼å®¹ï¼Œå¢åŠ minorç‰ˆæœ¬å·ã€‚ç”¨æˆ·å¯ä»¥è€ƒè™‘å‡çº§ã€‚ï¼ˆæ¨èå‡çº§ï¼‰</li>
<li>ä¸å‘å‰å…¼å®¹æˆ–é‡å¤§ä¿®æ”¹æˆ–é‡æ„ï¼Œå¢åŠ majorç‰ˆæœ¬å·ã€‚ç”¨æˆ·åº”å½“æ…é‡å†³å®šæ˜¯å¦å‡çº§ã€‚</li>
<li>å½“majorä¸º0æ—¶ï¼Œè¡¨ç¤ºè¯¥åº“ä¸ºbetaç‰ˆæœ¬ã€‚ä¸æ˜¯ç¨³å®šç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¼šç»å¸¸ä¿®æ”¹ï¼Œå¹¶å¾ˆå®¹æ˜“é€ æˆå‘å‰ä¸å…¼å®¹çš„æƒ…å†µã€‚å¼€å‘è€…éœ€è¦è®¤çœŸè¯„ä¼°majorç‰ˆæœ¬å·ã€‚ æ­¤æ—¶å‘ç”Ÿå‘å‰ä¸å…¼å®¹çš„æƒ…å†µï¼Œå¼€å‘è€…åº”å½“å‡çº§minorç‰ˆæœ¬å·ã€‚å…¶ä»–åŒä¸Šé¢çš„è§„èŒƒã€‚</li>
</ul>
<h5 id="ç»´æŠ¤ã€å¢åŠ æ–°åŠŸèƒ½"><a href="#ç»´æŠ¤ã€å¢åŠ æ–°åŠŸèƒ½" class="headerlink" title="ç»´æŠ¤ã€å¢åŠ æ–°åŠŸèƒ½"></a>ç»´æŠ¤ã€å¢åŠ æ–°åŠŸèƒ½</h5><p>å°†æºæ–‡ä»¶æ·»åŠ åˆ°<code>Pod/Classes</code>ä¸­ï¼Œ åœ¨æµ‹è¯•é¡¹ç›®é‡Œ<code>pod update</code>ä¸€ä¸‹ï¼Œ å†™ä»£ç éªŒè¯æ— è¯¯ä¹‹åï¼Œå°±å¯ä»¥å°†è¿™ä¸ªå·¥ç¨‹ <code>push</code> åˆ°è¿œç«¯ä»“åº“ï¼Œ å¹¶ä¸”æ‰“ä¸Šæ–°çš„ tagï¼Œ tag å·éµä»ä¸Šé¢çš„ç‰ˆæœ¬è§„èŒƒæ¥åˆ¶å®šã€‚</p>
<p>ç„¶åä¿®æ”¹<code>podspec</code>ä¸Šçš„<code>s.version</code>ä¸ºæˆ‘ä»¬çš„ tag å·ã€‚æœ€åå†æ¬¡ä½¿ç”¨<code>pod lib lint</code>éªŒè¯ç¼–è¾‘å¥½çš„<code>podsepc</code>æ–‡ä»¶ï¼Œæ²¡æœ‰è‡ªèº«çš„WARNINGæˆ–è€…ERRORä¹‹åï¼Œå°±å¯ä»¥å†æ¬¡æäº¤åˆ°Spec Repoä¸­äº†ï¼Œå‘½ä»¤è·Ÿä¹‹å‰æ˜¯ä¸€æ ·çš„</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod repo push MySpecs RoundButton.podspec</div></pre></td></tr></table></figure>
<p>ä¹‹åå†æ¬¡åˆ°~/.cocoapods/repos/MySpecsç›®å½•ä¸‹æŸ¥çœ‹, eg:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">â”œâ”€â”€ YTNSFoundation</div><div class="line">â”‚Â Â  â””â”€â”€ 0.1.0</div><div class="line">â”‚Â Â      â””â”€â”€ YTNSFoundation.podspec</div><div class="line">â”œâ”€â”€ YTNetworking</div><div class="line">â”‚Â Â  â””â”€â”€ 1.0.12</div><div class="line">â”‚Â Â      â””â”€â”€ YTNetworking.podspec</div><div class="line">â””â”€â”€ YTUIKit</div><div class="line">    â”œâ”€â”€ 0.1.0</div><div class="line">    â”‚Â Â  â””â”€â”€ YTUIKit.podspec</div><div class="line">    â””â”€â”€ 0.1.1</div><div class="line">        â””â”€â”€ YTUIKit.podspec</div></pre></td></tr></table></figure>
<h5 id="åˆ é™¤æœ¬åœ°ä¸€ä¸ªç§æœ‰Spec-Repo"><a href="#åˆ é™¤æœ¬åœ°ä¸€ä¸ªç§æœ‰Spec-Repo" class="headerlink" title="åˆ é™¤æœ¬åœ°ä¸€ä¸ªç§æœ‰Spec Repo"></a>åˆ é™¤æœ¬åœ°ä¸€ä¸ªç§æœ‰<code>Spec Repo</code></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod repo remove WTSpecs</div></pre></td></tr></table></figure>
<h5 id="åˆ é™¤ç§æœ‰Spec-RepoæŸä¸€ä¸ªpodspec"><a href="#åˆ é™¤ç§æœ‰Spec-RepoæŸä¸€ä¸ªpodspec" class="headerlink" title="åˆ é™¤ç§æœ‰Spec RepoæŸä¸€ä¸ªpodspec"></a>åˆ é™¤ç§æœ‰<code>Spec Repo</code>æŸä¸€ä¸ª<code>podspec</code></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd ~/.cocoapods/repos/MySpecs</div><div class="line">rm -rf RoundButton</div><div class="line">git commit -a -m &quot;Feat: RoundButton podspec&quot;</div><div class="line">git push origin master</div></pre></td></tr></table></figure>
<h5 id="8-å‚è€ƒæ–‡çŒ®"><a href="#8-å‚è€ƒæ–‡çŒ®" class="headerlink" title="8. å‚è€ƒæ–‡çŒ®"></a>8. å‚è€ƒæ–‡çŒ®</h5><ol>
<li><a href="http://guides.cocoapods.org/making/private-cocoapods.html" target="_blank" rel="noopener">Private Pods</a></li>
<li><a href="http://blog.grio.com/2014/11/creating-a-private-cocoapod.html" target="_blank" rel="noopener">Creating a Private CocoaPod</a></li>
<li><a href="https://objectpartners.com/2014/06/25/developing-private-in-house-libraries-with-cocoapods/" target="_blank" rel="noopener">Developing Private In-House Libraries with CocoaPods</a></li>
<li><a href="http://blog.wtlucky.com/blog/2015/02/26/create-private-podspec/" target="_blank" rel="noopener">ä½¿ç”¨Cocoapodsåˆ›å»ºç§æœ‰podspec</a></li>
<li><a href="http://www.pluto-y.com/cocoapod-private-pods-and-module-manager/" target="_blank" rel="noopener">Cocoapodsç³»åˆ—æ•™ç¨‹(ä¸‰)â€”â€”ç§æœ‰åº“ç®¡ç†å’Œæ¨¡å—åŒ–ç®¡ç†</a></li>
<li><a href="http://xiongzenghuidegithub.github.io/blog/2015/12/25/frameworksan-,-shi-yong-di-san-ku/" target="_blank" rel="noopener">ä¸€ä¸ªiOSèœèœçš„ç™½è¯æ–‡è®°å½•</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/07/28/è‡ªå®šä¹‰ Xcode æ¨¡æ¿/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/28/è‡ªå®šä¹‰ Xcode æ¨¡æ¿/" itemprop="url">è‡ªå®šä¹‰ Xcode æ¨¡æ¿</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-07-28T22:52:23+08:00">
                2016-07-28
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/28/è‡ªå®šä¹‰ Xcode æ¨¡æ¿/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/07/28/è‡ªå®šä¹‰ Xcode æ¨¡æ¿/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/07/28/è‡ªå®šä¹‰ Xcode æ¨¡æ¿/" class="leancloud_visitors" data-flag-title="è‡ªå®šä¹‰ Xcode æ¨¡æ¿">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¸ºäº†é˜…è¯»ã€å¿«é€ŸæŸ¥è¯¢ä»£ç ç”¨çš„æ‰‹æ®µå°±æ˜¯åœ¨å†™ä»£ç çš„æ—¶å€™ ä½¿ç”¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#pragma mark -</div><div class="line">#pragma mark</div><div class="line">....</div></pre></td></tr></table></figure></p>
<p>è¿™äº›æ¥å¯¹ä»£ç è¿›è¡Œåˆ†åŒºå—æ ‡æ³¨ï¼Œ è¿™æ˜¯ä¸ªå¾ˆä¸é”™çš„å¼€å‘ä¹ æƒ¯ã€‚</p>
<p>ä½†æ˜¯å¾€å¾€æœ‰äº›ä¸œè¥¿é‡å¤å¤šäº†ï¼Œæ„Ÿè§‰å°±æ˜¯åœ¨æµªè´¹æ—¶é—´:</p>
<p>æ¯”å¦‚ åœ¨<code>ViewController</code>æˆ‘ä»¬åŸºæœ¬ä¸Šéƒ½ä¼šæœ‰å¦‚ä¸‹çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">#pragma mark - life cycle</div><div class="line"></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">&#125;</div><div class="line"></div><div class="line">#pragma mark - api</div><div class="line"></div><div class="line">#pragma mark - delegate</div><div class="line"></div><div class="line">#pragma mark - dataSource</div><div class="line"></div><div class="line">#pragma mark - netWork</div><div class="line"></div><div class="line">#pragma mark - event response</div><div class="line"></div><div class="line">#pragma mark - private methods</div><div class="line"></div><div class="line">#pragma mark - getter / setter</div></pre></td></tr></table></figure>
<p>åœ¨ <code>View</code>ä¸Šæˆ‘ä»¬ä¼šæœ‰å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">#pragma mark - initial</div><div class="line"></div><div class="line">#pragma mark - add subviews (setup)</div><div class="line">- (void)setup &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line">#pragma mark - view layouts</div><div class="line">- (void)layoutUI &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">#pragma mark - public method</div><div class="line"></div><div class="line">#pragma mark - private method</div><div class="line"></div><div class="line"></div><div class="line">#pragma mark - getter / setter</div><div class="line"></div><div class="line"></div><div class="line">#pragma mark - config test data</div></pre></td></tr></table></figure></p>
<blockquote>
<p>äº‹æƒ…å¯ä»¥é‡å¤1éï¼Œ2éï¼Œä½†æ˜¯å¦‚æœè¦é‡å¤3éï¼Œé‚£å°±å¿…é¡»å¾—é‡æ„äº†</p>
</blockquote>
<p>æ‰€ä»¥æˆ‘ä»¬æœ‰æ²¡æœ‰åŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ ç­”æ¡ˆå½“ç„¶æ˜¯æ˜¾ç„¶çš„ã€‚ åœ¨æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªUITableViewController çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°.mé‡Œé¢ä¼šç”Ÿæˆä¸€äº›é»˜è®¤ä»£ç ï¼Œé‚£ä¹ˆ æˆ‘ä»¬èƒ½å¦åˆ¶ä½œä¸€ä»½å‘¢ï¼Œ è¦æ€ä¹ˆåšï¼Ÿ</p>
<h3 id="can-do-how-do"><a href="#can-do-how-do" class="headerlink" title="can do ? how do?"></a>can do ? how do?</h3><h5 id="1-è¿™äº›æ–‡ä»¶åˆ°åº•æ˜¯ä»å“ªé‡Œç”Ÿæˆçš„ï¼Ÿ"><a href="#1-è¿™äº›æ–‡ä»¶åˆ°åº•æ˜¯ä»å“ªé‡Œç”Ÿæˆçš„ï¼Ÿ" class="headerlink" title="1. è¿™äº›æ–‡ä»¶åˆ°åº•æ˜¯ä»å“ªé‡Œç”Ÿæˆçš„ï¼Ÿ"></a>1. è¿™äº›æ–‡ä»¶åˆ°åº•æ˜¯ä»å“ªé‡Œç”Ÿæˆçš„ï¼Ÿ</h5><p>å¦‚æœåšè¿‡php, æˆ–è€…pythonçš„åŒå­¦ åº”è¯¥çŸ¥é“<code>æ¨¡æ¿å¼•æ“</code>, å…¶å®xcode ç”Ÿæˆçš„åŸç†ä¹Ÿå·®ä¸å¤šï¼Œæœ‰ä¸€ä»½æ¨¡æ¿æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ”¾åœ¨å«ä¸€ä¸ª<code>templates</code>çš„æ–‡ä»¶ç›®å½•ä¸‹(<code>xcode7.3</code>)ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/Applications/Xcode.app/Contents/Developer/Library/Xcode/Templates/</div></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ°è¿™ä¸ªç›®å½•ï¼š<br><img src="/images/ddtemplate.png" alt="templates"></p>
<p><code>Templates</code>ä¸‹çš„ç›®å½•ç»“æ„æˆ‘å°±ä¸å†è¿™å¤šè¯´äº†ï¼Œæˆ‘ç›¸ä¿¡ä½ æœ‰è¿™ç§èƒ½åŠ›å‘ç°ä¸€äº›è§„å¾‹:<br><img src="/images/ddxcode.png" alt="xcode"></p>
<p>å¯ä»¥å¯¹æ¯”ä¸Šé¢çš„ä¸¤ä¸ªå›¾ï¼Œ ä½ ä¼šçœ‹åˆ°é‚£ä¸ª<code>ç‰›å¤´</code>çš„å›¾æ ‡åœ¨ä¸Šé¢çš„ä¸¤å¼ å›¾ä¸­éƒ½æœ‰ä½“ç°ã€‚</p>
<h5 id="2-é‚£ä¹ˆViewController-xctemplate-é‡Œé¢æ”¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-é‚£ä¹ˆViewController-xctemplate-é‡Œé¢æ”¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2. é‚£ä¹ˆViewController.xctemplate é‡Œé¢æ”¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ"></a>2. é‚£ä¹ˆ<code>ViewController.xctemplate</code> é‡Œé¢æ”¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ</h5><ol>
<li>Templatelcon.png å°±æ˜¯ä¸€ä¸ªå›¾æ ‡ï¼Œ è¿™ä¸œè¥¿ä½ å¯ä»¥éšæ„æ¢ï¼Œå°±æ˜¯ä¸è¦æŠŠè¿™åå­—ç»™æ¢äº†</li>
<li><p>Templatelcon.plisté‡Œé¢æ˜¯ä¸€äº›é…ç½®çš„ä¸œè¥¿</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div class="line">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</div><div class="line">&lt;plist version=&quot;1.0&quot;&gt;</div><div class="line">&lt;dict&gt;</div><div class="line">	&lt;key&gt;AllowedTypes&lt;/key&gt;</div><div class="line">	&lt;array&gt;</div><div class="line">		&lt;string&gt;public.objective-c-source&lt;/string&gt;</div><div class="line">		&lt;string&gt;public.objective-c-plus-plus-source&lt;/string&gt;</div><div class="line">	&lt;/array&gt;</div><div class="line">	&lt;key&gt;DefaultCompletionName&lt;/key&gt;</div><div class="line">	&lt;string&gt;File&lt;/string&gt;</div><div class="line">	&lt;key&gt;Description&lt;/key&gt;</div><div class="line">	&lt;string&gt;è‡ªå®šä¹‰ viewController æ¨¡æ¿&lt;/string&gt;</div><div class="line">	&lt;key&gt;Kind&lt;/key&gt;</div><div class="line">	&lt;string&gt;Xcode.IDEKit.TextSubstitutionFileTemplateKind&lt;/string&gt;</div><div class="line">	&lt;key&gt;Options&lt;/key&gt;</div><div class="line">	&lt;array&gt;</div><div class="line">		&lt;dict&gt;</div><div class="line">			&lt;key&gt;Description&lt;/key&gt;</div><div class="line">			&lt;string&gt;The name of the file to create&lt;/string&gt;</div><div class="line">			&lt;key&gt;Identifier&lt;/key&gt;</div><div class="line">			&lt;string&gt;productName&lt;/string&gt;</div><div class="line">			&lt;key&gt;Name&lt;/key&gt;</div><div class="line">			&lt;string&gt;File:&lt;/string&gt;</div><div class="line">			&lt;key&gt;NotPersisted&lt;/key&gt;</div><div class="line">			&lt;true/&gt;</div><div class="line">			&lt;key&gt;Required&lt;/key&gt;</div><div class="line">			&lt;true/&gt;</div><div class="line">			&lt;key&gt;Type&lt;/key&gt;</div><div class="line">			&lt;string&gt;text&lt;/string&gt;</div><div class="line">		&lt;/dict&gt;</div><div class="line">		&lt;dict&gt;</div><div class="line">			&lt;key&gt;Default&lt;/key&gt;</div><div class="line">			&lt;string&gt;UIViewController&lt;/string&gt;</div><div class="line">			&lt;key&gt;Description&lt;/key&gt;</div><div class="line">			&lt;string&gt;What class to subclass in the new file&lt;/string&gt;</div><div class="line">			&lt;key&gt;FallbackHeader&lt;/key&gt;</div><div class="line">			&lt;string&gt;#import &amp;lt;UIKit/UIKit.h&amp;gt;&lt;/string&gt;</div><div class="line">			&lt;key&gt;Identifier&lt;/key&gt;</div><div class="line">			&lt;string&gt;cocoaSubclass&lt;/string&gt;</div><div class="line">			&lt;key&gt;Name&lt;/key&gt;</div><div class="line">			&lt;string&gt;Subclass of:&lt;/string&gt;</div><div class="line">			&lt;key&gt;Required&lt;/key&gt;</div><div class="line">			&lt;true/&gt;</div><div class="line">			&lt;key&gt;Type&lt;/key&gt;</div><div class="line">			&lt;string&gt;class&lt;/string&gt;</div><div class="line">			&lt;key&gt;Values&lt;/key&gt;</div><div class="line">			&lt;array&gt;</div><div class="line">				&lt;string&gt;UIViewController&lt;/string&gt;</div><div class="line">			&lt;/array&gt;</div><div class="line">		&lt;/dict&gt;</div><div class="line">	&lt;/array&gt;</div><div class="line">	&lt;key&gt;SortOrder&lt;/key&gt;</div><div class="line">	&lt;string&gt;4&lt;/string&gt;</div><div class="line">	&lt;key&gt;Summary&lt;/key&gt;</div><div class="line">	&lt;string&gt;è‡ªå®šä¹‰ viewController æ¨¡æ¿&lt;/string&gt;</div><div class="line">&lt;/dict&gt;</div><div class="line">&lt;/plist&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>UIViewController è¿™æ–‡ä»¶å¤¹çš„ä¸œè¥¿ä½ å¯ä»¥å¯¹æ¯” Sourceæ–‡ä»¶ä¸‹çš„ç³»ç»Ÿé»˜è®¤çš„</p>
</li>
</ol>
<p>åœ¨<code>__FILEBASENAME__.H</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  ___FILEBASENAME___.h</div><div class="line">//  ___PROJECTNAME___</div><div class="line">//</div><div class="line">//  Created by ___FULLUSERNAME___ on ___DATE___.</div><div class="line">//___COPYRIGHT___</div><div class="line">//</div><div class="line"></div><div class="line">___IMPORTHEADER_cocoaSubclass___</div><div class="line"></div><div class="line">@interface ___FILEBASENAME___: ___VARIABLE_cocoaSubclass___</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>åœ¨ <code>__FILEBASENAME__.m</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  ___FILEBASENAME___.m</div><div class="line">//  ___PROJECTNAME___e</div><div class="line">//</div><div class="line">//  Created by ___FULLUSERNAME___ on ___DATE___.</div><div class="line">//___COPYRIGHT___</div><div class="line">//</div><div class="line"></div><div class="line">#import &quot;___FILEBASENAME___.h&quot;</div><div class="line"></div><div class="line">@interface ___FILEBASENAME___ ()</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ___FILEBASENAME___</div><div class="line"></div><div class="line">#pragma mark - life cycle</div><div class="line"></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">&#125;</div><div class="line"></div><div class="line">#pragma mark - api</div><div class="line"></div><div class="line">#pragma mark - delegate</div><div class="line"></div><div class="line">#pragma mark - dataSource</div><div class="line"></div><div class="line">#pragma mark - netWork</div><div class="line"></div><div class="line">#pragma mark - event response</div><div class="line"></div><div class="line">#pragma mark - private methods</div><div class="line"></div><div class="line">#pragma mark - getter / setter</div><div class="line"></div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<p>ç„¶åæ‰“å¼€ä¸€ä¸ªxcodeé¡¹ç›®ï¼Œ cmd + n</p>
<p>ç„¶åå¾ˆå¤šä½ æƒ³è¦çš„å°±æœ‰äº†ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/07/24/Gitlab ä¹‹ Gitbook è‡ªåŠ¨é›†æˆ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/24/Gitlab ä¹‹ Gitbook è‡ªåŠ¨é›†æˆ/" itemprop="url">Gitlab ä¹‹ Gitbook è‡ªåŠ¨é›†æˆ</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-07-24T22:21:38+08:00">
                2016-07-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/24/Gitlab ä¹‹ Gitbook è‡ªåŠ¨é›†æˆ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/07/24/Gitlab ä¹‹ Gitbook è‡ªåŠ¨é›†æˆ/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/07/24/Gitlab ä¹‹ Gitbook è‡ªåŠ¨é›†æˆ/" class="leancloud_visitors" data-flag-title="Gitlab ä¹‹ Gitbook è‡ªåŠ¨é›†æˆ">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æœ€è¿‘æœ‰ä¸ªä»»åŠ¡æ˜¯ æƒ³é€šè¿‡ <code>gitlab</code> çš„ CI æ¥ç®¡ç† API æ–‡æ¡£ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½å¯ä»¥åœ¨ gitbook ä¸Šçœ‹åˆ°æœ‰å¾ˆå¤šäººå†™ä¹¦ï¼Œ<br>æ’ç‰ˆä½¿ç”¨ markdown, ä¸ªäººé’Ÿçˆ± markdown, åœ¨è¿™ä¸ªä»»åŠ¡ä¹‹å‰ï¼Œé„™äººæ²¡æœ‰æ¥è§¦è¿‡ gitlab, æ¥è§¦è¿‡ä¸€æ®µæ—¶é—´ï¼Œæ„Ÿè§‰æ æ çš„ï¼Œ<br>å¾ˆå–œæ¬¢è¿™ä¸ªå®ƒçš„æŒç»­åŒ–é›†æˆçš„åŠŸèƒ½ï¼Œç„¶åè¿˜æœ‰å¯ä»¥å…è´¹åˆ›å»ºç§æœ‰ä»“åº“ã€‚</p>
</blockquote>
<p>ä»Šå¤©æ¤å…¥ä¸»é¢˜ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•åœ¨ <strong>gitlab</strong> ä¸ŠæŒç»­é›†æˆæˆ‘ä»¬çš„ <strong>gitbook</strong> æ–‡æ¡£ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ–‡æ¡£ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ–‡æ¡£ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æ–‡æ¡£ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦æ–‡æ¡£ï¼Ÿ</h3><p>ä¸ªäººè§‰å¾—ï¼š</p>
<ol>
<li>å¦‚æœæ˜¯æ–°äººå…¥èŒçš„è¯ï¼Œæœ‰æ–‡æ¡£é‚£å¾ˆå¤šä¸œè¥¿å°±æ–¹ä¾¿å¤šäº†ï¼›</li>
<li>å¼€å‘ä¸€ä¸ªç»„ä»¶ï¼Œå†™å‡ºæ–‡æ¡£ï¼Œå¾ˆå¤šä¸œè¥¿å°±ä¸éœ€è¦é‡å¤ä»‹ç»ç»™ä½¿ç”¨çš„äºº</li>
<li>é™ä½æ²Ÿé€šæˆæœ¬å’Œç»´æŠ¤æˆæœ¬</li>
<li>æé«˜å¼€å‘æ•ˆç‡</li>
<li>å¯ä»¥æŠŠä¸€ä¸ªæ–°æŠ€æœ¯çš„æ¢ç ”åšæˆä¸€ä»½å­¦ä¹ è·¯çº¿æ–‡æ¡£ï¼Œè¿™æ ·åæ¥äººå°±å¯ä»¥å‡å°‘å­¦ä¹ çš„æˆæœ¬</li>
</ol>
<h3 id="éœ€è¦çš„å·¥å…·"><a href="#éœ€è¦çš„å·¥å…·" class="headerlink" title="éœ€è¦çš„å·¥å…·"></a>éœ€è¦çš„å·¥å…·</h3><ol>
<li><a href="https://www.sourcetreeapp.com" target="_blank" rel="noopener">SourceTree</a></li>
<li><a href="https://www.gitbook.com/editor/" target="_blank" rel="noopener">GitBookEditor</a></li>
<li><a href="https://github.com/GitbookIO/gitbook/blob/master/docs/setup.md" target="_blank" rel="noopener">GitBook</a></li>
</ol>
<h3 id="æ–‡æ¡£ç¼–å†™-markdown"><a href="#æ–‡æ¡£ç¼–å†™-markdown" class="headerlink" title="æ–‡æ¡£ç¼–å†™ markdown"></a>æ–‡æ¡£ç¼–å†™ <code>markdown</code></h3><p>è¯­æ³•å¯ <a href="http://www.jianshu.com/p/q81RER" target="_blank" rel="noopener">å‚è€ƒ</a></p>
<h3 id="gitbook-åŸºæœ¬ä½¿ç”¨"><a href="#gitbook-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="gitbook åŸºæœ¬ä½¿ç”¨"></a><code>gitbook</code> åŸºæœ¬ä½¿ç”¨</h3><p>ä½¿ç”¨å¯ <a href="http://www.chengweiyang.cn/gitbook/basic-usage/README.html" target="_blank" rel="noopener">å‚è€ƒ</a></p>
<h3 id="gitlabä¸ŠæŒç»­é›†æˆçš„æ­¥éª¤"><a href="#gitlabä¸ŠæŒç»­é›†æˆçš„æ­¥éª¤" class="headerlink" title="gitlabä¸ŠæŒç»­é›†æˆçš„æ­¥éª¤"></a><code>gitlab</code>ä¸ŠæŒç»­é›†æˆçš„æ­¥éª¤</h3><ol>
<li>åœ¨gitlabæ–°å»ºä¸€ä¸ªresposity</li>
<li>checkoutåˆ°æœ¬åœ°</li>
<li>åœ¨é¡¹ç›®ä¸Šæ–°å¢ä¸€ä¸ª .gitlab-ci.yml æ–‡ä»¶ å¹¶æäº¤åˆ° Gitlab</li>
</ol>
<h3 id="gitlab-çš„-gitlab-ci-ymlæ–‡ä»¶çš„ç¼–å†™"><a href="#gitlab-çš„-gitlab-ci-ymlæ–‡ä»¶çš„ç¼–å†™" class="headerlink" title="gitlab çš„ .gitlab-ci.ymlæ–‡ä»¶çš„ç¼–å†™"></a><code>gitlab</code> çš„ <code>.gitlab-ci.yml</code>æ–‡ä»¶çš„ç¼–å†™</h3><ol>
<li><a href="http://docs.gitlab.com/ce/ci/yaml/README.html" target="_blank" rel="noopener">.gitlab-ci.yml æŒ‡å—</a></li>
<li><p>æ–‡ä»¶å‚è€ƒä¹¦å†™ï¼š</p>
<pre><code>before_script:
- env
- export LC_ALL=zh_TW.UTF-8

stages:
- build

ebook:
stage: build
script:
- gitbook pdf
artifacts:
paths:
  - book.pdf
only:
- master

image: shuoshuo/gitbook-builder:latest
</code></pre></li>
</ol>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol>
<li><a href="http://www.jianshu.com/p/e650aac83f7a" target="_blank" rel="noopener">gitbookåœ¨ç§æœ‰gitlabä¸ŠæŒç»­é›†æˆ</a></li>
<li><p><a href="http://docs.gitlab.com/ce/ci/yaml/README.html" target="_blank" rel="noopener">Configuration of your builds with .gitlab-ci.yml</a></p>
</li>
<li><p><a href="http://www.jianshu.com/p/q81RER" target="_blank" rel="noopener">çŒ®ç»™å†™ä½œè€…çš„ Markdown æ–°æ‰‹æŒ‡å—</a></p>
</li>
<li><a href="http://www.jianshu.com/p/168c0c1c7e4f" target="_blank" rel="noopener">æ•æ·å¼€å‘ä¹‹APIç®¡ç†ä¹‹é“</a></li>
<li><a href="http://www.jianshu.com/p/2b43151fb92e/comments/2348175" target="_blank" rel="noopener">GitLab-CIä¸GitLab-Runner</a></li>
<li><a href="https://yudachi.biz/2016/05/27/moving-to-gitlab-pages/" target="_blank" rel="noopener">åŸºåœ°è½¬ç§»ï¼ä» GitHub Pages è½¬ç§»åˆ° GitLab Pages</a></li>
<li><a href="https://medium.com/@shuoshuo/å¤šäººå…±ç­†ä¸”è‡ªå‹•ç”¢ç”Ÿ-pdf-ç‰ˆé›»å­æ›¸-5a0f1053c069#.8qic6kquk" target="_blank" rel="noopener">å¤šäººå…±ç­†ä¸”è‡ªå‹•ç”¢ç”Ÿ PDF ç‰ˆé›»å­æ›¸</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/07/16/iOS ä¹‹ Cocoapods/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/16/iOS ä¹‹ Cocoapods/" itemprop="url">iOS ä¹‹ Cocoapods</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-07-16T07:06:01+08:00">
                2016-07-16
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/16/iOS ä¹‹ Cocoapods/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/07/16/iOS ä¹‹ Cocoapods/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/07/16/iOS ä¹‹ Cocoapods/" class="leancloud_visitors" data-flag-title="iOS ä¹‹ Cocoapods">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>å¾ˆå¤šä¸œè¥¿å°±ä¸åœ¨æ­¤å•°å—¦äº†ï¼Œ æ ¹æ® <a href="http://blog.devtang.com/2014/05/25/use-cocoapod-to-manage-ios-lib-dependency/" target="_blank" rel="noopener">è¿™ç¯‡åšå®¢</a> å°±å¯ä»¥å¾ˆæ„‰å¿«çš„ç©ä¸Šä½ çš„cocoapodsäº†</p>
</blockquote>
<p>ä»Šå¤©æƒ³è¯´çš„æ˜¯å…³äºè‡ªå·±åœ¨ä½¿ç”¨ä¸Šé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼š</p>
<h3 id="1-cocoapods-é‡è£…é—®é¢˜"><a href="#1-cocoapods-é‡è£…é—®é¢˜" class="headerlink" title="1. cocoapods é‡è£…é—®é¢˜"></a>1. cocoapods é‡è£…é—®é¢˜</h3><h4 id="1-å¸è½½"><a href="#1-å¸è½½" class="headerlink" title="1. å¸è½½"></a>1. å¸è½½</h4><pre><code>sudo gem uninstall cocoapods

// ä½ ä¹Ÿå¯ä»¥å¸è½½æŒ‡å®šç‰ˆæœ¬çš„cocoapods
// sudo gem uninstall cocoapods -v 0.38

// å¯¹äºå¦‚ä½•æŸ¥çœ‹ä½ å®‰è£…çš„ç‰ˆæœ¬
// gem list
</code></pre><h4 id="2-é‡è£…"><a href="#2-é‡è£…" class="headerlink" title="2. é‡è£…"></a>2. é‡è£…</h4><pre><code>// æ£€æµ‹ä½ å®‰è£…çš„ ruby çš„ç‰ˆæœ¬æ˜¯å¦æ˜¯è¯¥ cocoapods æ‰€æ”¯æŒçš„
sudo gem update --system
sudo gem install cocoapods
// æˆ–è€…å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„
// sudo gem install cocoapods -v 1.0.0
</code></pre><h4 id="3-pod-setup"><a href="#3-pod-setup" class="headerlink" title="3. pod setup"></a>3. pod setup</h4><p>è¿™å—æ‹å‡ºæ¥è®²æ˜¯æœ‰åŸå› çš„ï¼Œ ä¸»è¦æ˜¯åœ¨æ‰§è¡Œä¸Šé¢çš„ 1ï¼Œ2 å…¶å®å¾ˆå…³é”®çš„å°±æ˜¯è¿™ä¸ª setup è¿™æ­¥ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½ä¾èµ–äºè¿™ä¸ªã€‚</p>
<p>é‚£ä¹ˆè¿™éƒ¨åšäº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ</p>
<pre><code>cd ~/.cocoapods/repos/
</code></pre><p>ä¼šæœ‰ä¸ª <code>master</code> æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å¤¹çš„ä¸œè¥¿å°±æ˜¯è¿™ä¸ª <code>pod setup</code>ç”Ÿæˆçš„ã€‚å¯¹äºè¿™ä¸ªæˆ‘ä»¬åœ¨æ¯æ¬¡<code>pod install or pod update</code> çš„æ—¶å€™ï¼Œä¹Ÿä¼šç‰µæ‰¯åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ã€‚</p>
<pre><code>// åˆ‡åˆ€è¿™ä¸ª ~/.cocoapods/repos/
du -sh *

// æˆ‘è¿™è¾¹æ˜¾ç¤ºçš„ç»“æœæ˜¯
779M  master
</code></pre><p>779Mï¼Œ è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ pod setup è¿™ä¹ˆæ…¢çš„åŸå› å§(æ‰€ä»¥åœ¨setup çš„æ—¶å€™æœ€å¥½æ˜¯èƒ½åœ¨æ¯”è¾ƒç¨³å®šä¸”å¿«é€Ÿçš„ç½‘ç»œä¸‹è¿›è¡Œï¼Œ æˆ‘å°±å› ä¸ºå…¬å¸çš„ç½‘ç»œé—®é¢˜ï¼Œ ä¸‹äº†nä¾¿ï¼Œç»“æœæ²¡æˆåŠŸ)ã€‚</p>
<p>é‚£ä¹ˆå¦‚æœæˆ‘ä»¬å°±æ˜¯ setup ä¸æˆåŠŸï¼Œ é‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥å¦å¯»å…¶ä»–çš„è·¯ï¼šæˆ‘ä»¬å¯ä»¥å‘æœ‹å‹å«ä»–ä»¬ zip å‡ºè¿™ä¸ªåŒ…ç»™ä½ ,ç„¶åæ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹å°±å¥½ã€‚</p>
<h4 id="4-å¯èƒ½ä¼šæœ‰çš„å‘"><a href="#4-å¯èƒ½ä¼šæœ‰çš„å‘" class="headerlink" title="4. å¯èƒ½ä¼šæœ‰çš„å‘"></a>4. å¯èƒ½ä¼šæœ‰çš„å‘</h4><h5 id="1-æœç´¢æ—¶æŠ¥é”™"><a href="#1-æœç´¢æ—¶æŠ¥é”™" class="headerlink" title="1. æœç´¢æ—¶æŠ¥é”™"></a>1. æœç´¢æ—¶æŠ¥é”™</h5><pre><code>pod search  AFNetworking
</code></pre><p>å‡ºç°äº† <code>[!] Unable to find a pod with name, author, summary, or descriptionmatching</code>AFNetworking``</p>
<p>è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p>
<pre><code>rm ~/Library/Caches/CocoaPods/search_index.json

// ç„¶å
pod search AFNetworking
</code></pre><h5 id="2-1-0ä»¥ä¸Šçš„ç‰ˆæœ¬-è®°å¾—è®¾ç½®-target"><a href="#2-1-0ä»¥ä¸Šçš„ç‰ˆæœ¬-è®°å¾—è®¾ç½®-target" class="headerlink" title="2. 1.0ä»¥ä¸Šçš„ç‰ˆæœ¬  è®°å¾—è®¾ç½® target"></a>2. 1.0ä»¥ä¸Šçš„ç‰ˆæœ¬  è®°å¾—è®¾ç½® target</h5><h5 id="3-pod-install-æˆ–è€…-pod-update-å¾ˆæ…¢"><a href="#3-pod-install-æˆ–è€…-pod-update-å¾ˆæ…¢" class="headerlink" title="3. pod install æˆ–è€… pod update å¾ˆæ…¢"></a>3. pod install æˆ–è€… pod update å¾ˆæ…¢</h5><pre><code>pod install --verbose --no-repo-update
pod update --verbose --no-repo-update
</code></pre><p>åŸå› åœ¨äºå½“æ‰§è¡Œä»¥ä¸Šä¸¤ä¸ªå‘½ä»¤çš„æ—¶å€™ä¼šå‡çº§CocoaPodsçš„specä»“åº“ï¼ŒåŠ ä¸€ä¸ªå‚æ•°å¯ä»¥çœç•¥è¿™ä¸€æ­¥ï¼Œç„¶åé€Ÿåº¦å°±ä¼šæå‡ä¸å°‘</p>
<h4 id="5-å‚è€ƒ"><a href="#5-å‚è€ƒ" class="headerlink" title="5. å‚è€ƒ"></a>5. å‚è€ƒ</h4><ol>
<li><a href="http://blog.devtang.com/2014/05/25/use-cocoapod-to-manage-ios-lib-dependency/" target="_blank" rel="noopener">ç”¨CocoaPodsåšiOSç¨‹åºçš„ä¾èµ–ç®¡ç†</a></li>
<li><a href="https://segmentfault.com/a/1190000005011497" target="_blank" rel="noopener">æ‹¥æŠ± CocoaPods 1.0</a></li>
<li><a href="http://www.jianshu.com/p/f79589c21dc4" target="_blank" rel="noopener">Cocoapodså®‰è£…ä½¿ç”¨ä»¥åŠå®Œå…¨å¸è½½</a></li>
<li><a href="http://my.oschina.net/u/2559341/blog/592738#OSC_h3_10" target="_blank" rel="noopener">CocoaPodsè¯¦è§£ä¹‹â€”-ä½¿ç”¨ç¯‡ pod install/pod updateæ›´æ–°æ…¢çš„é—®é¢˜</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/07/10/Swift ä¹‹åå° Vapor åˆæ­¥/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/10/Swift ä¹‹åå° Vapor åˆæ­¥/" itemprop="url">Swift ä¹‹åå° Vapor åˆæ­¥</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-07-10T17:27:32+08:00">
                2016-07-10
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/10/Swift ä¹‹åå° Vapor åˆæ­¥/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/07/10/Swift ä¹‹åå° Vapor åˆæ­¥/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/07/10/Swift ä¹‹åå° Vapor åˆæ­¥/" class="leancloud_visitors" data-flag-title="Swift ä¹‹åå° Vapor åˆæ­¥">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>è¿‘æ—¥ï¼Œå‘ç°Vaporç›¸åº”åŠŸèƒ½éƒ½åŸºæœ¬å®Œå·¥äº†ã€‚ä¹‹å‰çš„æ—©æœŸç‰ˆæœ¬è‡ªå·±ä¹Ÿå°è¯•è¿‡ï¼Œæ„Ÿè§‰è¿™ä¸ªåº“å¾ˆç¬¦åˆè‡ªå·±çš„å£å‘³ã€‚æ—©æœŸvaporå®šä½æ˜¯swiftç‰ˆçš„Laravel.æ­£å¦‚å®ƒè‡ªå·±æå†™<br>â€œVapor is the first true web framework for Swift. It provides a beautifully expressive and easy to use foundation for your next website or API.â€<br>å¦‚æœä½¿ç”¨PHP Laravelçš„åŒå­¦åº”è¯¥çŸ¥é“ï¼Œè¿™ä¸ªåº“çš„å¾ˆæœ‰è‰ºæœ¯æ€§ï¼Œå¾ˆä¼˜ç¾<br>â€œThe PHP Framework For Web Artisansâ€<br>swiftçš„å¹´è½»æ‰€ä»¥æœ‰å¾ˆå¤šåœ°æ–¹ä¹Ÿé€ å°±äº†vaporçš„å¹´è½»<br>æ‰€ä»¥åœ¨ä½¿ç”¨vaporçš„æ—¶å€™å¹¶ä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿ï¼Œå‘è¿˜æ˜¯ä¸å°‘çš„ã€‚</p>
</blockquote>
<hr>
<p>ç¯å¢ƒï¼š  xcode7.3.1  macOS 10.11.6</p>
<h3 id="swift-ç‰ˆæœ¬çš„é€‰æ‹©"><a href="#swift-ç‰ˆæœ¬çš„é€‰æ‹©" class="headerlink" title="swift ç‰ˆæœ¬çš„é€‰æ‹©"></a>swift ç‰ˆæœ¬çš„é€‰æ‹©</h3><p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æƒ³è¯´ç”¨swiftenvæ¥è§£å†³å§</p>
<pre><code>brew install kylef/formulae/swiftenv
</code></pre><h3 id="vapor-CLIçš„å®‰è£…"><a href="#vapor-CLIçš„å®‰è£…" class="headerlink" title="vapor CLIçš„å®‰è£…"></a>vapor CLIçš„å®‰è£…</h3><pre><code>curl -L cli.qutheory.io -o vapor
chmod +x vapor
sudo mv vapor /usr/local/bin
</code></pre><h3 id="vapor"><a href="#vapor" class="headerlink" title="vapor"></a>vapor</h3><p>å¦‚æœä½ æƒ³ä½¿ç”¨vapor çš„demoçš„è¯ï¼Œç›´æ¥ç”¨<code>vapor new yourDemo</code>, è¿™ä¸ªæ—¶å€™ä½ çš„é¡¹ç›®å°±ä¸æ˜¯çº¯å‡€çš„ï¼Œå½“ç„¶å¯èƒ½ä¼šå¼•å‘å‡ºç›¸å…³é—®é¢˜ï¼Œæˆ‘è¿™è¾¹ç¢°åˆ°çš„æ˜¯ ï¼Œ vapor CLIçš„ç‰ˆæœ¬æ˜¯5.3, è¿™ä¸ªç‰ˆæœ¬å¯¹åº”çš„swiftç‰ˆæœ¬æ˜¯<code>DEVELOPMENT-SNAPSHOT-2016-06-06-a</code>, ä½†æ˜¯è¿™ä¸ªæ—¶å€™è¿™ä¸ªnewå‡ºæ¥çš„é¡¹ç›®çš„ç‰ˆæœ¬æ˜¯ <code>DEVELOPMENT-SNAPSHOT-2016-06-20-a</code>,æ‰€ä»¥è¿™å°±åœ¨â€˜vapor newâ€™çš„æ—¶å€™ä¼šå‡ºç°å¤±è´¥, å¹¶ä¸”xcode7 ä¹Ÿä¸èƒ½æ‰“å¼€è¿™ä¸ªé¡¹ç›®ã€‚</p>
<h4 id="å¦‚ä½•æ„å»ºä¸€ä¸ªçº¯å‡€ç‰ˆçš„Vaporé¡¹ç›®"><a href="#å¦‚ä½•æ„å»ºä¸€ä¸ªçº¯å‡€ç‰ˆçš„Vaporé¡¹ç›®" class="headerlink" title="å¦‚ä½•æ„å»ºä¸€ä¸ªçº¯å‡€ç‰ˆçš„Vaporé¡¹ç›®?"></a>å¦‚ä½•æ„å»ºä¸€ä¸ªçº¯å‡€ç‰ˆçš„Vaporé¡¹ç›®?</h4><ol>
<li><code>mkdir blog</code>åˆ›å»ºä¸€ä¸ªblogæ–‡ä»¶å¤¹</li>
<li><code>swift package init</code> åˆ›å»ºä¸€ä¸ªåŸºæœ¬é¡¹ç›®</li>
<li><p><code>atom Package.swift</code> ä¿®æ”¹ Package.swift, è¿™é‡Œä¸¾ä¾‹ï¼š</p>
<pre><code>import PackageDescription

let package = Package(
    name: &quot;blog&quot;,
    dependencies: [
        .Package(url: &quot;https://github.com/qutheory/vapor.git&quot;, majorVersion: 0, minor: 12),

    ],
    exclude: [
        &quot;Config&quot;,
        &quot;Database&quot;,
        &quot;Localization&quot;,
        &quot;Public&quot;,
        &quot;Resources&quot;,
        &quot;Tests&quot;,
    ]
)
</code></pre></li>
<li><p>Sourceæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ”¹åä¸º <code>main.swift</code>ï¼Œ åœ¨é‡Œé¢ç¼–å†™å¦‚ä¸‹ä¸€æ®µä»£ç ï¼š</p>
<pre><code>import Vapor

let drop = Application()

drop.get(&quot;welcome&quot;) { request in

    return  &quot;hello, world&quot;
}

drop.start()
</code></pre></li>
<li><p>å…ˆ<code>vapor build</code>,ç„¶å <code>vapor xcode</code>ï¼Œ ä¼šè‡ªåŠ¨ç”¨xcodeæ‰“å¼€è¿™ä¸ªé¡¹ç›®.</p>
</li>
<li>ç”¨xcode è¿è¡Œè¿™ä¸ªé¡¹ç›®ï¼ˆé€‰ä¸­ä½ è¿™ä¸ªé¡¹ç›®ï¼‰, ç„¶ååœ¨æµè§ˆå™¨ä¸­è¾“å…¥:<code>0.0.0.0:8080/welcome</code>, ä½ ä¼šç¥å¥‡çš„å‘ç°å‡ºç°äº†<code>hello, world</code>ã€‚</li>
</ol>
<h3 id="å¦‚ä½•ä½“éªŒ-vaporçš„æ›´å¤šåŠŸèƒ½"><a href="#å¦‚ä½•ä½“éªŒ-vaporçš„æ›´å¤šåŠŸèƒ½" class="headerlink" title="å¦‚ä½•ä½“éªŒ vaporçš„æ›´å¤šåŠŸèƒ½"></a>å¦‚ä½•ä½“éªŒ vaporçš„æ›´å¤šåŠŸèƒ½</h3><ol>
<li><p>è¯·å‚è€ƒå…¶ <a href="https://vapor.readme.io/docs" target="_blank" rel="noopener">doc</a></p>
</li>
<li><p>vaporçš„é¼»ç¥–çš„<a href="https://www.youtube.com/watch?v=OuPT2FFKCos" target="_blank" rel="noopener">æ•™å­¦è§†é¢‘</a></p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/07/02/iOS ç›´æ’­ Tutorials/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/02/iOS ç›´æ’­ Tutorials/" itemprop="url">iOS ç›´æ’­ Tutorials</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-07-02T20:05:33+08:00">
                2016-07-02
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/02/iOS ç›´æ’­ Tutorials/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/07/02/iOS ç›´æ’­ Tutorials/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/07/02/iOS ç›´æ’­ Tutorials/" class="leancloud_visitors" data-flag-title="iOS ç›´æ’­ Tutorials">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-ç›´æ’­ç›¸å…³åŸºæœ¬çŸ¥è¯†"><a href="#1-ç›´æ’­ç›¸å…³åŸºæœ¬çŸ¥è¯†" class="headerlink" title="1.ç›´æ’­ç›¸å…³åŸºæœ¬çŸ¥è¯†"></a>1.ç›´æ’­ç›¸å…³åŸºæœ¬çŸ¥è¯†</h2><h3 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h3><pre><code>* ç›®å‰ä¸»æµé‡‡ç”¨ æœåŠ¡å™¨åŸºäº`nginx`ï¼Œå¹¶ä¸”ä½¿ç”¨æ¨¡å—[nginx-rtmp-module](https://github.com/arut/nginx-rtmp-module)æ¨¡å—æ¥å¢åŠ å¯¹HLSçš„æ”¯æŒã€‚
</code></pre><h3 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®:"></a>åè®®:</h3><p>å›½å†…å¸¸è§å…¬å¼€çš„ç›´æ’­åè®®æœ‰å‡ ä¸ªï¼šRTMPã€HLSã€HDLï¼ˆHTTP-FLVï¼‰ã€RTPï¼Œ æˆ‘ä»¬ä¸»è¦ä»‹ç» RTMP å’Œ HLS</p>
<ul>
<li><p><code>RTMP</code>(<a href="http://www.adobe.com/cn/devnet/rtmp.html" target="_blank" rel="noopener">Real Time Messaging Protocol</a>) åè®®</p>
<p>  Adobeå…¬å¸ä¸ºFlashæ’­æ”¾å™¨å’ŒæœåŠ¡å™¨ä¹‹é—´éŸ³ã€è§†é¢‘åŠæ•°æ®ä¼ è¾“å¼€å‘çš„å®æ—¶æ¶ˆæ¯ä¼ é€åè®®ã€‚åè®®ä¸­ï¼Œè§†é¢‘å¿…é¡»æ˜¯H264ç¼–ç ï¼ŒéŸ³é¢‘å¿…é¡»æ˜¯AACæˆ–MP3ç¼–ç ï¼Œä¸”å¤šä»¥flvæ ¼å¼å°åŒ…</p>
<ol>
<li>å¼€æºè½¯ä»¶å’Œå¼€æºåº“çš„æ”¯æŒç¨³å®šå®Œæ•´ã€‚å¦‚æ–—é±¼ä¸»æ’­å¸¸ç”¨çš„OBSè½¯ä»¶ï¼Œå¼€æºçš„librtmpåº“ï¼ŒæœåŠ¡ç«¯æœ‰nginx-rtmpæ’ä»¶ã€‚</li>
<li>æ’­æ”¾ç«¯å®‰è£…ç‡é«˜ã€‚åªè¦æµè§ˆå™¨æ”¯æŒFlashPlayerå°±èƒ½éå¸¸ç®€æ˜“çš„æ’­æ”¾RTMPçš„ç›´æ’­ï¼Œåè®®è¯¦è§£å¯ä»¥Googleäº†è§£ã€‚ç›¸å¯¹å…¶ä»–åè®®è€Œè¨€ï¼ŒRTMPåè®®åˆæ¬¡å»ºç«‹è¿æ¥çš„æ—¶å€™æ¡æ‰‹è¿‡ç¨‹è¿‡äºå¤æ‚ï¼ˆåº•å±‚åŸºäºTCPï¼Œè¿™é‡Œè¯´çš„æ˜¯RTMPåè®®æœ¬èº«çš„äº¤äº’ï¼‰ï¼Œè§†ä¸åŒçš„ç½‘ç»œçŠ¶å†µä¼šå¸¦æ¥ç»™é¦–å¼€å¸¦æ¥100msä»¥ä¸Šçš„å»¶è¿Ÿã€‚åŸºäºRTMPçš„ç›´æ’­ä¸€èˆ¬å†…å®¹å»¶è¿Ÿåœ¨2~5ç§’ã€‚</li>
</ol>
</li>
<li><p><code>HLS</code>(<a href="https://developer.apple.com/streaming/" target="_blank" rel="noopener">HTTP Live Streaming</a>) åè®®</p>
<p>  æ˜¯ç”±Appleå…¬å¸å®šä¹‰çš„åŸºäºHTTPçš„æµåª’ä½“å®æ—¶ä¼ è¾“åè®®ã€‚å®ƒçš„åŸç†æ˜¯å°†æ•´ä¸ªæµåˆ†ä¸ºä¸€ä¸ªä¸€ä¸ªå°çš„æ–‡ä»¶æ¥ä¸‹è½½ï¼Œæ¯æ¬¡åªä¸‹è½½è‹¥å¹²ä¸ªã€‚ä¼ è¾“å†…å®¹åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼šä¸€æ˜¯<code>M3U8</code>æè¿°æ–‡ä»¶ï¼ŒäºŒæ˜¯<code>TS</code>åª’ä½“æ–‡ä»¶ã€‚TSåª’ä½“æ–‡ä»¶ä¸­çš„è§†é¢‘å¿…é¡»æ˜¯<code>H264</code>ç¼–ç ,éŸ³é¢‘å¿…é¡»æ˜¯<code>AAC</code>æˆ–<code>MP3</code>ç¼–ç ã€‚</p>
<p>  HLSåè®®åœ¨æœåŠ¡å™¨ç«¯å°†ç›´æ’­æ•°æ®æµå­˜å‚¨ä¸ºè¿ç»­çš„ã€å¾ˆçŸ­æ—¶é•¿çš„åª’ä½“æ–‡ä»¶ï¼ˆMPEG-TSæ ¼å¼ï¼‰ï¼Œè€Œå®¢æˆ·ç«¯åˆ™ä¸æ–­çš„ä¸‹è½½å¹¶æ’­æ”¾è¿™äº›å°æ–‡ä»¶ï¼Œå› ä¸ºæœåŠ¡å™¨ç«¯æ€»æ˜¯ä¼šå°†æœ€æ–°çš„ç›´æ’­æ•°æ®ç”Ÿæˆæ–°çš„å°æ–‡ä»¶ï¼Œè¿™æ ·å®¢æˆ·ç«¯åªè¦ä¸åœçš„æŒ‰é¡ºåºæ’­æ”¾ä»æœåŠ¡å™¨è·å–åˆ°çš„æ–‡ä»¶ï¼Œå°±å®ç°äº†ç›´æ’­ã€‚ç”±æ­¤å¯è§ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸ºï¼ŒHLSæ˜¯ä»¥ç‚¹æ’­çš„æŠ€æœ¯æ–¹å¼æ¥å®ç°ç›´æ’­ã€‚ç”±äºæ•°æ®é€šè¿‡HTTPåè®®ä¼ è¾“ï¼Œæ‰€ä»¥å®Œå…¨ä¸ç”¨è€ƒè™‘é˜²ç«å¢™æˆ–è€…ä»£ç†çš„é—®é¢˜ï¼Œè€Œä¸”åˆ†æ®µæ–‡ä»¶çš„æ—¶é•¿å¾ˆçŸ­ï¼Œå®¢æˆ·ç«¯å¯ä»¥å¾ˆå¿«çš„é€‰æ‹©å’Œåˆ‡æ¢ç ç‡ï¼Œä»¥é€‚åº”ä¸åŒå¸¦å®½æ¡ä»¶ä¸‹çš„æ’­æ”¾ã€‚ä¸è¿‡HLSçš„è¿™ç§æŠ€æœ¯ç‰¹ç‚¹ï¼Œå†³å®šäº†å®ƒçš„å»¶è¿Ÿä¸€èˆ¬æ€»æ˜¯ä¼šé«˜äºæ™®é€šçš„æµåª’ä½“ç›´æ’­åè®®ã€‚</p>
<p>  HLSæœ‰ä¸€ä¸ªéå¸¸å¤§çš„<code>ä¼˜ç‚¹</code>ï¼šHTML5å¯ä»¥ç›´æ¥æ‰“å¼€æ’­æ”¾ï¼›è¿™ä¸ªæ„å‘³ç€å¯ä»¥æŠŠä¸€ä¸ªç›´æ’­é“¾æ¥é€šè¿‡å¾®ä¿¡ç­‰è½¬å‘åˆ†äº«ï¼Œä¸éœ€è¦å®‰è£…ä»»ä½•ç‹¬ç«‹çš„APPï¼Œæœ‰æµè§ˆå™¨å³å¯ï¼Œæ‰€ä»¥æµè¡Œåº¦å¾ˆé«˜ã€‚ç¤¾äº¤ç›´æ’­APPï¼ŒHLSå¯ä»¥è¯´æ˜¯åˆšéœ€</p>
</li>
</ul>
<h2 id="2-æ­¥éª¤ï¼š"><a href="#2-æ­¥éª¤ï¼š" class="headerlink" title="2.æ­¥éª¤ï¼š"></a>2.æ­¥éª¤ï¼š</h2><h3 id="éŸ³è§†é¢‘çš„é‡‡é›†"><a href="#éŸ³è§†é¢‘çš„é‡‡é›†" class="headerlink" title="éŸ³è§†é¢‘çš„é‡‡é›†"></a>éŸ³è§†é¢‘çš„é‡‡é›†</h3><p>ä½¿ç”¨AVFoundation.frameworkçš„AVCaptureSessionå³å¯è·å¾—åŸå§‹çš„CMSampleBufferRefæ ¼å¼éŸ³è§†é¢‘æ•°æ®</p>
<h3 id="å¯¹è§†é¢‘è¿›è¡ŒH264ç¼–ç ï¼Œå¯¹éŸ³é¢‘è¿›è¡ŒAACç¼–ç "><a href="#å¯¹è§†é¢‘è¿›è¡ŒH264ç¼–ç ï¼Œå¯¹éŸ³é¢‘è¿›è¡ŒAACç¼–ç " class="headerlink" title="å¯¹è§†é¢‘è¿›è¡ŒH264ç¼–ç ï¼Œå¯¹éŸ³é¢‘è¿›è¡ŒAACç¼–ç "></a>å¯¹è§†é¢‘è¿›è¡ŒH264ç¼–ç ï¼Œå¯¹éŸ³é¢‘è¿›è¡ŒAACç¼–ç </h3><p>å°†åŸå§‹è§†é¢‘ç¼–ç è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<ol>
<li>åˆ©ç”¨ç¬¬ä¸‰æ–¹åº“ <a href="https://github.com/FFmpeg/FFmpeg" target="_blank" rel="noopener">FFmpeg</a> è¿›è¡Œç¼–ç </li>
<li>åˆ©ç”¨iOSè‡ªèº«çš„AVAssetWriter æˆ–VideoToolBox.frameworkçš„VTCompressionSessionè¿›è¡Œç¼–ç ã€‚</li>
</ol>
<h3 id="ç¼–ç ï¼š"><a href="#ç¼–ç ï¼š" class="headerlink" title="ç¼–ç ï¼š"></a>ç¼–ç ï¼š</h3><ol>
<li>RTMPä¸Šæ¨ç›´æ’­è§†é¢‘: å¯¹ç¼–ç åçš„éŸ³ã€è§†é¢‘æ•°æ®è¿›è¡ŒFLVå°åŒ…ï¼›</li>
<li>HTTP Live Streamingç›´æ’­: è§†é¢‘å’ŒéŸ³é¢‘æ•°æ®å°è£…ä¸ºMPEG-TSåŒ…</li>
</ol>
<h3 id="ä¸Šæ¨åˆ°æœåŠ¡ç«¯ã€‚"><a href="#ä¸Šæ¨åˆ°æœåŠ¡ç«¯ã€‚" class="headerlink" title="ä¸Šæ¨åˆ°æœåŠ¡ç«¯ã€‚"></a>ä¸Šæ¨åˆ°æœåŠ¡ç«¯ã€‚</h3><ol>
<li>åŸºäºRTMPè¿›è¡Œæ¨æµçš„è¯ï¼šéœ€è¦å»ºç«‹RTMPè¿æ¥ï¼Œ</li>
<li>HTTP Live Streamingç›´æ’­: ç›´æ¥httpè¿›è¡Œæ•°æ®ä¼ è¾“</li>
</ol>
<h3 id="æ’­æ”¾ç«¯-æ‹‰æµ-è§£å¯†"><a href="#æ’­æ”¾ç«¯-æ‹‰æµ-è§£å¯†" class="headerlink" title="æ’­æ”¾ç«¯ æ‹‰æµ è§£å¯†"></a>æ’­æ”¾ç«¯ æ‹‰æµ è§£å¯†</h3><h2 id="3-IOSæ‰‹æœºç›´æ’­Demoæµç¨‹"><a href="#3-IOSæ‰‹æœºç›´æ’­Demoæµç¨‹" class="headerlink" title="3.IOSæ‰‹æœºç›´æ’­Demoæµç¨‹"></a>3.IOSæ‰‹æœºç›´æ’­Demoæµç¨‹</h2><h3 id="æ­å»ºæœ¬åœ°æµ‹è¯•æœåŠ¡å™¨ã€Mac-os-10-11ã€‘"><a href="#æ­å»ºæœ¬åœ°æµ‹è¯•æœåŠ¡å™¨ã€Mac-os-10-11ã€‘" class="headerlink" title="æ­å»ºæœ¬åœ°æµ‹è¯•æœåŠ¡å™¨ã€Mac os 10.11ã€‘"></a>æ­å»ºæœ¬åœ°æµ‹è¯•æœåŠ¡å™¨ã€Mac os 10.11ã€‘</h3><h4 id="æœåŠ¡å™¨æ­å»º"><a href="#æœåŠ¡å™¨æ­å»º" class="headerlink" title="æœåŠ¡å™¨æ­å»º"></a>æœåŠ¡å™¨æ­å»º</h4><p>æ‰“å¼€ç»ˆç«¯</p>
<pre><code>brew update
brew install nginx-full --with-rtmp-module
</code></pre><p>å¦‚æœä½ çš„macä¹‹å‰å®‰è£…äº†nginx, é‚£ä¹ˆè¿™ä¸ªæ—¶å€™å…ˆè¾“å…¥è¿™ä¸ª:</p>
<pre><code>brew unlink nginx
</code></pre><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><p>å¦‚æœä½ æœ¬æœºä¸Šå®‰è£…äº†atom,é‚£ä¹ˆåœ¨terminalä¸Šè¾“å…¥ï¼š</p>
<pre><code>atom /usr/local/etc/nginx
</code></pre><p>å°†é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸ºï¼š</p>
<pre><code>#user  nobody;
worker_processes  1;

#error_log  logs/error.log debug;
#error_log       /usr/local/var/log/nginx/error.log warn;

events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;

    sendfile        on;
    keepalive_timeout  65;

    server {
        listen       8080;
        server_name  localhost;

        location /stat {
            rtmp_stat all;
            rtmp_stat_stylesheet stat.xsl;
        }

         # è¿™ä¸ªè·¯å¾„ä¸€å®šè¦æ”¹
        location /stat.xsl {
            # you can move stat.xsl to a different location
            root /usr/local/Cellar/rtmp-nginx-module/1.1.7.10/share/rtmp-nginx-module;
        }

        # rtmp control
        location /control {
            rtmp_control all;
        }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }
}

rtmp {
    server {
        listen 1935;
        ping 30s;
        notify_method get;

        application myapp {
            live on;

            # sample play/publish handlers
            #on_play http://localhost:8080/on_play;
            #on_publish http://localhost:8080/on_publish;

            # sample recorder
            #recorder rec1 {
            #    record all;
            #    record_interval 30s;
            #    record_path /tmp;
            #    record_unique on;
            #}

            # sample HLS
            #hls on;
            #hls_path /tmp/hls;
            #hls_sync 100ms;

        }

        application hls {
            live on;
            hls on;
            hls_path /tmp/hls;
            hls_fragment 5s;
        }

        # Video on demand
        #application vod {
        #    play /var/Videos;
        #}

        # Video on demand over HTTP
        #application vod_http {
        #    play http://localhost:8080/vod/;
        #}
    }
}
</code></pre><blockquote>
<p>æ³¨æ„ï¼š location /stat.xsl  { } è¿™ä¸ªrootçš„è·¯å¾„è®°å¾—è¦æ”¹ã€‚ ä¸»è¦æ˜¯æ”¹ä¸€ä¸‹â€œ1.1.7.10â€ï¼Œ<br>è·Ÿä½ çš„rtmp-nginx-moduleè¿™ä¸ªç‰ˆæœ¬æœ‰å…³ç³»å§ï¼Œ å¯ä»¥ <code>cd /usr/local/Cellar/rtmp-nginx-module/</code> æ¥æŸ¥çœ‹</p>
</blockquote>
<h4 id="ç¼–è¾‘å¥½åï¼Œ-è¿›è¡Œ-sudo-nginx-s-reload"><a href="#ç¼–è¾‘å¥½åï¼Œ-è¿›è¡Œ-sudo-nginx-s-reload" class="headerlink" title="ç¼–è¾‘å¥½åï¼Œ è¿›è¡Œ  sudo nginx -s reload"></a>ç¼–è¾‘å¥½åï¼Œ è¿›è¡Œ  sudo nginx -s reload</h4><h3 id="é‡‡é›†éŸ³è§†é¢‘"><a href="#é‡‡é›†éŸ³è§†é¢‘" class="headerlink" title="é‡‡é›†éŸ³è§†é¢‘"></a>é‡‡é›†éŸ³è§†é¢‘</h3><p>ç”¨åˆ°æ˜¯ç¬¬ä¸‰æ–¹çš„ <a href="https://github.com/runner365/LiveVideoCoreSDK" target="_blank" rel="noopener">LiveVideoCoreSDK</a></p>
<p>è¿™è¾¹çš„è¯ä¸»è¦æ˜¯æ”¹ä¸€ä¸‹æ¨æµçš„url, é‚£ä¹ˆæ€ä¹ˆæ ·è®©æ‰‹æœºè®¿é—®çš„è¿™ä¸ªmacçš„æœ¬åœ°æœåŠ¡å™¨å‘¢ï¼Ÿ</p>
<ol>
<li>mac å’Œæ‰‹æœºåœ¨åŒä¸€å±€åŸŸç½‘(å…±è¿ä¸€ä¸ªwifi)</li>
<li>ç„¶åæ‰“å¼€æœ¬æœºçš„åå¥½è®¾ç½®-&gt;ç½‘ç»œ(Network), çœ‹ä¸‹ä½ çš„wifiçš„statusæœ‰ä¸ªipåœ°å€ã€‚æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç”¨ipconfigè¿›è¡Œæ‰çœ‹ å†…ç½‘çš„ipåœ°å€ã€‚æˆ‘çš„æ˜¯192.168.1.100</li>
<li><p>æ›´æ”¹LiveVideoCoreSDKä¸Šdemo</p>
<pre><code>_RtmpUrlTextField.text = @&quot;rtmp://192.168.1.100:1935/myapp/mystream&quot;;
</code></pre></li>
<li><p>çœŸæœºè¿è¡Œdemo</p>
</li>
</ol>
<h3 id="æ’­æ”¾ç«¯"><a href="#æ’­æ”¾ç«¯" class="headerlink" title="æ’­æ”¾ç«¯"></a>æ’­æ”¾ç«¯</h3><p>å®‰è£…ffplayï¼š</p>
<pre><code>brew unlink ffmpeg
brew install ffmpeg --with-ffplay
</code></pre><h2 id="4-å‚è€ƒæ–‡çŒ®"><a href="#4-å‚è€ƒæ–‡çŒ®" class="headerlink" title="4.å‚è€ƒæ–‡çŒ®"></a>4.å‚è€ƒæ–‡çŒ®</h2><ol>
<li><a href="http://www.cocoachina.com/ios/20150818/13081.html" target="_blank" rel="noopener">HTTP Live Streamingç›´æ’­(iOSç›´æ’­)æŠ€æœ¯åˆ†æä¸å®ç°</a></li>
<li><a href="http://blog.ucloud.cn/?p=796" target="_blank" rel="noopener"> ã€Šå…³äºç›´æ’­ï¼Œæ‰€æœ‰çš„æŠ€æœ¯ç»†èŠ‚éƒ½åœ¨è¿™é‡Œäº†ã€‹ ç³»åˆ—</a></li>
<li><a href="http://blog.csdn.net/leixiaohua1020/article/details/42658139" target="_blank" rel="noopener">FFmpegç›¸å…³èµ„æ–™ ä¸“æ æ–‡ç« </a></li>
<li><a href="https://github.com/runner365/LiveVideoCoreSDK" target="_blank" rel="noopener">LiveVideoCoreSDK</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/06/27/iOS å¤šçº¿ç¨‹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/27/iOS å¤šçº¿ç¨‹/" itemprop="url">iOS å¤šçº¿ç¨‹</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-06-27T11:44:00+08:00">
                2016-06-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/27/iOS å¤šçº¿ç¨‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/06/27/iOS å¤šçº¿ç¨‹/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/06/27/iOS å¤šçº¿ç¨‹/" class="leancloud_visitors" data-flag-title="iOS å¤šçº¿ç¨‹">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹"><a href="#å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹"></a>å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹</h2><p><code>ä¼˜ç‚¹</code>: å¤šçº¿ç¨‹èƒ½å¤Ÿé€‚å½“æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ï¼Œé€‚å½“æé«˜èµ„æºåˆ©ç”¨ç‡(CPUã€å†…å­˜åˆ©ç”¨ç‡)ã€‚</p>
<p><code>ç¼ºç‚¹</code>: æ¯å¼€å¯ä¸€æ¡çº¿ç¨‹éœ€è¦å ç”¨ä¸€å®šçš„å†…å­˜ç©ºé—´ï¼Œé‚£ä¹ˆå¯æƒ³è€ŒçŸ¥ï¼Œå¦‚æœå¼€å¯å¤§é‡çš„çº¿ç¨‹å°±ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜ç©ºé—´ï¼Œä»è€Œé™ä½ç¨‹åºçš„æ€§èƒ½ã€‚</p>
<h2 id="Objective-Cä¸­å®ç°å¤šçº¿ç¨‹"><a href="#Objective-Cä¸­å®ç°å¤šçº¿ç¨‹" class="headerlink" title="Objective-Cä¸­å®ç°å¤šçº¿ç¨‹"></a>Objective-Cä¸­å®ç°å¤šçº¿ç¨‹</h2><p><code>performSelectors</code>:</p>
<p>NSObject æä¾›äº†ä»¥performSelector ä¸ºå‰ç¼€çš„ä¸€äº›åˆ—æ–¹æ³•ã€‚å®ƒä»¬å¯ä»¥è®©ç”¨æˆ·åœ¨æŒ‡å®šçš„çº¿ç¨‹ä¸­ï¼Œæˆ–è€…ç«‹å³ï¼Œæˆ–è€…å»¶è¿Ÿæ‰§è¡ŒæŸä¸ªæ–¹æ³•è°ƒç”¨</p>
<h3 id="åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"><a href="#åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š" class="headerlink" title="åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"></a>åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š</h3><pre><code>- (void)performSelector:(SEL)aSelector withObject:(id)anArgument afterDelay:(NSTimeInterval)delay

- (void)performSelector:(SEL)aSelector withObject:(id)anArgument afterDelay:(NSTimeInterval)delay inModes:(NSArray *)modes
</code></pre><h3 id="åœ¨æŒ‡å®šçº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"><a href="#åœ¨æŒ‡å®šçº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š" class="headerlink" title="åœ¨æŒ‡å®šçº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"></a>åœ¨æŒ‡å®šçº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š</h3><pre><code>- (void)performSelector:(SEL)aSelector onThread:(NSThread *)thread withObject:(id)arg waitUntilDone:(BOOL)wait

- (void)performSelector:(SEL)aSelector onThread:(NSThread *)thread withObject:(id)arg waitUntilDone:(BOOL)wait modes:(NSArray *)array
</code></pre><h3 id="åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"><a href="#åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š" class="headerlink" title="åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"></a>åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š</h3><pre><code>-(void)performSelectorOnMainThread: (SEL)selector withObject:(id)argument
waitUntilDone:(BOOL)wait

-(void)performSelectorOnMainThread:(SEL)aSelector withObject:(id)arg
waitUntilDone:(BOOL)wait
modes:(NSArray *)array
</code></pre><h3 id="åœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"><a href="#åœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š" class="headerlink" title="åœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"></a>åœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š</h3><pre><code>-(void)performSelectorInBackground:(SEL)aSelector withObject:(id)arg
</code></pre><h2 id="NSThread-pthread"><a href="#NSThread-pthread" class="headerlink" title="NSThread / pthread"></a>NSThread / pthread</h2><p>pthread_t å’Œ NSThreadæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚</p>
<h3 id="ä¸‰ç§å®ç°å¼€å¯çº¿ç¨‹çš„æ–¹å¼ï¼š"><a href="#ä¸‰ç§å®ç°å¼€å¯çº¿ç¨‹çš„æ–¹å¼ï¼š" class="headerlink" title="ä¸‰ç§å®ç°å¼€å¯çº¿ç¨‹çš„æ–¹å¼ï¼š"></a>ä¸‰ç§å®ç°å¼€å¯çº¿ç¨‹çš„æ–¹å¼ï¼š</h3><pre><code>1. åŠ¨æ€å®ä¾‹åŒ–

        NSThread *thread = [[NSThread alloc] initWithTarget:self selector:@selector(loadImageSource:) object:imgUrl];

        thread.threadPriority = 1;// è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§(0.0 - 1.0ï¼Œ1.0æœ€é«˜çº§)

        [thread start];

2. é™æ€å®ä¾‹åŒ–ã€åˆ†ç¦»çº¿ç¨‹ã€‘

        [NSThread detachNewThreadSelector:@selector(loadImageSource:) toTarget:self withObject:imgUrl];

3. éšå¼å®ä¾‹åŒ–

        [self performSelectorInBackground:@selector(loadImageSource:) withObject:imgUrl];
</code></pre><h3 id="çº¿ç¨‹é—´çš„é€šä¿¡"><a href="#çº¿ç¨‹é—´çš„é€šä¿¡" class="headerlink" title="çº¿ç¨‹é—´çš„é€šä¿¡"></a>çº¿ç¨‹é—´çš„é€šä¿¡</h3><pre><code>1. performSelector On The thread

        //åœ¨æŒ‡å®šçº¿ç¨‹ä¸Šæ‰§è¡Œæ“ä½œ
        [self performSelector:@selector(run) onThread:thread withObject:nil waitUntilDone:YES];
        //åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œæ“ä½œ
        [self performSelectorOnMainThread:@selector(run) withObject:nil waitUntilDone:YES];
        //åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œæ“ä½œ
        [self performSelector:@selector(run) withObject:nil];

2. Mach Port (äº†è§£)

    çˆ¶çº¿ç¨‹åˆ›å»ºäº†ä¸€ä¸ªNSMachPortå¯¹è±¡ï¼Œåœ¨åˆ›å»ºå­çº¿ç¨‹çš„æ—¶å€™ä¸€å‚æ•°çš„æ–¹å¼å°†å…¶ä¼ é€’ç»™å­çº¿ç¨‹ï¼Œè¿™æ ·å­çº¿ç¨‹å°±å¯ä»¥å‘è¿™ä¸ªä¼ è¿‡æ¥çš„NSMachPortå¯¹è±¡å‘é€æ¶ˆæ¯ï¼Œå¦‚æœæƒ³è®©çˆ¶çº¿ç¨‹ä¹Ÿå¯ä»¥å‘å­çº¿ç¨‹å‘ä¸ªç‰¹æ®Šæ¶ˆæ¯ï¼Œä¼ è¿‡æ¥çš„æ˜¯è‡ªå·±åˆ›å»ºçš„å¦ä¸€ä¸ªNSMachPortå¯¹è±¡ï¼Œè¿™æ ·çˆ¶çº¿ç¨‹ä¾¿æŒæœ‰äº†å­çº¿ç¨‹åˆ›å»ºçš„portå¯¹è±¡ï¼Œå¯ä»¥å‘è¿™ä¸ªå­çº¿ç¨‹çš„portå¯¹è±¡å‘é€æ¶ˆæ¯ã€‚

    å½“ç„¶å„è‡ªçš„portå¯¹è±¡éœ€è¦è®¾ç½®delegateä»¥åŠschduleåˆ°è‡ªå·±æ‰€åœ¨çº¿ç¨‹çš„RunLoopä¸­ï¼Œè¿™æ ·æ¥äº†æ¶ˆæ¯åï¼Œå¤„ç†portæ¶ˆæ¯çš„delegateæ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œä½ å°±å¯ä»¥è‡ªå·±å¤„ç†æ¶ˆæ¯äº†
</code></pre><h2 id="NSOperation"><a href="#NSOperation" class="headerlink" title="NSOperation"></a>NSOperation</h2><p>é€šè¿‡ç»§æ‰¿NSOperation,å¯ä»¥ä½¿å­ç±»è·å¾—ä¸€äº›çº¿ç¨‹ç›¸å…³çš„ç‰¹æ€§ï¼Œè¿›è€Œå®‰å…¨çš„ç®¡ç†çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼Œé…åˆNSOperationQueue, å¯ä»¥æ§åˆ¶çº¿ç¨‹é—´çš„ä¼˜å…ˆçº§å’Œä¾èµ–æ€§ã€‚</p>
<p>NSOperationæ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œä½†åŒæ—¶ä¹Ÿæä¾›äº†ä¸¤ä¸ªå¯ä»¥ç›´æ¥ä½¿ç”¨çš„å­ç±»ï¼š NSInvocationOperation å’ŒNSBlockOperation.[ä»»åŠ¡çš„å°è£…æ–¹å¼]</p>
<p>NSOperationQueueåˆ™ç”¨äºæ‰§è¡Œè®¡ç®—ä»»åŠ¡ï¼Œç®¡ç†è®¡ç®—ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œå¤„ç†è®¡ç®—ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–æ€§ã€‚NSOperationè¢«æ·»åŠ åˆ°NSOperationQueueä¸­ä¹‹åï¼Œé˜Ÿåˆ—ä¼šæŒ‰ä¼˜å…ˆçº§å’Œè¿›å…¥é¡ºåºè°ƒåº¦ä»»åŠ¡ï¼ŒNSOperation å¯¹è±¡è¢«è‡ªåŠ¨æ‰§è¡Œã€‚</p>
<h3 id="NSOperation-æä¾›ä¸€ä¸‹ä»»åŠ¡ä¼˜å…ˆçº§ï¼š"><a href="#NSOperation-æä¾›ä¸€ä¸‹ä»»åŠ¡ä¼˜å…ˆçº§ï¼š" class="headerlink" title="NSOperation æä¾›ä¸€ä¸‹ä»»åŠ¡ä¼˜å…ˆçº§ï¼š"></a>NSOperation æä¾›ä¸€ä¸‹ä»»åŠ¡ä¼˜å…ˆçº§ï¼š</h3><pre><code>NSOperationQueuePriorityVeryHigh
NSOperationQueuePriorityHigh
NSOperationQueuePriorityNormal
NSOperationQueuePriorityLow
NSOperationQueuePriorityVeryLow
</code></pre><h3 id="NSOperation-ä½¿ç”¨çŠ¶æ€æ¨¡å‹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨KVOè§‚å¯Ÿä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚"><a href="#NSOperation-ä½¿ç”¨çŠ¶æ€æ¨¡å‹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨KVOè§‚å¯Ÿä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚" class="headerlink" title="NSOperation ä½¿ç”¨çŠ¶æ€æ¨¡å‹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨KVOè§‚å¯Ÿä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚"></a>NSOperation ä½¿ç”¨çŠ¶æ€æ¨¡å‹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨KVOè§‚å¯Ÿä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚</h3><pre><code>isReady
isExecuting
isFinished
</code></pre><h3 id="NSOperation-å¯¹è±¡é—´çš„ä¾èµ–æ€§å¯ä»¥ï¼š"><a href="#NSOperation-å¯¹è±¡é—´çš„ä¾èµ–æ€§å¯ä»¥ï¼š" class="headerlink" title="NSOperation å¯¹è±¡é—´çš„ä¾èµ–æ€§å¯ä»¥ï¼š"></a>NSOperation å¯¹è±¡é—´çš„ä¾èµ–æ€§å¯ä»¥ï¼š</h3><pre><code>[refreshUIOperation addDependency:requestDataOperation];
[operationQueue addOperation:requestDataOperation];
[operationQueue addOperation:refreshUIOperation];
</code></pre><h3 id="NSOperationè¿˜æœ‰ä¸€ä¸ªâ€œå–æ¶ˆâ€åŠŸèƒ½ã€‚è°ƒç”¨NSOperation-çš„-cancle-æ–¹æ³•å³å¯ä»¥å–æ¶ˆè¯¥ä»»åŠ¡ï¼Œæœ‰åˆ©äºèŠ‚çœç³»ç»Ÿèµ„æº"><a href="#NSOperationè¿˜æœ‰ä¸€ä¸ªâ€œå–æ¶ˆâ€åŠŸèƒ½ã€‚è°ƒç”¨NSOperation-çš„-cancle-æ–¹æ³•å³å¯ä»¥å–æ¶ˆè¯¥ä»»åŠ¡ï¼Œæœ‰åˆ©äºèŠ‚çœç³»ç»Ÿèµ„æº" class="headerlink" title="NSOperationè¿˜æœ‰ä¸€ä¸ªâ€œå–æ¶ˆâ€åŠŸèƒ½ã€‚è°ƒç”¨NSOperation çš„ cancle: æ–¹æ³•å³å¯ä»¥å–æ¶ˆè¯¥ä»»åŠ¡ï¼Œæœ‰åˆ©äºèŠ‚çœç³»ç»Ÿèµ„æº"></a>NSOperationè¿˜æœ‰ä¸€ä¸ªâ€œå–æ¶ˆâ€åŠŸèƒ½ã€‚è°ƒç”¨NSOperation çš„ cancle: æ–¹æ³•å³å¯ä»¥å–æ¶ˆè¯¥ä»»åŠ¡ï¼Œæœ‰åˆ©äºèŠ‚çœç³»ç»Ÿèµ„æº</h3><h2 id="GCD"><a href="#GCD" class="headerlink" title="GCD"></a>GCD</h2><h3 id="GCDçš„åˆ†å‘é˜Ÿåˆ—ï¼š"><a href="#GCDçš„åˆ†å‘é˜Ÿåˆ—ï¼š" class="headerlink" title="GCDçš„åˆ†å‘é˜Ÿåˆ—ï¼š"></a>GCDçš„åˆ†å‘é˜Ÿåˆ—ï¼š</h3><pre><code> 1. `ä¸²è¡Œé˜Ÿåˆ—` Serial dispatch queue

ä¸²è¡Œåˆ†å‘é˜Ÿåˆ—ï¼ŒæŒ‰ç…§é¡ºåºæ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œä¸”åŒä¸€æ—¶é—´åªä¼šæ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚ä¸²è¡Œé˜Ÿåˆ—å¸¸ç”¨äºå®ç°åŒæ­¥é”, ç”±äºåœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ä¸ä¼šæœ‰ä¸¤ä¸ªä»»åŠ¡å¹¶å‘è¿è¡Œï¼Œå› æ­¤ä¸ä¼šå‡ºç°åŒæ—¶è®¿é—®ä¸´ç•ŒåŒºçš„é£é™©ï¼›ç›¸å¯¹äºè¿™äº›ä»»åŠ¡æ¥è¯´ï¼Œè¿™å°±ä»ç«æ€æ¡ä»¶ä¸‹ä¿æŠ¤äº†ä¸´ç•ŒåŒºã€‚æ‰€ä»¥å¦‚æœè®¿é—®ä¸´ç•ŒåŒºçš„å”¯ä¸€æ–¹å¼æ˜¯é€šè¿‡æäº¤åˆ°è°ƒåº¦é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆä½ å°±ä¸éœ€è¦æ‹…å¿ƒä¸´ç•ŒåŒºçš„å®‰å…¨é—®é¢˜äº†

 2. `å¹¶å‘é˜Ÿåˆ—` Concurrent dispatch queue

 åœ¨å¹¶å‘é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡èƒ½å¾—åˆ°çš„ä¿è¯æ˜¯å®ƒä»¬ä¼šæŒ‰ç…§è¢«æ·»åŠ çš„é¡ºåºå¼€å§‹æ‰§è¡Œï¼Œä½†è¿™å°±æ˜¯å…¨éƒ¨çš„ä¿è¯äº†ã€‚ä»»åŠ¡å¯èƒ½ä»¥ä»»æ„é¡ºåºå®Œæˆï¼Œä½ ä¸ä¼šçŸ¥é“ä½•æ—¶å¼€å§‹è¿è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œæˆ–è€…ä»»æ„æ—¶åˆ»æœ‰å¤šå°‘ Block åœ¨è¿è¡Œã€‚å†è¯´ä¸€éï¼Œè¿™å®Œå…¨å–å†³äº GCD ã€‚å¯¹äºnä¸ªå¹¶å‘é˜Ÿåˆ—ï¼ŒGCDä¸ä¼šåˆ›å»ºå¯¹åº”çš„nä¸ªçº¿ç¨‹è€Œæ˜¯è¿›è¡Œé€‚å½“çš„ä¼˜åŒ–
</code></pre><h3 id="é˜Ÿåˆ—ç±»å‹"><a href="#é˜Ÿåˆ—ç±»å‹" class="headerlink" title="é˜Ÿåˆ—ç±»å‹"></a>é˜Ÿåˆ—ç±»å‹</h3><pre><code>é¦–å…ˆï¼Œç³»ç»Ÿæä¾›ç»™ä½ ä¸€ä¸ªå«åš `ä¸»é˜Ÿåˆ—`ï¼ˆmain queueï¼‰ çš„ç‰¹æ®Šé˜Ÿåˆ—ã€‚å’Œå…¶å®ƒä¸²è¡Œé˜Ÿåˆ—ä¸€æ ·ï¼Œè¿™ä¸ªé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªã€‚ç„¶è€Œï¼Œå®ƒèƒ½ä¿è¯æ‰€æœ‰çš„ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œè€Œä¸»çº¿ç¨‹æ˜¯å”¯ä¸€å¯ç”¨äºæ›´æ–° UI çš„çº¿ç¨‹ã€‚è¿™ä¸ªé˜Ÿåˆ—å°±æ˜¯ç”¨äºå‘ç”Ÿæ¶ˆæ¯ç»™ UIView æˆ–å‘é€é€šçŸ¥çš„ã€‚

ç³»ç»ŸåŒæ—¶æä¾›ç»™ä½ å¥½å‡ ä¸ªå¹¶å‘é˜Ÿåˆ—ã€‚å®ƒä»¬å«åš `å…¨å±€è°ƒåº¦é˜Ÿåˆ—`ï¼ˆGlobal Dispatch Queuesï¼‰ ã€‚ç›®å‰çš„å››ä¸ªå…¨å±€é˜Ÿåˆ—æœ‰ç€ä¸åŒçš„ä¼˜å…ˆçº§ï¼šbackgroundã€lowã€default ä»¥åŠ highã€‚è¦çŸ¥é“ï¼ŒApple çš„ API ä¹Ÿä¼šä½¿ç”¨è¿™äº›é˜Ÿåˆ—ï¼Œæ‰€ä»¥ä½ æ·»åŠ çš„ä»»ä½•ä»»åŠ¡éƒ½ä¸ä¼šæ˜¯è¿™äº›é˜Ÿåˆ—ä¸­å”¯ä¸€çš„ä»»åŠ¡ã€‚
</code></pre><h3 id="GCDä»»åŠ¡æ‰§è¡Œæ–¹å¼"><a href="#GCDä»»åŠ¡æ‰§è¡Œæ–¹å¼" class="headerlink" title="GCDä»»åŠ¡æ‰§è¡Œæ–¹å¼"></a>GCDä»»åŠ¡æ‰§è¡Œæ–¹å¼</h3><pre><code>1. `å¼‚æ­¥`(dispatch_async): å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ä¹‹åï¼Œä¸»çº¿ç¨‹ä¸ä¼šç­‰å¾… block çš„è¿”å›ç»“æœï¼Œè€Œæ˜¯ç«‹å³ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ gcdç®¡ç†çš„çº¿ç¨‹æ± ä¸­æœ‰ç©ºé—²çº¿ç¨‹å°±ä¼šä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡ï¼Œä¼šå¼€å¯çº¿ç¨‹ã€‚
2. `åŒæ­¥`(dispatch_sync): ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ä¹‹åï¼Œä¸»çº¿ç¨‹è¢«é˜»å¡ï¼Œéœ€è¦ç­‰å¾… block çš„æ‰§è¡Œç»“æœè¿”å›ï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ä¸ä¼šå¼€å¯æ–°çº¿ç¨‹ï¼Œåœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œ
</code></pre><h3 id="å‡ ç§ç±»å‹"><a href="#å‡ ç§ç±»å‹" class="headerlink" title="å‡ ç§ç±»å‹"></a>å‡ ç§ç±»å‹</h3><pre><code>å¾ˆæ˜æ˜¾ä¸¤ç§æ‰§è¡Œæ–¹å¼ï¼Œä¸¤ç§é˜Ÿåˆ—ã€‚é‚£ä¹ˆå°±æœ‰4ä¸­æƒ…å†µï¼š ä¸²è¡Œé˜Ÿåˆ—åŒæ­¥æ‰§è¡Œã€ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥æ‰§è¡Œã€å¹¶è¡Œé˜Ÿåˆ—åŒæ­¥æ‰§è¡Œã€å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥æ‰§è¡Œã€‚å“ªä¸€ç§ä¼šå¼€å¯æ–°çš„çº¿ç¨‹ï¼Ÿå¼€å‡ æ¡ï¼Ÿæ˜¯å¦å¹¶å‘ï¼Ÿè®°å¿†èµ·æ¥æ¯”è¾ƒç»•ï¼Œä½†æ˜¯åªè¦æŠ“ä½åŸºæœ¬çš„å°±å¯ä»¥ï¼Œä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œç°åˆ†æå¦‚ä¸‹ï¼š

1. ä¸²è¡Œé˜Ÿåˆ—ï¼ŒåŒæ­¥æ‰§è¡Œ

        ä¸²è¡Œé˜Ÿåˆ—æ„å‘³ç€é¡ºåºæ‰§è¡Œï¼ŒåŒæ­¥æ‰§è¡Œæ„å‘³ç€ä¸å¼€å¯çº¿ç¨‹(åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œ)

2. ä¸²è¡Œé˜Ÿåˆ—ï¼Œå¼‚æ­¥æ‰§è¡Œ

        ä¸²è¡Œé˜Ÿåˆ—é¡ºåºæ‰§è¡Œï¼Œå¼‚æ­¥æ‰§è¡Œè¯´æ˜è¦å¼€çº¿ç¨‹ï¼Œå¦‚æœå¼€å¤šä¸ªçº¿ç¨‹çš„è¯ï¼Œä¸èƒ½ä¿è¯ä¸²è¡Œé˜Ÿåˆ—é¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥åªå¼€ä¸€ä¸ªçº¿ç¨‹

3. å¹¶è¡Œé˜Ÿåˆ—ï¼Œå¼‚æ­¥æ‰§è¡Œ

        å¹¶è¡Œé˜Ÿåˆ—æ‰§è¡Œé¡ºåºä¸ç¡®å®šï¼Œå¼‚æ­¥æ„å‘³ç€ä¼šå¼€å¯çº¿ç¨‹ï¼Œè€Œå¹¶è¡Œé˜Ÿåˆ—åˆå…è®¸ä¸æŒ‰é¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥ä¸ºäº†æé«˜æ€§èƒ½ä¼šå¼€å¯å¤šä¸ªçº¿ç¨‹æ¥é˜Ÿåˆ—å–ä»»åŠ¡.ï¼ˆé˜Ÿåˆ—ä¸­ä»»åŠ¡å–å‡ºä»»ç„¶æ˜¯é¡ºåºå–å‡ºæ¥çš„ï¼Œåªæ˜¯çº¿ç¨‹æ‰§è¡Œæ— åºï¼‰

4. å¹¶è¡Œé˜Ÿåˆ—ï¼ŒåŒæ­¥æ‰§è¡Œ

        åŒæ­¥æ„å‘³ç€ä¸ç¦»å¼€çº¿ç¨‹ï¼Œåˆ™è‚¯å®šæ˜¯é¡ºåºæ‰§è¡Œ
</code></pre><h2 id="iOSå¤šçº¿ç¨‹å¯¹æ¯”"><a href="#iOSå¤šçº¿ç¨‹å¯¹æ¯”" class="headerlink" title="iOSå¤šçº¿ç¨‹å¯¹æ¯”"></a>iOSå¤šçº¿ç¨‹å¯¹æ¯”</h2><table>
<thead>
<tr>
<th>é‡‡ç”¨æŠ€æœ¯</th>
<th>æè¿°</th>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>NSThread</td>
<td>æ¯ä¸ªNSThreadå¯¹è±¡å¯¹åº”ä¸€ä¸ªçº¿ç¨‹ï¼ŒçœŸæ­£æœ€åŸå§‹çš„çº¿ç¨‹ã€‚</td>
<td>NSThread è½»é‡çº§æœ€ä½ï¼Œç›¸å¯¹ç®€å•</td>
<td>æ‰‹åŠ¨ç®¡ç†æ‰€æœ‰çš„çº¿ç¨‹æ´»åŠ¨ï¼Œå¦‚ç”Ÿå‘½å‘¨æœŸã€çº¿ç¨‹åŒæ­¥ã€ç¡çœ ç­‰</td>
</tr>
<tr>
<td>NSOperation</td>
<td>è‡ªå¸¦çº¿ç¨‹ç®¡ç†çš„æŠ½è±¡ç±»</td>
<td>è‡ªå¸¦çº¿ç¨‹å‘¨æœŸç®¡ç†ï¼Œæ“ä½œä¸Šå¯æ›´æ³¨é‡è‡ªå·±é€»è¾‘</td>
<td>é¢å‘å¯¹è±¡çš„æŠ½è±¡ç±»ï¼Œåªèƒ½å®ç°å®ƒæˆ–è€…ä½¿ç”¨å®ƒå®šä¹‰å¥½çš„ä¸¤ä¸ªå­ç±»ï¼šNSInvocationOperation å’Œ NSBlockOperation</td>
</tr>
<tr>
<td>GCD</td>
<td>Grand Central Dispatch (GCD)æ˜¯Appleå¼€å‘çš„ä¸€ä¸ªå¤šæ ¸ç¼–ç¨‹çš„è§£å†³æ–¹æ³•</td>
<td>æœ€é«˜æ•ˆï¼Œé¿å¼€å¹¶å‘é™·é˜±</td>
<td>åŸºäºCå®ç°</td>
</tr>
</tbody>
</table>
<h2 id="å®é™…å¼€å‘ä¸­çš„é€‰æ‹©-ï¼ˆGCD-or-NSOperationï¼‰"><a href="#å®é™…å¼€å‘ä¸­çš„é€‰æ‹©-ï¼ˆGCD-or-NSOperationï¼‰" class="headerlink" title="å®é™…å¼€å‘ä¸­çš„é€‰æ‹© ï¼ˆGCD or NSOperationï¼‰"></a>å®é™…å¼€å‘ä¸­çš„é€‰æ‹© ï¼ˆGCD or NSOperationï¼‰</h2><p>GCD è™½ç„¶åœ¨å¾ˆå¤šåœ°æ–¹å€¼å¾—æå€¡ï¼Œä½†å¹¶ä¸æ˜¯ä»»åŠ¡ç®¡ç†å’Œå¤šçº¿ç¨‹åœ°å”¯ä¸€è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸æ˜¯è¯´æ‰€æœ‰çš„åœ°æ–¹éƒ½åº”è¯¥ä½¿ç”¨ GCDã€‚GCD æ˜¯ä¸€ä¸ªçº¯ C APIï¼ŒNSOperation æ˜¯ Objective-C ç±»ï¼Œåœ¨ä¸€äº›åœ°æ–¹å¯¹è±¡ç¼–ç¨‹æ˜¯æœ‰ä¼˜åŠ¿çš„ã€‚NSOperation ä¹Ÿæä¾›äº†ä¸€äº› GCD æ— æ³•å®ç°ï¼Œæˆ–è€… GCD æ‰€æ²¡æœ‰çš„åŠŸèƒ½ã€‚</p>
<p>è€ƒç•¥ä½¿ç”¨NSOperationçš„ä¸€äº›ï¼š</p>
<ul>
<li>å½“ä½ éœ€è¦å–æ¶ˆçº¿ç¨‹ä»»åŠ¡æ—¶ï¼ŒGCD æ— æ³•æä¾›å–æ¶ˆä»»åŠ¡çš„æ“ä½œã€‚è€Œ NSOperation æä¾›äº†å–æ¶ˆä»»åŠ¡çš„æ“ä½œ;</li>
<li>å½“ä½ éœ€è¦æ›´ç»†çš„ç²’åº¦åœ°è§‚å¯Ÿä»»åŠ¡æ”¹å˜äº†çŠ¶æ€æ—¶ï¼Œç”±äº NSOperation æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ¯”è¾ƒ GCD ä½¿ç”¨çš„ block è€Œè¨€ï¼Œé€šè¿‡å¯¹ NSOperation å¯¹è±¡è¿›è¡Œé”®å€¼è§‚å¯Ÿï¼ˆKVOï¼‰èƒ½å¾ˆå®¹æ˜“è§‚å¯Ÿåˆ°ä»»åŠ¡çš„çŠ¶æ€æ”¹å˜;<br>*<br>å½“ä½ éœ€è¦é‡ç”¨çº¿ç¨‹ä»»åŠ¡æ—¶ï¼ŒNSOperation ä½œä¸ºä¸€ä¸ªæ™®é€šçš„ Objective-C å¯¹è±¡ï¼Œå¯ä»¥å­˜å‚¨ä»»ä½•ä¿¡æ¯ã€‚å¯¹è±¡å°±æ˜¯ä¸ºé‡ç”¨è€Œè®¾è®¡çš„ï¼Œè¿™æ—¶ï¼ŒNSOperation æ¯” GCD ä½¿ç”¨çš„ block è¦æ›´æ–¹ä¾¿ã€‚</li>
</ul>
<p>å»ºè®®ï¼š</p>
<ul>
<li>èƒ½å¤Ÿä½¿ç”¨ GCD çš„åœ°æ–¹ï¼Œå°½é‡ä½¿ç”¨ GCD</li>
<li>åœ¨éœ€è¦æ›´ç»†ç²’åº¦æ§åˆ¶çº¿ç¨‹æ—¶ï¼Œè€ƒè™‘ NSOperation</li>
</ul>
<h2 id="iOSå¤šçº¿ç¨‹ä¸RunLoopçš„å…³ç³»"><a href="#iOSå¤šçº¿ç¨‹ä¸RunLoopçš„å…³ç³»" class="headerlink" title="iOSå¤šçº¿ç¨‹ä¸RunLoopçš„å…³ç³»"></a>iOSå¤šçº¿ç¨‹ä¸RunLoopçš„å…³ç³»</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œå®Œæˆåå°±ä¼šé€€å‡ºï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæœºåˆ¶ï¼Œè®©çº¿ç¨‹èƒ½éšæ—¶å¤„ç†äº‹ä»¶è€Œä¸é€€å‡ºï¼Œé‚£ä¹ˆè¿™å°±ç‰µæ‰¯åˆ°æˆ‘ä¸‹ç¯‡çš„åšå®¢æ–‡ç« äº†ã€‚RunLoopæ˜¯çº¿ç¨‹çš„åŸºæœ¬ <code>æ¶æ„æ¨¡å¼</code>ï¼Œå…³é”®ç‚¹åœ¨äºï¼š å¦‚ä½•å¤„ç†äº‹ä»¶/æ¶ˆæ¯ï¼Œå¦‚ä½•è®©çº¿ç¨‹åœ¨æ²¡æœ‰å¤„ç†æ¶ˆæ¯çš„æ—¶å€™ä¼‘çœ ä»¥é¿å…èµ„æºçš„å ç”¨ã€åœ¨æœ‰æ¶ˆæ¯çš„åˆ°æ¥æ—¶ç«‹åˆ»è¢«å”¤é†’ã€‚</p>
<blockquote>
<p>Run loops are part of the fundamental infrastructure associated with threads. A run loop is an event processing loop that you use to schedule work and coordinate the receipt of incoming events. The purpose of a run loop is to keep your thread busy when there is work to do and put your thread to sleep when there is none.</p>
</blockquote>
<p>ä»CFRunLoopGetMain()å’ŒCFRunLoopGetCurrent()çš„ä¸¤ä¸ªå‡½æ•°çš„å†…éƒ¨é€»è¾‘ä¸­ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºï¼Œçº¿ç¨‹å’ŒRunLoopä¹‹é—´æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå…¶å…³ç³»ä¿å­˜åœ¨ä¸€ä¸ªå…¨å±€çš„Directoryé‡Œã€‚å¹¶ä¸”runloopæ˜¯ä¸€ç§æ‡’åŠ è½½çš„å½¢å¼ï¼Œçº¿ç¨‹åˆ›å»ºæ—¶å¹¶æ²¡æœ‰RunLoopï¼Œå¦‚æœä½ ä¸ä¸»åŠ¨è·å–ï¼Œé‚£ä¹ˆå®ƒä¸€ç›´éƒ½ä¸ä¼šæœ‰ã€ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯æ²¡æœ‰å¿…è¦å»å¯ç”¨çº¿ç¨‹çš„RunLoopçš„ï¼Œé™¤éä½ åœ¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ä¸­éœ€è¦é•¿ä¹…çš„æ£€æµ‹æŸä¸ªäº‹ä»¶ï¼Œ å‡è®¾æˆ‘ä»¬æƒ³åœ¨æ–°å¼€çš„çº¿ç¨‹ä¸­ä½¿ç”¨NSTimerï¼Œå°±å¿…é¡»å¼€å¯runloopï¼Œå¯ä»¥ä½¿ç”¨[[NSRunLoop currentRunLoop] run]å¼€å¯å½“å‰çº¿ç¨‹ï¼Œè¿™æ˜¯å°±è¦è‡ªå·±ç®¡ç†çº¿ç¨‹çš„å›æ”¶ç­‰å·¥ä½œã€‚ã€‘ã€‚RunLoopçš„åˆ›å»ºæ˜¯å‘ç”Ÿåœ¨ç¬¬ä¸€æ¬¡è·å–æ—¶ï¼ŒRunLoopçš„é”€æ¯æ—¶å‘ç”Ÿåœ¨çº¿ç¨‹ç»“æŸæ—¶ã€‚ å¹¶ä¸”ä½ åªèƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹çš„å†…éƒ¨è·å–å…¶RunLoop(ä¸»çº¿ç¨‹é™¤å¤–ï¼Œ currentRunLoopå°±èƒ½è·å–).</p>
<pre><code>1.æ¯æ¡çº¿ç¨‹éƒ½æœ‰å”¯ä¸€çš„ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„RunLoopå¯¹è±¡
2.ä¸»çº¿ç¨‹çš„RunLoopå·²ç»è‡ªåŠ¨åˆ›å»ºå¥½äº†ï¼Œå­çº¿ç¨‹çš„RunLoopéœ€è¦ä¸»åŠ¨åˆ›å»º
3.RunLoopåœ¨ç¬¬ä¸€æ¬¡è·å–æ—¶åˆ›å»ºï¼Œåœ¨çº¿ç¨‹ç»“æŸæ—¶é”€æ¯
</code></pre><h2 id="iOSå¤šçº¿ç¨‹æ­»é”é—®é¢˜"><a href="#iOSå¤šçº¿ç¨‹æ­»é”é—®é¢˜" class="headerlink" title="iOSå¤šçº¿ç¨‹æ­»é”é—®é¢˜"></a>iOSå¤šçº¿ç¨‹æ­»é”é—®é¢˜</h2><p><img src="/images/sisuo.png" alt=""></p>
<p>åœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œå½“çº¿ç¨‹å¼€å§‹æ‰§è¡Œblock1æ—¶ï¼Œå¿…é¡»è¦æ‰§è¡Œé‡Œé¢çš„block2,è€Œç”±äºæ˜¯ä¸²è¡Œé˜Ÿåˆ—ï¼Œ block2åªèƒ½ç­‰block1æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œ, è¿™æ ·block1å’Œblock2çº¿ç¨‹çš„æ‰§è¡Œå°±ä¼šäº’ç›¸ç­‰å¾…ï¼Œé€ æˆæ­»é”ã€‚</p>
<h3 id="æ­»é”ä¸¾ä¾‹ï¼š"><a href="#æ­»é”ä¸¾ä¾‹ï¼š" class="headerlink" title="æ­»é”ä¸¾ä¾‹ï¼š"></a>æ­»é”ä¸¾ä¾‹ï¼š</h3><h4 id="ä¸»é˜Ÿåˆ—æ­»é”ï¼š"><a href="#ä¸»é˜Ÿåˆ—æ­»é”ï¼š" class="headerlink" title="ä¸»é˜Ÿåˆ—æ­»é”ï¼š"></a>ä¸»é˜Ÿåˆ—æ­»é”ï¼š</h4><pre><code>dispatch_sync(dispatch_get_main_queue(), ^{
    // å‘ç”Ÿæ­»é”ä¸‹é¢çš„ä»£ç ä¸ä¼šæ‰§è¡Œ
    NSLog(@&quot;middle&quot;);
});
</code></pre><h4 id="å…¶ä»–çº¿ç¨‹æ­»é”"><a href="#å…¶ä»–çº¿ç¨‹æ­»é”" class="headerlink" title="å…¶ä»–çº¿ç¨‹æ­»é”"></a>å…¶ä»–çº¿ç¨‹æ­»é”</h4><pre><code>dispatch_queue_t serialQueue = dispatch_queue_create(&quot;serial_queue&quot;, DISPATCH_QUEUE_SERIAL);
dispatch_async(serialQueue, ^{
    // ä¸²è¡Œé˜Ÿåˆ—block1
    NSLog(@&quot;begin&quot;);
    dispatch_sync(serialQueue, ^{
        // ä¸²è¡Œé˜Ÿåˆ—block2 å‘ç”Ÿæ­»é”ï¼Œä¸‹é¢çš„ä»£ç ä¸ä¼šæ‰§è¡Œ
        NSLog(@&quot;middle&quot;);
    });
    // ä¸ä¼šæ‰“å°
    NSLog(@&quot;end&quot;);
});
</code></pre><h2 id="æ‹“å±•å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹çŸ¥è¯†"><a href="#æ‹“å±•å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹çŸ¥è¯†" class="headerlink" title="æ‹“å±•å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹çŸ¥è¯†"></a>æ‹“å±•å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹çŸ¥è¯†</h2><h3 id="å•çº¿ç¨‹åŒæ­¥æ¨¡å‹"><a href="#å•çº¿ç¨‹åŒæ­¥æ¨¡å‹" class="headerlink" title="å•çº¿ç¨‹åŒæ­¥æ¨¡å‹"></a>å•çº¿ç¨‹åŒæ­¥æ¨¡å‹</h3><p><img src="/images/p01_sync.png" alt="åŒæ­¥æ¨¡å‹"></p>
<p>åœ¨ä¸€ä¸ªæ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªä»»åŠ¡åœ¨æ‰§è¡Œï¼Œå¹¶ä¸”å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸåä¸€ä¸ªä»»åŠ¡æ‰èƒ½å¼€å§‹ã€‚å¦‚æœä»»åŠ¡éƒ½èƒ½æŒ‰ç…§äº‹å…ˆè§„å®šå¥½çš„é¡ºåºæ‰§è¡Œï¼Œæœ€åä¸€ä¸ªä»»åŠ¡çš„å®Œæˆæ„å‘³ç€å‰é¢æ‰€æœ‰çš„ä»»åŠ¡éƒ½å·²æ— ä»»ä½•å·®é”™åœ°å®Œæˆå¹¶è¾“å‡ºå…¶å¯ç”¨çš„ç»“æœâ€”è¿™æ˜¯å¤šä¹ˆç®€å•çš„é€»è¾‘.</p>
<h3 id="çº¿ç¨‹æ¨¡å‹"><a href="#çº¿ç¨‹æ¨¡å‹" class="headerlink" title="çº¿ç¨‹æ¨¡å‹"></a>çº¿ç¨‹æ¨¡å‹</h3><p><img src="/images/p01_threaded.png" alt="çº¿ç¨‹æ¨¡å‹"></p>
<p>æ¯ä¸ªä»»åŠ¡éƒ½åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­å®Œæˆã€‚è¿™äº›çº¿ç¨‹éƒ½æ˜¯ç”±æ“ä½œç³»ç»Ÿæ¥ç®¡ç†ï¼Œè‹¥åœ¨å¤šå¤„ç†æœºã€å¤šæ ¸å¤„ç†æœºçš„ç³»ç»Ÿä¸­å¯èƒ½ä¼šç›¸äº’ç‹¬ç«‹çš„è¿è¡Œï¼Œè‹¥åœ¨å•å¤„ç†æœºä¸Šï¼Œåˆ™ä¼šäº¤é”™è¿è¡Œã€‚å…³é”®ç‚¹åœ¨äºï¼Œåœ¨çº¿ç¨‹æ¨¡å¼ä¸­ï¼Œå…·ä½“å“ªä¸ªä»»åŠ¡æ‰§è¡Œç”±æ“ä½œç³»ç»Ÿæ¥å¤„ç†ã€‚ä½†ç¼–ç¨‹äººå‘˜åˆ™åªéœ€ç®€å•åœ°è®¤ä¸ºï¼šå®ƒä»¬çš„æŒ‡ä»¤æµæ˜¯ç›¸äº’ç‹¬ç«‹ä¸”å¯ä»¥å¹¶è¡Œæ‰§è¡Œã€‚</p>
<h3 id="å¼‚æ­¥æ¨¡å‹"><a href="#å¼‚æ­¥æ¨¡å‹" class="headerlink" title="å¼‚æ­¥æ¨¡å‹"></a>å¼‚æ­¥æ¨¡å‹</h3><p><img src="/images/p01_async.png" alt="å¼‚æ­¥æ¨¡å‹"></p>
<p>å•çº¿ç¨‹å¤šä¸ªä»»åŠ¡åˆ†æ—¶å®Œæˆ(ä»»åŠ¡æ˜¯äº¤é”™å®Œæˆ)ã€‚</p>
<p>åœ¨å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ä¸å¤šçº¿ç¨‹æ¨¡å‹ä¹‹é—´è¿˜æœ‰ä¸€ä¸ªä¸åŒï¼šåœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œå¯¹äºåœæ­¢æŸä¸ªçº¿ç¨‹å¯åŠ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ï¼Œå…¶å†³å®šæƒå¹¶ä¸åœ¨ç¨‹åºå‘˜æ‰‹é‡Œè€Œåœ¨æ“ä½œç³»ç»Ÿé‚£é‡Œï¼Œåœ¨ç¼–å†™ç¨‹åºè¿‡ç¨‹ä¸­å¿…é¡»è¦å‡è®¾åœ¨ä»»ä½•æ—¶å€™ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰å¯èƒ½è¢«åœæ­¢è€Œå¯åŠ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ã€‚ç›¸åï¼Œåœ¨å¼‚æ­¥æ¨¡å‹ä¸­ï¼Œä¸€ä¸ªä»»åŠ¡è¦æƒ³è¿è¡Œå¿…é¡»æ˜¾å¼æ”¾å¼ƒå½“å‰è¿è¡Œçš„ä»»åŠ¡çš„æ§åˆ¶æƒã€‚è¿™ä¹Ÿæ˜¯ç›¸æ¯”å¤šçº¿ç¨‹æ¨¡å‹æ¥è¯´ï¼Œæœ€ç®€æ´çš„åœ°æ–¹ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š<code>å°†å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ä¸åŒæ­¥æ¨¡å‹æ··åˆåœ¨åŒä¸€ä¸ªç³»ç»Ÿä¸­æ˜¯å¯ä»¥çš„</code>ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/05/25/Swift-æ¨¡å¼åŒ¹é…/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/25/Swift-æ¨¡å¼åŒ¹é…/" itemprop="url">Swift æ¨¡å¼åŒ¹é…</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-05-25T09:15:52+08:00">
                2016-05-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/25/Swift-æ¨¡å¼åŒ¹é…/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/05/25/Swift-æ¨¡å¼åŒ¹é…/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/05/25/Swift-æ¨¡å¼åŒ¹é…/" class="leancloud_visitors" data-flag-title="Swift æ¨¡å¼åŒ¹é…">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="æ¨¡å¼åŒ¹é…è¿›é˜¶"><a href="#æ¨¡å¼åŒ¹é…è¿›é˜¶" class="headerlink" title="æ¨¡å¼åŒ¹é…è¿›é˜¶"></a>æ¨¡å¼åŒ¹é…è¿›é˜¶</h3><ol>
<li><p>é€šé…ç¬¦æ¨¡å¼</p>
<p> é€šé…ç¬¦æ¨¡å¼ä¼šå¿½ç•¥éœ€è¦åŒ¹é…çš„å€¼ï¼Œ <code>_</code></p>
</li>
<li><p>æ ‡ç¤ºæ¨¡å¼</p>
<p> åŒ¹é…å…·ä½“çš„å€¼</p>
</li>
<li><p>å€¼ç»‘å®šæ¨¡å¼</p>
<pre><code>switch (4, 5) {
    case let (x, y): print(&quot;\(x) \(y)&quot;)
}
</code></pre></li>
<li><p>å…ƒç»„æ¨¡å¼</p>
<pre><code>let age = 23
let job: String? = &quot;Operator&quot;
let payload: AnyObject = NSDictionary()

switch (age, job, payload) {
  case (let age, _?, _ as NSDictionary):
  print(age)
  default: ()
}
</code></pre></li>
<li><p>æšä¸¾Caseæ¨¡å¼</p>
</li>
<li><p>ç±»å‹è½¬æ¢æ¨¡å¼</p>
<ul>
<li>is ç±»å‹ï¼šåŒ¹é…å³æ‰‹è¾¹å†…å®¹çš„è¿è¡Œæ—¶ç±»å‹ï¼ˆæˆ–è€…ç±»å‹çš„å­ç±»ï¼‰ã€‚å®ƒä¼šåšç±»å‹è½¬æ¢ä½†æ˜¯ä¸å…³æ³¨è¿”å›å€¼ã€‚æ‰€ä»¥ä½ çš„ case å—ä¸çŸ¥é“æ‰€åŒ¹é…çš„ç±»å‹æ˜¯ä»€ä¹ˆã€‚</li>
<li><p>æ¨¡å¼ as ç±»å‹ï¼šå’Œ is æ¨¡å¼åšåŒæ ·çš„åŒ¹é…æ“ä½œï¼Œä½†æ˜¯å¦‚æœæˆåŠŸçš„è¯ä¼šæŠŠç±»å‹è½¬æ¢åˆ°å·¦ä¾§æŒ‡å®šçš„æ¨¡å¼ä¸­ã€‚</p>
<p>  let a: Any = 5<br>  switch a {</p>
<pre><code>// è¿™ä¼šå¤±è´¥å› ä¸ºå®ƒçš„ç±»å‹ä»ç„¶æ˜¯ `Any`
// é”™è¯¯: binary operator &apos;+&apos; cannot be applied to operands of type &apos;Any&apos; and &apos;Int&apos;
case is Int: print (a + 1)
// æœ‰æ•ˆå¹¶è¿”å› &apos;6&apos;
case let n as Int: print (n + 1)
default: ()
</code></pre><p>  }</p>
</li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://loveli.site/2016/05/24/Hexo-Use/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loveli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loveli">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/24/Hexo-Use/" itemprop="url">Hexo Use</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-05-24T15:31:03+08:00">
                2016-05-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/24/Hexo-Use/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/05/24/Hexo-Use/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/05/24/Hexo-Use/" class="leancloud_visitors" data-flag-title="Hexo Use">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œ ç»çŸ¥æ­¤äº‹è¦èº¬è¡Œ</p>
</blockquote>
<h3 id="æ–°å»ºåšæ–‡ï¼š"><a href="#æ–°å»ºåšæ–‡ï¼š" class="headerlink" title="æ–°å»ºåšæ–‡ï¼š"></a>æ–°å»ºåšæ–‡ï¼š</h3><p>  hexo new â€œæ–‡ç« é¢˜ç›®â€</p>
<h3 id="æ–°å»ºé¡µé¢ï¼š"><a href="#æ–°å»ºé¡µé¢ï¼š" class="headerlink" title="æ–°å»ºé¡µé¢ï¼š"></a>æ–°å»ºé¡µé¢ï¼š</h3><p>  hexo new page â€œé¡µé¢åç§°â€</p>
<h3 id="å‘å¸ƒåšæ–‡ï¼š"><a href="#å‘å¸ƒåšæ–‡ï¼š" class="headerlink" title="å‘å¸ƒåšæ–‡ï¼š"></a>å‘å¸ƒåšæ–‡ï¼š</h3><p>  hexo clean<br>  hexo generate<br>  hexo deploy</p>
<h3 id="NexTçš„ä¸»é¢˜é…ç½®"><a href="#NexTçš„ä¸»é¢˜é…ç½®" class="headerlink" title="NexTçš„ä¸»é¢˜é…ç½®"></a><a href="http://theme-next.iissnan.com/theme-settings.html#duoshuo-ua" target="_blank" rel="noopener">NexTçš„ä¸»é¢˜é…ç½®</a></h3><ol>
<li><p>æ·»åŠ ã€Œæ ‡ç­¾ã€é¡µé¢</p>
<pre><code>title: æ ‡ç­¾æµ‹è¯•æ–‡ç« 
tags:
- Testing
- Another Tag
---
</code></pre></li>
</ol>
<blockquote>
<p>å¯¹äºCNAMEå’ŒREADMEæ–‡ä»¶ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠä»–ä»¬æ”¾åœ¨sourceæ–‡ä»¶å¤¹ä¸­</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">loveli</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">70</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/OHeroJ" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-globe"></i>GitHub</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">loveli</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    

    





  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: '7uICtlktbqx7N1TEd1UP3AEB-gzGzoHsz',
        appKey: 'x22VJOsBnCbsSexO94REmioo',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("7uICtlktbqx7N1TEd1UP3AEB-gzGzoHsz", "x22VJOsBnCbsSexO94REmioo");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
