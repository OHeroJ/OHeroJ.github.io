<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="oheroj iOS python" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="OHeroJ">
<meta property="og:url" content="http://www.oheroj.com/index.html">
<meta property="og:site_name" content="OHeroJ">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="OHeroJ">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6263237426282497000,
      author: 'åšä¸»'
    }
  };
</script>

  <title> OHeroJ </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">OHeroJ</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">æµ®ç”Ÿæµå¹´</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/28/è‡ªå®šä¹‰xcodeæ¨¡æ¿/" itemprop="url">
                  è‡ªå®šä¹‰xcodeæ¨¡æ¿
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-28T22:52:23+08:00" content="2016-07-28">
              2016-07-28
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/28/è‡ªå®šä¹‰xcodeæ¨¡æ¿/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/28/è‡ªå®šä¹‰xcodeæ¨¡æ¿/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¸ºäº†é˜…è¯»ã€å¿«é€ŸæŸ¥è¯¢ä»£ç ç”¨çš„æ‰‹æ®µå°±æ˜¯åœ¨å†™ä»£ç çš„æ—¶å€™ ä½¿ç”¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark -</span><br><span class="line">#pragma mark</span><br><span class="line">....</span><br></pre></td></tr></table></figure></p>
<p>è¿™äº›æ¥å¯¹ä»£ç è¿›è¡Œåˆ†åŒºå—æ ‡æ³¨ï¼Œ è¿™æ˜¯ä¸ªå¾ˆä¸é”™çš„å¼€å‘ä¹ æƒ¯ã€‚</p>
<p>ä½†æ˜¯å¾€å¾€æœ‰äº›ä¸œè¥¿é‡å¤å¤šäº†ï¼Œæ„Ÿè§‰å°±æ˜¯åœ¨æµªè´¹æ—¶é—´:</p>
<p>æ¯”å¦‚ åœ¨<code>ViewController</code>æˆ‘ä»¬åŸºæœ¬ä¸Šéƒ½ä¼šæœ‰å¦‚ä¸‹çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - life cycle</span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - api</span><br><span class="line"></span><br><span class="line">#pragma mark - delegate</span><br><span class="line"></span><br><span class="line">#pragma mark - dataSource</span><br><span class="line"></span><br><span class="line">#pragma mark - netWork</span><br><span class="line"></span><br><span class="line">#pragma mark - event response</span><br><span class="line"></span><br><span class="line">#pragma mark - private methods</span><br><span class="line"></span><br><span class="line">#pragma mark - getter / setter</span><br></pre></td></tr></table></figure>
<p>åœ¨ <code>View</code>ä¸Šæˆ‘ä»¬ä¼šæœ‰å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - initial</span><br><span class="line"></span><br><span class="line">#pragma mark - add subviews (setup)</span><br><span class="line">- (void)setup &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">#pragma mark - view layouts</span><br><span class="line">- (void)layoutUI &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - public method</span><br><span class="line"></span><br><span class="line">#pragma mark - private method</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#pragma mark - getter / setter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#pragma mark - config test data</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>äº‹æƒ…å¯ä»¥é‡å¤1éï¼Œ2éï¼Œä½†æ˜¯å¦‚æœè¦é‡å¤3éï¼Œé‚£å°±å¿…é¡»å¾—é‡æ„äº†</p>
</blockquote>
<p>æ‰€ä»¥æˆ‘ä»¬æœ‰æ²¡æœ‰åŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ ç­”æ¡ˆå½“ç„¶æ˜¯æ˜¾ç„¶çš„ã€‚ åœ¨æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªUITableViewController çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°.mé‡Œé¢ä¼šç”Ÿæˆä¸€äº›é»˜è®¤ä»£ç ï¼Œé‚£ä¹ˆ æˆ‘ä»¬èƒ½å¦åˆ¶ä½œä¸€ä»½å‘¢ï¼Œ è¦æ€ä¹ˆåšï¼Ÿ</p>
<h3 id="can-do-how-do"><a href="#can-do-how-do" class="headerlink" title="can do ? how do?"></a>can do ? how do?</h3><h5 id="1-è¿™äº›æ–‡ä»¶åˆ°åº•æ˜¯ä»å“ªé‡Œç”Ÿæˆçš„ï¼Ÿ"><a href="#1-è¿™äº›æ–‡ä»¶åˆ°åº•æ˜¯ä»å“ªé‡Œç”Ÿæˆçš„ï¼Ÿ" class="headerlink" title="1. è¿™äº›æ–‡ä»¶åˆ°åº•æ˜¯ä»å“ªé‡Œç”Ÿæˆçš„ï¼Ÿ"></a>1. è¿™äº›æ–‡ä»¶åˆ°åº•æ˜¯ä»å“ªé‡Œç”Ÿæˆçš„ï¼Ÿ</h5><p>å¦‚æœåšè¿‡php, æˆ–è€…pythonçš„åŒå­¦ åº”è¯¥çŸ¥é“<code>æ¨¡æ¿å¼•æ“</code>, å…¶å®xcode ç”Ÿæˆçš„åŸç†ä¹Ÿå·®ä¸å¤šï¼Œæœ‰ä¸€ä»½æ¨¡æ¿æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ”¾åœ¨å«ä¸€ä¸ª<code>templates</code>çš„æ–‡ä»¶ç›®å½•ä¸‹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Applications/Xcode.app/Contents/Developer/Library/Xcode/Templates/</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ°è¿™ä¸ªç›®å½•ï¼š<br><img src="images/ddtemplate.png" alt="templates"></p>
<p><code>Templates</code>ä¸‹çš„ç›®å½•ç»“æ„æˆ‘å°±ä¸å†è¿™å¤šè¯´äº†ï¼Œæˆ‘ç›¸ä¿¡ä½ æœ‰è¿™ç§èƒ½åŠ›å‘ç°ä¸€äº›è§„å¾‹:<br><img src="images/ddxcode.png" alt="xcode"></p>
<p>å¯ä»¥å¯¹æ¯”ä¸Šé¢çš„ä¸¤ä¸ªå›¾ï¼Œ ä½ ä¼šçœ‹åˆ°é‚£ä¸ª<code>ç‰›å¤´</code>çš„å›¾æ ‡åœ¨ä¸Šé¢çš„ä¸¤å¼ å›¾ä¸­éƒ½æœ‰ä½“ç°ã€‚</p>
<h5 id="2-é‚£ä¹ˆViewController-xctemplate-é‡Œé¢æ”¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-é‚£ä¹ˆViewController-xctemplate-é‡Œé¢æ”¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2. é‚£ä¹ˆViewController.xctemplate é‡Œé¢æ”¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ"></a>2. é‚£ä¹ˆ<code>ViewController.xctemplate</code> é‡Œé¢æ”¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ</h5><ol>
<li>Templatelcon.png å°±æ˜¯ä¸€ä¸ªå›¾æ ‡ï¼Œ è¿™ä¸œè¥¿ä½ å¯ä»¥éšæ„æ¢ï¼Œå°±æ˜¯ä¸è¦æŠŠè¿™åå­—ç»™æ¢äº†</li>
<li><p>Templatelcon.plisté‡Œé¢æ˜¯ä¸€äº›é…ç½®çš„ä¸œè¥¿</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span><br><span class="line">&lt;plist version=&quot;1.0&quot;&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">	&lt;key&gt;AllowedTypes&lt;/key&gt;</span><br><span class="line">	&lt;array&gt;</span><br><span class="line">		&lt;string&gt;public.objective-c-source&lt;/string&gt;</span><br><span class="line">		&lt;string&gt;public.objective-c-plus-plus-source&lt;/string&gt;</span><br><span class="line">	&lt;/array&gt;</span><br><span class="line">	&lt;key&gt;DefaultCompletionName&lt;/key&gt;</span><br><span class="line">	&lt;string&gt;File&lt;/string&gt;</span><br><span class="line">	&lt;key&gt;Description&lt;/key&gt;</span><br><span class="line">	&lt;string&gt;è‡ªå®šä¹‰ viewController æ¨¡æ¿&lt;/string&gt;</span><br><span class="line">	&lt;key&gt;Kind&lt;/key&gt;</span><br><span class="line">	&lt;string&gt;Xcode.IDEKit.TextSubstitutionFileTemplateKind&lt;/string&gt;</span><br><span class="line">	&lt;key&gt;Options&lt;/key&gt;</span><br><span class="line">	&lt;array&gt;</span><br><span class="line">		&lt;dict&gt;</span><br><span class="line">			&lt;key&gt;Description&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;The name of the file to create&lt;/string&gt;</span><br><span class="line">			&lt;key&gt;Identifier&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;productName&lt;/string&gt;</span><br><span class="line">			&lt;key&gt;Name&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;File:&lt;/string&gt;</span><br><span class="line">			&lt;key&gt;NotPersisted&lt;/key&gt;</span><br><span class="line">			&lt;true/&gt;</span><br><span class="line">			&lt;key&gt;Required&lt;/key&gt;</span><br><span class="line">			&lt;true/&gt;</span><br><span class="line">			&lt;key&gt;Type&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;text&lt;/string&gt;</span><br><span class="line">		&lt;/dict&gt;</span><br><span class="line">		&lt;dict&gt;</span><br><span class="line">			&lt;key&gt;Default&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;UIViewController&lt;/string&gt;</span><br><span class="line">			&lt;key&gt;Description&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;What class to subclass in the new file&lt;/string&gt;</span><br><span class="line">			&lt;key&gt;FallbackHeader&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;#import &amp;lt;UIKit/UIKit.h&amp;gt;&lt;/string&gt;</span><br><span class="line">			&lt;key&gt;Identifier&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;cocoaSubclass&lt;/string&gt;</span><br><span class="line">			&lt;key&gt;Name&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;Subclass of:&lt;/string&gt;</span><br><span class="line">			&lt;key&gt;Required&lt;/key&gt;</span><br><span class="line">			&lt;true/&gt;</span><br><span class="line">			&lt;key&gt;Type&lt;/key&gt;</span><br><span class="line">			&lt;string&gt;class&lt;/string&gt;</span><br><span class="line">			&lt;key&gt;Values&lt;/key&gt;</span><br><span class="line">			&lt;array&gt;</span><br><span class="line">				&lt;string&gt;UIViewController&lt;/string&gt;</span><br><span class="line">			&lt;/array&gt;</span><br><span class="line">		&lt;/dict&gt;</span><br><span class="line">	&lt;/array&gt;</span><br><span class="line">	&lt;key&gt;SortOrder&lt;/key&gt;</span><br><span class="line">	&lt;string&gt;4&lt;/string&gt;</span><br><span class="line">	&lt;key&gt;Summary&lt;/key&gt;</span><br><span class="line">	&lt;string&gt;è‡ªå®šä¹‰ viewController æ¨¡æ¿&lt;/string&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;/plist&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>UIViewController è¿™æ–‡ä»¶å¤¹çš„ä¸œè¥¿ä½ å¯ä»¥å¯¹æ¯” Sourceæ–‡ä»¶ä¸‹çš„ç³»ç»Ÿé»˜è®¤çš„</p>
</li>
</ol>
<p>åœ¨<code>__FILEBASENAME__.H</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//</span><br><span class="line">//  ___FILEBASENAME___.h</span><br><span class="line">//  ___PROJECTNAME___</span><br><span class="line">//</span><br><span class="line">//  Created by ___FULLUSERNAME___ on ___DATE___.</span><br><span class="line">//___COPYRIGHT___</span><br><span class="line">//</span><br><span class="line"></span><br><span class="line">___IMPORTHEADER_cocoaSubclass___</span><br><span class="line"></span><br><span class="line">@interface ___FILEBASENAME___: ___VARIABLE_cocoaSubclass___</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ <code>__FILEBASENAME__.m</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">//</span><br><span class="line">//  ___FILEBASENAME___.m</span><br><span class="line">//  ___PROJECTNAME___e</span><br><span class="line">//</span><br><span class="line">//  Created by ___FULLUSERNAME___ on ___DATE___.</span><br><span class="line">//___COPYRIGHT___</span><br><span class="line">//</span><br><span class="line"></span><br><span class="line">#import &quot;___FILEBASENAME___.h&quot;</span><br><span class="line"></span><br><span class="line">@interface ___FILEBASENAME___ ()</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation ___FILEBASENAME___</span><br><span class="line"></span><br><span class="line">#pragma mark - life cycle</span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - api</span><br><span class="line"></span><br><span class="line">#pragma mark - delegate</span><br><span class="line"></span><br><span class="line">#pragma mark - dataSource</span><br><span class="line"></span><br><span class="line">#pragma mark - netWork</span><br><span class="line"></span><br><span class="line">#pragma mark - event response</span><br><span class="line"></span><br><span class="line">#pragma mark - private methods</span><br><span class="line"></span><br><span class="line">#pragma mark - getter / setter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ‰“å¼€ä¸€ä¸ªxcodeé¡¹ç›®ï¼Œ cmd + n</p>
<p>ç„¶åå¾ˆå¤šä½ æƒ³è¦çš„å°±æœ‰äº†ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/24/gitlabä¹‹gitbookè‡ªåŠ¨é›†æˆ/" itemprop="url">
                  gitlabä¹‹gitbookè‡ªåŠ¨é›†æˆ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-24T22:21:38+08:00" content="2016-07-24">
              2016-07-24
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/24/gitlabä¹‹gitbookè‡ªåŠ¨é›†æˆ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/24/gitlabä¹‹gitbookè‡ªåŠ¨é›†æˆ/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æœ€è¿‘æœ‰ä¸ªä»»åŠ¡æ˜¯ æƒ³é€šè¿‡ <code>gitlab</code> çš„ CI æ¥ç®¡ç† API æ–‡æ¡£ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½å¯ä»¥åœ¨ gitbook ä¸Šçœ‹åˆ°æœ‰å¾ˆå¤šäººå†™ä¹¦ï¼Œ<br>æ’ç‰ˆä½¿ç”¨ markdown, ä¸ªäººé’Ÿçˆ± markdown, åœ¨è¿™ä¸ªä»»åŠ¡ä¹‹å‰ï¼Œé„™äººæ²¡æœ‰æ¥è§¦è¿‡ gitlab, æ¥è§¦è¿‡ä¸€æ®µæ—¶é—´ï¼Œæ„Ÿè§‰æ æ çš„ï¼Œ<br>å¾ˆå–œæ¬¢è¿™ä¸ªå®ƒçš„æŒç»­åŒ–é›†æˆçš„åŠŸèƒ½ï¼Œç„¶åè¿˜æœ‰å¯ä»¥å…è´¹åˆ›å»ºç§æœ‰ä»“åº“ã€‚</p>
</blockquote>
<p>ä»Šå¤©æ¤å…¥ä¸»é¢˜ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•åœ¨ <strong>gitlab</strong> ä¸ŠæŒç»­é›†æˆæˆ‘ä»¬çš„ <strong>gitbook</strong> æ–‡æ¡£ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ–‡æ¡£ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ–‡æ¡£ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æ–‡æ¡£ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦æ–‡æ¡£ï¼Ÿ</h3><p>ä¸ªäººè§‰å¾—ï¼š</p>
<ol>
<li>å¦‚æœæ˜¯æ–°äººå…¥èŒçš„è¯ï¼Œæœ‰æ–‡æ¡£é‚£å¾ˆå¤šä¸œè¥¿å°±æ–¹ä¾¿å¤šäº†ï¼›</li>
<li>å¼€å‘ä¸€ä¸ªç»„ä»¶ï¼Œå†™å‡ºæ–‡æ¡£ï¼Œå¾ˆå¤šä¸œè¥¿å°±ä¸éœ€è¦é‡å¤ä»‹ç»ç»™ä½¿ç”¨çš„äºº</li>
<li>é™ä½æ²Ÿé€šæˆæœ¬å’Œç»´æŠ¤æˆæœ¬</li>
<li>æé«˜å¼€å‘æ•ˆç‡</li>
<li>å¯ä»¥æŠŠä¸€ä¸ªæ–°æŠ€æœ¯çš„æ¢ç ”åšæˆä¸€ä»½å­¦ä¹ è·¯çº¿æ–‡æ¡£ï¼Œè¿™æ ·åæ¥äººå°±å¯ä»¥å‡å°‘å­¦ä¹ çš„æˆæœ¬</li>
</ol>
<h3 id="éœ€è¦çš„å·¥å…·"><a href="#éœ€è¦çš„å·¥å…·" class="headerlink" title="éœ€è¦çš„å·¥å…·"></a>éœ€è¦çš„å·¥å…·</h3><ol>
<li><a href="https://www.sourcetreeapp.com" target="_blank" rel="external">SourceTree</a></li>
<li><a href="https://www.gitbook.com/editor/" target="_blank" rel="external">GitBookEditor</a></li>
<li><a href="https://github.com/GitbookIO/gitbook/blob/master/docs/setup.md" target="_blank" rel="external">GitBook</a></li>
</ol>
<h3 id="æ–‡æ¡£ç¼–å†™-markdown"><a href="#æ–‡æ¡£ç¼–å†™-markdown" class="headerlink" title="æ–‡æ¡£ç¼–å†™ markdown"></a>æ–‡æ¡£ç¼–å†™ <code>markdown</code></h3><p>è¯­æ³•å¯ <a href="http://www.jianshu.com/p/q81RER" target="_blank" rel="external">å‚è€ƒ</a></p>
<h3 id="gitbook-åŸºæœ¬ä½¿ç”¨"><a href="#gitbook-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="gitbook åŸºæœ¬ä½¿ç”¨"></a><code>gitbook</code> åŸºæœ¬ä½¿ç”¨</h3><p>ä½¿ç”¨å¯ <a href="http://www.chengweiyang.cn/gitbook/basic-usage/README.html" target="_blank" rel="external">å‚è€ƒ</a></p>
<h3 id="gitlabä¸ŠæŒç»­é›†æˆçš„æ­¥éª¤"><a href="#gitlabä¸ŠæŒç»­é›†æˆçš„æ­¥éª¤" class="headerlink" title="gitlabä¸ŠæŒç»­é›†æˆçš„æ­¥éª¤"></a><code>gitlab</code>ä¸ŠæŒç»­é›†æˆçš„æ­¥éª¤</h3><ol>
<li>åœ¨gitlabæ–°å»ºä¸€ä¸ªresposity</li>
<li>checkoutåˆ°æœ¬åœ°</li>
<li>åœ¨é¡¹ç›®ä¸Šæ–°å¢ä¸€ä¸ª .gitlab-ci.yml æ–‡ä»¶ å¹¶æäº¤åˆ° Gitlab</li>
</ol>
<h3 id="gitlab-çš„-gitlab-ci-ymlæ–‡ä»¶çš„ç¼–å†™"><a href="#gitlab-çš„-gitlab-ci-ymlæ–‡ä»¶çš„ç¼–å†™" class="headerlink" title="gitlab çš„ .gitlab-ci.ymlæ–‡ä»¶çš„ç¼–å†™"></a><code>gitlab</code> çš„ <code>.gitlab-ci.yml</code>æ–‡ä»¶çš„ç¼–å†™</h3><ol>
<li><a href="http://docs.gitlab.com/ce/ci/yaml/README.html" target="_blank" rel="external">.gitlab-ci.yml æŒ‡å—</a></li>
<li><p>æ–‡ä»¶å‚è€ƒä¹¦å†™ï¼š</p>
<pre><code>before_script:
- env
- export LC_ALL=zh_TW.UTF-8

stages:
- build

ebook:
stage: build
script:
- gitbook pdf
artifacts:
paths:
  - book.pdf
only:
- master

image: shuoshuo/gitbook-builder:latest
</code></pre></li>
</ol>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol>
<li><a href="http://www.jianshu.com/p/e650aac83f7a" target="_blank" rel="external">gitbookåœ¨ç§æœ‰gitlabä¸ŠæŒç»­é›†æˆ</a></li>
<li><p><a href="http://docs.gitlab.com/ce/ci/yaml/README.html" target="_blank" rel="external">Configuration of your builds with .gitlab-ci.yml</a></p>
</li>
<li><p><a href="http://www.jianshu.com/p/q81RER" target="_blank" rel="external">çŒ®ç»™å†™ä½œè€…çš„ Markdown æ–°æ‰‹æŒ‡å—</a></p>
</li>
<li><a href="http://www.jianshu.com/p/168c0c1c7e4f" target="_blank" rel="external">æ•æ·å¼€å‘ä¹‹APIç®¡ç†ä¹‹é“</a></li>
<li><a href="http://www.jianshu.com/p/2b43151fb92e/comments/2348175" target="_blank" rel="external">GitLab-CIä¸GitLab-Runner</a></li>
<li><a href="https://yudachi.biz/2016/05/27/moving-to-gitlab-pages/" target="_blank" rel="external">åŸºåœ°è½¬ç§»ï¼ä» GitHub Pages è½¬ç§»åˆ° GitLab Pages</a></li>
<li><a href="https://medium.com/@shuoshuo/å¤šäººå…±ç­†ä¸”è‡ªå‹•ç”¢ç”Ÿ-pdf-ç‰ˆé›»å­æ›¸-5a0f1053c069#.8qic6kquk" target="_blank" rel="external">å¤šäººå…±ç­†ä¸”è‡ªå‹•ç”¢ç”Ÿ PDF ç‰ˆé›»å­æ›¸</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/16/iOSä¹‹cocoapods/" itemprop="url">
                  iOSä¹‹cocoapods
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-16T07:06:01+08:00" content="2016-07-16">
              2016-07-16
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/16/iOSä¹‹cocoapods/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/16/iOSä¹‹cocoapods/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>å¾ˆå¤šä¸œè¥¿å°±ä¸åœ¨æ­¤å•°å—¦äº†ï¼Œ æ ¹æ® <a href="http://blog.devtang.com/2014/05/25/use-cocoapod-to-manage-ios-lib-dependency/" target="_blank" rel="external">è¿™ç¯‡åšå®¢</a> å°±å¯ä»¥å¾ˆæ„‰å¿«çš„ç©ä¸Šä½ çš„cocoapodsäº†</p>
</blockquote>
<p>ä»Šå¤©æƒ³è¯´çš„æ˜¯å…³äºè‡ªå·±åœ¨ä½¿ç”¨ä¸Šé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼š</p>
<h3 id="1-cocoapods-é‡è£…é—®é¢˜"><a href="#1-cocoapods-é‡è£…é—®é¢˜" class="headerlink" title="1. cocoapods é‡è£…é—®é¢˜"></a>1. cocoapods é‡è£…é—®é¢˜</h3><h4 id="1-å¸è½½"><a href="#1-å¸è½½" class="headerlink" title="1. å¸è½½"></a>1. å¸è½½</h4><pre><code>sudo gem uninstall cocoapods

// ä½ ä¹Ÿå¯ä»¥å¸è½½æŒ‡å®šç‰ˆæœ¬çš„cocoapods
// sudo gem uninstall cocoapods -v 0.38

// å¯¹äºå¦‚ä½•æŸ¥çœ‹ä½ å®‰è£…çš„ç‰ˆæœ¬
// gem list
</code></pre><h4 id="2-é‡è£…"><a href="#2-é‡è£…" class="headerlink" title="2. é‡è£…"></a>2. é‡è£…</h4><pre><code>// æ£€æµ‹ä½ å®‰è£…çš„ ruby çš„ç‰ˆæœ¬æ˜¯å¦æ˜¯è¯¥ cocoapods æ‰€æ”¯æŒçš„
sudo gem update --system  
sudo gem install cocoapods
// æˆ–è€…å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„
// sudo gem install cocoapods -v 1.0.0
</code></pre><h4 id="3-pod-setup"><a href="#3-pod-setup" class="headerlink" title="3. pod setup"></a>3. pod setup</h4><p>è¿™å—æ‹å‡ºæ¥è®²æ˜¯æœ‰åŸå› çš„ï¼Œ ä¸»è¦æ˜¯åœ¨æ‰§è¡Œä¸Šé¢çš„ 1ï¼Œ2 å…¶å®å¾ˆå…³é”®çš„å°±æ˜¯è¿™ä¸ª setup è¿™æ­¥ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½ä¾èµ–äºè¿™ä¸ªã€‚</p>
<p>é‚£ä¹ˆè¿™éƒ¨åšäº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ</p>
<pre><code>cd ~/.cocoapods/repos/
</code></pre><p>ä¼šæœ‰ä¸ª <code>master</code> æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å¤¹çš„ä¸œè¥¿å°±æ˜¯è¿™ä¸ª <code>pod setup</code>ç”Ÿæˆçš„ã€‚å¯¹äºè¿™ä¸ªæˆ‘ä»¬åœ¨æ¯æ¬¡<code>pod install or pod update</code> çš„æ—¶å€™ï¼Œä¹Ÿä¼šç‰µæ‰¯åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ã€‚</p>
<pre><code>// åˆ‡åˆ€è¿™ä¸ª ~/.cocoapods/repos/
du -sh *

// æˆ‘è¿™è¾¹æ˜¾ç¤ºçš„ç»“æœæ˜¯
779M  master
</code></pre><p>779Mï¼Œ è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ pod setup è¿™ä¹ˆæ…¢çš„åŸå› å§(æ‰€ä»¥åœ¨setup çš„æ—¶å€™æœ€å¥½æ˜¯èƒ½åœ¨æ¯”è¾ƒç¨³å®šä¸”å¿«é€Ÿçš„ç½‘ç»œä¸‹è¿›è¡Œï¼Œ æˆ‘å°±å› ä¸ºå…¬å¸çš„ç½‘ç»œé—®é¢˜ï¼Œ ä¸‹äº†nä¾¿ï¼Œç»“æœæ²¡æˆåŠŸ)ã€‚</p>
<p>é‚£ä¹ˆå¦‚æœæˆ‘ä»¬å°±æ˜¯ setup ä¸æˆåŠŸï¼Œ é‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥å¦å¯»å…¶ä»–çš„è·¯ï¼šæˆ‘ä»¬å¯ä»¥å‘æœ‹å‹å«ä»–ä»¬ zip å‡ºè¿™ä¸ªåŒ…ç»™ä½ ,ç„¶åæ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹å°±å¥½ã€‚</p>
<h4 id="4-å¯èƒ½ä¼šæœ‰çš„å‘"><a href="#4-å¯èƒ½ä¼šæœ‰çš„å‘" class="headerlink" title="4. å¯èƒ½ä¼šæœ‰çš„å‘"></a>4. å¯èƒ½ä¼šæœ‰çš„å‘</h4><h5 id="1-æœç´¢æ—¶æŠ¥é”™"><a href="#1-æœç´¢æ—¶æŠ¥é”™" class="headerlink" title="1. æœç´¢æ—¶æŠ¥é”™"></a>1. æœç´¢æ—¶æŠ¥é”™</h5><pre><code>pod search  AFNetworking
</code></pre><p>å‡ºç°äº† <code>[!] Unable to find a pod with name, author, summary, or descriptionmatching</code>AFNetworking``</p>
<p>è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p>
<pre><code>rm ~/Library/Caches/CocoaPods/search_index.json

// ç„¶å
pod search AFNetworking
</code></pre><h5 id="2-1-0ä»¥ä¸Šçš„ç‰ˆæœ¬-è®°å¾—è®¾ç½®-target"><a href="#2-1-0ä»¥ä¸Šçš„ç‰ˆæœ¬-è®°å¾—è®¾ç½®-target" class="headerlink" title="2. 1.0ä»¥ä¸Šçš„ç‰ˆæœ¬  è®°å¾—è®¾ç½® target"></a>2. 1.0ä»¥ä¸Šçš„ç‰ˆæœ¬  è®°å¾—è®¾ç½® target</h5><h5 id="3-pod-install-æˆ–è€…-pod-update-å¾ˆæ…¢"><a href="#3-pod-install-æˆ–è€…-pod-update-å¾ˆæ…¢" class="headerlink" title="3. pod install æˆ–è€… pod update å¾ˆæ…¢"></a>3. pod install æˆ–è€… pod update å¾ˆæ…¢</h5><pre><code>pod install --verbose --no-repo-update
pod update --verbose --no-repo-update
</code></pre><p>åŸå› åœ¨äºå½“æ‰§è¡Œä»¥ä¸Šä¸¤ä¸ªå‘½ä»¤çš„æ—¶å€™ä¼šå‡çº§CocoaPodsçš„specä»“åº“ï¼ŒåŠ ä¸€ä¸ªå‚æ•°å¯ä»¥çœç•¥è¿™ä¸€æ­¥ï¼Œç„¶åé€Ÿåº¦å°±ä¼šæå‡ä¸å°‘</p>
<h4 id="5-å‚è€ƒ"><a href="#5-å‚è€ƒ" class="headerlink" title="5. å‚è€ƒ"></a>5. å‚è€ƒ</h4><ol>
<li><a href="http://blog.devtang.com/2014/05/25/use-cocoapod-to-manage-ios-lib-dependency/" target="_blank" rel="external">ç”¨CocoaPodsåšiOSç¨‹åºçš„ä¾èµ–ç®¡ç†</a></li>
<li><a href="https://segmentfault.com/a/1190000005011497" target="_blank" rel="external">æ‹¥æŠ± CocoaPods 1.0</a></li>
<li><a href="http://www.jianshu.com/p/f79589c21dc4" target="_blank" rel="external">Cocoapodså®‰è£…ä½¿ç”¨ä»¥åŠå®Œå…¨å¸è½½</a></li>
<li><a href="http://my.oschina.net/u/2559341/blog/592738#OSC_h3_10" target="_blank" rel="external">CocoaPodsè¯¦è§£ä¹‹â€”-ä½¿ç”¨ç¯‡ pod install/pod updateæ›´æ–°æ…¢çš„é—®é¢˜</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/10/swiftä¹‹åå°Vaporåˆæ­¥/" itemprop="url">
                  swiftä¹‹åå°Vaporåˆæ­¥
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-10T17:27:32+08:00" content="2016-07-10">
              2016-07-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/10/swiftä¹‹åå°Vaporåˆæ­¥/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/10/swiftä¹‹åå°Vaporåˆæ­¥/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>è¿‘æ—¥ï¼Œå‘ç°Vaporç›¸åº”åŠŸèƒ½éƒ½åŸºæœ¬å®Œå·¥äº†ã€‚ä¹‹å‰çš„æ—©æœŸç‰ˆæœ¬è‡ªå·±ä¹Ÿå°è¯•è¿‡ï¼Œæ„Ÿè§‰è¿™ä¸ªåº“å¾ˆç¬¦åˆè‡ªå·±çš„å£å‘³ã€‚æ—©æœŸvaporå®šä½æ˜¯swiftç‰ˆçš„Laravel.æ­£å¦‚å®ƒè‡ªå·±æå†™<br>â€œVapor is the first true web framework for Swift. It provides a beautifully expressive and easy to use foundation for your next website or API.â€<br>å¦‚æœä½¿ç”¨PHP Laravelçš„åŒå­¦åº”è¯¥çŸ¥é“ï¼Œè¿™ä¸ªåº“çš„å¾ˆæœ‰è‰ºæœ¯æ€§ï¼Œå¾ˆä¼˜ç¾<br>â€œThe PHP Framework For Web Artisansâ€<br>swiftçš„å¹´è½»æ‰€ä»¥æœ‰å¾ˆå¤šåœ°æ–¹ä¹Ÿé€ å°±äº†vaporçš„å¹´è½»<br>æ‰€ä»¥åœ¨ä½¿ç”¨vaporçš„æ—¶å€™å¹¶ä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿ï¼Œå‘è¿˜æ˜¯ä¸å°‘çš„ã€‚</p>
</blockquote>
<hr>
<p>ç¯å¢ƒï¼š  xcode7.3.1  macOS 10.11.6</p>
<h3 id="swift-ç‰ˆæœ¬çš„é€‰æ‹©"><a href="#swift-ç‰ˆæœ¬çš„é€‰æ‹©" class="headerlink" title="swift ç‰ˆæœ¬çš„é€‰æ‹©"></a>swift ç‰ˆæœ¬çš„é€‰æ‹©</h3><p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æƒ³è¯´ç”¨swiftenvæ¥è§£å†³å§</p>
<pre><code>brew install kylef/formulae/swiftenv
</code></pre><h3 id="vapor-CLIçš„å®‰è£…"><a href="#vapor-CLIçš„å®‰è£…" class="headerlink" title="vapor CLIçš„å®‰è£…"></a>vapor CLIçš„å®‰è£…</h3><pre><code>curl -L cli.qutheory.io -o vapor
chmod +x vapor
sudo mv vapor /usr/local/bin
</code></pre><h3 id="vapor"><a href="#vapor" class="headerlink" title="vapor"></a>vapor</h3><p>å¦‚æœä½ æƒ³ä½¿ç”¨vapor çš„demoçš„è¯ï¼Œç›´æ¥ç”¨<code>vapor new yourDemo</code>, è¿™ä¸ªæ—¶å€™ä½ çš„é¡¹ç›®å°±ä¸æ˜¯çº¯å‡€çš„ï¼Œå½“ç„¶å¯èƒ½ä¼šå¼•å‘å‡ºç›¸å…³é—®é¢˜ï¼Œæˆ‘è¿™è¾¹ç¢°åˆ°çš„æ˜¯ ï¼Œ vapor CLIçš„ç‰ˆæœ¬æ˜¯5.3, è¿™ä¸ªç‰ˆæœ¬å¯¹åº”çš„swiftç‰ˆæœ¬æ˜¯<code>DEVELOPMENT-SNAPSHOT-2016-06-06-a</code>, ä½†æ˜¯è¿™ä¸ªæ—¶å€™è¿™ä¸ªnewå‡ºæ¥çš„é¡¹ç›®çš„ç‰ˆæœ¬æ˜¯ <code>DEVELOPMENT-SNAPSHOT-2016-06-20-a</code>,æ‰€ä»¥è¿™å°±åœ¨â€˜vapor newâ€™çš„æ—¶å€™ä¼šå‡ºç°å¤±è´¥, å¹¶ä¸”xcode7 ä¹Ÿä¸èƒ½æ‰“å¼€è¿™ä¸ªé¡¹ç›®ã€‚</p>
<h4 id="å¦‚ä½•æ„å»ºä¸€ä¸ªçº¯å‡€ç‰ˆçš„Vaporé¡¹ç›®"><a href="#å¦‚ä½•æ„å»ºä¸€ä¸ªçº¯å‡€ç‰ˆçš„Vaporé¡¹ç›®" class="headerlink" title="å¦‚ä½•æ„å»ºä¸€ä¸ªçº¯å‡€ç‰ˆçš„Vaporé¡¹ç›®?"></a>å¦‚ä½•æ„å»ºä¸€ä¸ªçº¯å‡€ç‰ˆçš„Vaporé¡¹ç›®?</h4><ol>
<li><code>mkdir blog</code>åˆ›å»ºä¸€ä¸ªblogæ–‡ä»¶å¤¹</li>
<li><code>swift package init</code> åˆ›å»ºä¸€ä¸ªåŸºæœ¬é¡¹ç›®</li>
<li><p><code>atom Package.swift</code> ä¿®æ”¹ Package.swift, è¿™é‡Œä¸¾ä¾‹ï¼š</p>
<pre><code>import PackageDescription

let package = Package(
    name: &quot;blog&quot;,
    dependencies: [
        .Package(url: &quot;https://github.com/qutheory/vapor.git&quot;, majorVersion: 0, minor: 12),

    ],
    exclude: [
        &quot;Config&quot;,
        &quot;Database&quot;,
        &quot;Localization&quot;,
        &quot;Public&quot;,
        &quot;Resources&quot;,
        &quot;Tests&quot;,
    ]
)
</code></pre></li>
<li><p>Sourceæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ”¹åä¸º <code>main.swift</code>ï¼Œ åœ¨é‡Œé¢ç¼–å†™å¦‚ä¸‹ä¸€æ®µä»£ç ï¼š</p>
<pre><code>import Vapor

let drop = Application()

drop.get(&quot;welcome&quot;) { request in

    return  &quot;hello, world&quot;
}

drop.start()
</code></pre></li>
<li><p>å…ˆ<code>vapor build</code>,ç„¶å <code>vapor xcode</code>ï¼Œ ä¼šè‡ªåŠ¨ç”¨xcodeæ‰“å¼€è¿™ä¸ªé¡¹ç›®.</p>
</li>
<li>ç”¨xcode è¿è¡Œè¿™ä¸ªé¡¹ç›®ï¼ˆé€‰ä¸­ä½ è¿™ä¸ªé¡¹ç›®ï¼‰, ç„¶ååœ¨æµè§ˆå™¨ä¸­è¾“å…¥:<code>0.0.0.0:8080/welcome</code>, ä½ ä¼šç¥å¥‡çš„å‘ç°å‡ºç°äº†<code>hello, world</code>ã€‚</li>
</ol>
<h3 id="å¦‚ä½•ä½“éªŒ-vaporçš„æ›´å¤šåŠŸèƒ½"><a href="#å¦‚ä½•ä½“éªŒ-vaporçš„æ›´å¤šåŠŸèƒ½" class="headerlink" title="å¦‚ä½•ä½“éªŒ vaporçš„æ›´å¤šåŠŸèƒ½"></a>å¦‚ä½•ä½“éªŒ vaporçš„æ›´å¤šåŠŸèƒ½</h3><ol>
<li><p>è¯·å‚è€ƒå…¶ <a href="https://vapor.readme.io/docs" target="_blank" rel="external">doc</a></p>
</li>
<li><p>vaporçš„é¼»ç¥–çš„<a href="https://www.youtube.com/watch?v=OuPT2FFKCos" target="_blank" rel="external">æ•™å­¦è§†é¢‘</a></p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/02/iOSç›´æ’­Tutorials/" itemprop="url">
                  iOSç›´æ’­Tutorials
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-02T20:05:33+08:00" content="2016-07-02">
              2016-07-02
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/02/iOSç›´æ’­Tutorials/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/02/iOSç›´æ’­Tutorials/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-ç›´æ’­ç›¸å…³åŸºæœ¬çŸ¥è¯†"><a href="#1-ç›´æ’­ç›¸å…³åŸºæœ¬çŸ¥è¯†" class="headerlink" title="1.ç›´æ’­ç›¸å…³åŸºæœ¬çŸ¥è¯†"></a>1.ç›´æ’­ç›¸å…³åŸºæœ¬çŸ¥è¯†</h2><h3 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h3><pre><code>* ç›®å‰ä¸»æµé‡‡ç”¨ æœåŠ¡å™¨åŸºäº`nginx`ï¼Œå¹¶ä¸”ä½¿ç”¨æ¨¡å—[nginx-rtmp-module](https://github.com/arut/nginx-rtmp-module)æ¨¡å—æ¥å¢åŠ å¯¹HLSçš„æ”¯æŒã€‚
</code></pre><h3 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®:"></a>åè®®:</h3><p>å›½å†…å¸¸è§å…¬å¼€çš„ç›´æ’­åè®®æœ‰å‡ ä¸ªï¼šRTMPã€HLSã€HDLï¼ˆHTTP-FLVï¼‰ã€RTPï¼Œ æˆ‘ä»¬ä¸»è¦ä»‹ç» RTMP å’Œ HLS</p>
<ul>
<li><p><code>RTMP</code>(<a href="http://www.adobe.com/cn/devnet/rtmp.html" target="_blank" rel="external">Real Time Messaging Protocol</a>) åè®®</p>
<p>  Adobeå…¬å¸ä¸ºFlashæ’­æ”¾å™¨å’ŒæœåŠ¡å™¨ä¹‹é—´éŸ³ã€è§†é¢‘åŠæ•°æ®ä¼ è¾“å¼€å‘çš„å®æ—¶æ¶ˆæ¯ä¼ é€åè®®ã€‚åè®®ä¸­ï¼Œè§†é¢‘å¿…é¡»æ˜¯H264ç¼–ç ï¼ŒéŸ³é¢‘å¿…é¡»æ˜¯AACæˆ–MP3ç¼–ç ï¼Œä¸”å¤šä»¥flvæ ¼å¼å°åŒ…</p>
<ol>
<li>å¼€æºè½¯ä»¶å’Œå¼€æºåº“çš„æ”¯æŒç¨³å®šå®Œæ•´ã€‚å¦‚æ–—é±¼ä¸»æ’­å¸¸ç”¨çš„OBSè½¯ä»¶ï¼Œå¼€æºçš„librtmpåº“ï¼ŒæœåŠ¡ç«¯æœ‰nginx-rtmpæ’ä»¶ã€‚</li>
<li>æ’­æ”¾ç«¯å®‰è£…ç‡é«˜ã€‚åªè¦æµè§ˆå™¨æ”¯æŒFlashPlayerå°±èƒ½éå¸¸ç®€æ˜“çš„æ’­æ”¾RTMPçš„ç›´æ’­ï¼Œåè®®è¯¦è§£å¯ä»¥Googleäº†è§£ã€‚ç›¸å¯¹å…¶ä»–åè®®è€Œè¨€ï¼ŒRTMPåè®®åˆæ¬¡å»ºç«‹è¿æ¥çš„æ—¶å€™æ¡æ‰‹è¿‡ç¨‹è¿‡äºå¤æ‚ï¼ˆåº•å±‚åŸºäºTCPï¼Œè¿™é‡Œè¯´çš„æ˜¯RTMPåè®®æœ¬èº«çš„äº¤äº’ï¼‰ï¼Œè§†ä¸åŒçš„ç½‘ç»œçŠ¶å†µä¼šå¸¦æ¥ç»™é¦–å¼€å¸¦æ¥100msä»¥ä¸Šçš„å»¶è¿Ÿã€‚åŸºäºRTMPçš„ç›´æ’­ä¸€èˆ¬å†…å®¹å»¶è¿Ÿåœ¨2~5ç§’ã€‚</li>
</ol>
</li>
<li><p><code>HLS</code>(<a href="https://developer.apple.com/streaming/" target="_blank" rel="external">HTTP Live Streaming</a>) åè®®</p>
<p>  æ˜¯ç”±Appleå…¬å¸å®šä¹‰çš„åŸºäºHTTPçš„æµåª’ä½“å®æ—¶ä¼ è¾“åè®®ã€‚å®ƒçš„åŸç†æ˜¯å°†æ•´ä¸ªæµåˆ†ä¸ºä¸€ä¸ªä¸€ä¸ªå°çš„æ–‡ä»¶æ¥ä¸‹è½½ï¼Œæ¯æ¬¡åªä¸‹è½½è‹¥å¹²ä¸ªã€‚ä¼ è¾“å†…å®¹åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼šä¸€æ˜¯<code>M3U8</code>æè¿°æ–‡ä»¶ï¼ŒäºŒæ˜¯<code>TS</code>åª’ä½“æ–‡ä»¶ã€‚TSåª’ä½“æ–‡ä»¶ä¸­çš„è§†é¢‘å¿…é¡»æ˜¯<code>H264</code>ç¼–ç ,éŸ³é¢‘å¿…é¡»æ˜¯<code>AAC</code>æˆ–<code>MP3</code>ç¼–ç ã€‚</p>
<p>  HLSåè®®åœ¨æœåŠ¡å™¨ç«¯å°†ç›´æ’­æ•°æ®æµå­˜å‚¨ä¸ºè¿ç»­çš„ã€å¾ˆçŸ­æ—¶é•¿çš„åª’ä½“æ–‡ä»¶ï¼ˆMPEG-TSæ ¼å¼ï¼‰ï¼Œè€Œå®¢æˆ·ç«¯åˆ™ä¸æ–­çš„ä¸‹è½½å¹¶æ’­æ”¾è¿™äº›å°æ–‡ä»¶ï¼Œå› ä¸ºæœåŠ¡å™¨ç«¯æ€»æ˜¯ä¼šå°†æœ€æ–°çš„ç›´æ’­æ•°æ®ç”Ÿæˆæ–°çš„å°æ–‡ä»¶ï¼Œè¿™æ ·å®¢æˆ·ç«¯åªè¦ä¸åœçš„æŒ‰é¡ºåºæ’­æ”¾ä»æœåŠ¡å™¨è·å–åˆ°çš„æ–‡ä»¶ï¼Œå°±å®ç°äº†ç›´æ’­ã€‚ç”±æ­¤å¯è§ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸ºï¼ŒHLSæ˜¯ä»¥ç‚¹æ’­çš„æŠ€æœ¯æ–¹å¼æ¥å®ç°ç›´æ’­ã€‚ç”±äºæ•°æ®é€šè¿‡HTTPåè®®ä¼ è¾“ï¼Œæ‰€ä»¥å®Œå…¨ä¸ç”¨è€ƒè™‘é˜²ç«å¢™æˆ–è€…ä»£ç†çš„é—®é¢˜ï¼Œè€Œä¸”åˆ†æ®µæ–‡ä»¶çš„æ—¶é•¿å¾ˆçŸ­ï¼Œå®¢æˆ·ç«¯å¯ä»¥å¾ˆå¿«çš„é€‰æ‹©å’Œåˆ‡æ¢ç ç‡ï¼Œä»¥é€‚åº”ä¸åŒå¸¦å®½æ¡ä»¶ä¸‹çš„æ’­æ”¾ã€‚ä¸è¿‡HLSçš„è¿™ç§æŠ€æœ¯ç‰¹ç‚¹ï¼Œå†³å®šäº†å®ƒçš„å»¶è¿Ÿä¸€èˆ¬æ€»æ˜¯ä¼šé«˜äºæ™®é€šçš„æµåª’ä½“ç›´æ’­åè®®ã€‚</p>
<p>  HLSæœ‰ä¸€ä¸ªéå¸¸å¤§çš„<code>ä¼˜ç‚¹</code>ï¼šHTML5å¯ä»¥ç›´æ¥æ‰“å¼€æ’­æ”¾ï¼›è¿™ä¸ªæ„å‘³ç€å¯ä»¥æŠŠä¸€ä¸ªç›´æ’­é“¾æ¥é€šè¿‡å¾®ä¿¡ç­‰è½¬å‘åˆ†äº«ï¼Œä¸éœ€è¦å®‰è£…ä»»ä½•ç‹¬ç«‹çš„APPï¼Œæœ‰æµè§ˆå™¨å³å¯ï¼Œæ‰€ä»¥æµè¡Œåº¦å¾ˆé«˜ã€‚ç¤¾äº¤ç›´æ’­APPï¼ŒHLSå¯ä»¥è¯´æ˜¯åˆšéœ€</p>
</li>
</ul>
<h2 id="2-æ­¥éª¤ï¼š"><a href="#2-æ­¥éª¤ï¼š" class="headerlink" title="2.æ­¥éª¤ï¼š"></a>2.æ­¥éª¤ï¼š</h2><h3 id="éŸ³è§†é¢‘çš„é‡‡é›†"><a href="#éŸ³è§†é¢‘çš„é‡‡é›†" class="headerlink" title="éŸ³è§†é¢‘çš„é‡‡é›†"></a>éŸ³è§†é¢‘çš„é‡‡é›†</h3><p>ä½¿ç”¨AVFoundation.frameworkçš„AVCaptureSessionå³å¯è·å¾—åŸå§‹çš„CMSampleBufferRefæ ¼å¼éŸ³è§†é¢‘æ•°æ®</p>
<h3 id="å¯¹è§†é¢‘è¿›è¡ŒH264ç¼–ç ï¼Œå¯¹éŸ³é¢‘è¿›è¡ŒAACç¼–ç "><a href="#å¯¹è§†é¢‘è¿›è¡ŒH264ç¼–ç ï¼Œå¯¹éŸ³é¢‘è¿›è¡ŒAACç¼–ç " class="headerlink" title="å¯¹è§†é¢‘è¿›è¡ŒH264ç¼–ç ï¼Œå¯¹éŸ³é¢‘è¿›è¡ŒAACç¼–ç "></a>å¯¹è§†é¢‘è¿›è¡ŒH264ç¼–ç ï¼Œå¯¹éŸ³é¢‘è¿›è¡ŒAACç¼–ç </h3><p>å°†åŸå§‹è§†é¢‘ç¼–ç è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<ol>
<li>åˆ©ç”¨ç¬¬ä¸‰æ–¹åº“ <a href="https://github.com/FFmpeg/FFmpeg" target="_blank" rel="external">FFmpeg</a> è¿›è¡Œç¼–ç </li>
<li>åˆ©ç”¨iOSè‡ªèº«çš„AVAssetWriter æˆ–VideoToolBox.frameworkçš„VTCompressionSessionè¿›è¡Œç¼–ç ã€‚</li>
</ol>
<h3 id="ç¼–ç ï¼š"><a href="#ç¼–ç ï¼š" class="headerlink" title="ç¼–ç ï¼š"></a>ç¼–ç ï¼š</h3><ol>
<li>RTMPä¸Šæ¨ç›´æ’­è§†é¢‘: å¯¹ç¼–ç åçš„éŸ³ã€è§†é¢‘æ•°æ®è¿›è¡ŒFLVå°åŒ…ï¼›</li>
<li>HTTP Live Streamingç›´æ’­: è§†é¢‘å’ŒéŸ³é¢‘æ•°æ®å°è£…ä¸ºMPEG-TSåŒ…</li>
</ol>
<h3 id="ä¸Šæ¨åˆ°æœåŠ¡ç«¯ã€‚"><a href="#ä¸Šæ¨åˆ°æœåŠ¡ç«¯ã€‚" class="headerlink" title="ä¸Šæ¨åˆ°æœåŠ¡ç«¯ã€‚"></a>ä¸Šæ¨åˆ°æœåŠ¡ç«¯ã€‚</h3><ol>
<li>åŸºäºRTMPè¿›è¡Œæ¨æµçš„è¯ï¼šéœ€è¦å»ºç«‹RTMPè¿æ¥ï¼Œ</li>
<li>HTTP Live Streamingç›´æ’­: ç›´æ¥httpè¿›è¡Œæ•°æ®ä¼ è¾“</li>
</ol>
<h3 id="æ’­æ”¾ç«¯-æ‹‰æµ-è§£å¯†"><a href="#æ’­æ”¾ç«¯-æ‹‰æµ-è§£å¯†" class="headerlink" title="æ’­æ”¾ç«¯ æ‹‰æµ è§£å¯†"></a>æ’­æ”¾ç«¯ æ‹‰æµ è§£å¯†</h3><h2 id="3-IOSæ‰‹æœºç›´æ’­Demoæµç¨‹"><a href="#3-IOSæ‰‹æœºç›´æ’­Demoæµç¨‹" class="headerlink" title="3.IOSæ‰‹æœºç›´æ’­Demoæµç¨‹"></a>3.IOSæ‰‹æœºç›´æ’­Demoæµç¨‹</h2><h3 id="æ­å»ºæœ¬åœ°æµ‹è¯•æœåŠ¡å™¨ã€Mac-os-10-11ã€‘"><a href="#æ­å»ºæœ¬åœ°æµ‹è¯•æœåŠ¡å™¨ã€Mac-os-10-11ã€‘" class="headerlink" title="æ­å»ºæœ¬åœ°æµ‹è¯•æœåŠ¡å™¨ã€Mac os 10.11ã€‘"></a>æ­å»ºæœ¬åœ°æµ‹è¯•æœåŠ¡å™¨ã€Mac os 10.11ã€‘</h3><h4 id="æœåŠ¡å™¨æ­å»º"><a href="#æœåŠ¡å™¨æ­å»º" class="headerlink" title="æœåŠ¡å™¨æ­å»º"></a>æœåŠ¡å™¨æ­å»º</h4><p>æ‰“å¼€ç»ˆç«¯</p>
<pre><code>brew update
brew install nginx-full --with-rtmp-module
</code></pre><p>å¦‚æœä½ çš„macä¹‹å‰å®‰è£…äº†nginx, é‚£ä¹ˆè¿™ä¸ªæ—¶å€™å…ˆè¾“å…¥è¿™ä¸ª:</p>
<pre><code>brew unlink nginx
</code></pre><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><p>å¦‚æœä½ æœ¬æœºä¸Šå®‰è£…äº†atom,é‚£ä¹ˆåœ¨terminalä¸Šè¾“å…¥ï¼š</p>
<pre><code>atom /usr/local/etc/nginx
</code></pre><p>å°†é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸ºï¼š</p>
<pre><code>#user  nobody;
worker_processes  1;

#error_log  logs/error.log debug;
#error_log       /usr/local/var/log/nginx/error.log warn;

events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;

    sendfile        on;
    keepalive_timeout  65;

    server {
        listen       8080;
        server_name  localhost;

        location /stat {
            rtmp_stat all;
            rtmp_stat_stylesheet stat.xsl;
        }

         # è¿™ä¸ªè·¯å¾„ä¸€å®šè¦æ”¹
        location /stat.xsl {
            # you can move stat.xsl to a different location
            root /usr/local/Cellar/rtmp-nginx-module/1.1.7.10/share/rtmp-nginx-module;
        }

        # rtmp control
        location /control {
            rtmp_control all;
        }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }
}

rtmp {
    server {
        listen 1935;
        ping 30s;
        notify_method get;

        application myapp {
            live on;

            # sample play/publish handlers
            #on_play http://localhost:8080/on_play;
            #on_publish http://localhost:8080/on_publish;

            # sample recorder
            #recorder rec1 {
            #    record all;
            #    record_interval 30s;
            #    record_path /tmp;
            #    record_unique on;
            #}

            # sample HLS
            #hls on;
            #hls_path /tmp/hls;
            #hls_sync 100ms;

        }

        application hls {
            live on;
            hls on;
            hls_path /tmp/hls;
            hls_fragment 5s;
        }

        # Video on demand
        #application vod {
        #    play /var/Videos;
        #}

        # Video on demand over HTTP
        #application vod_http {
        #    play http://localhost:8080/vod/;
        #}
    }
}
</code></pre><blockquote>
<p>æ³¨æ„ï¼š location /stat.xsl  { } è¿™ä¸ªrootçš„è·¯å¾„è®°å¾—è¦æ”¹ã€‚ ä¸»è¦æ˜¯æ”¹ä¸€ä¸‹â€œ1.1.7.10â€ï¼Œ<br>è·Ÿä½ çš„rtmp-nginx-moduleè¿™ä¸ªç‰ˆæœ¬æœ‰å…³ç³»å§ï¼Œ å¯ä»¥ <code>cd /usr/local/Cellar/rtmp-nginx-module/</code> æ¥æŸ¥çœ‹</p>
</blockquote>
<h4 id="ç¼–è¾‘å¥½åï¼Œ-è¿›è¡Œ-sudo-nginx-s-reload"><a href="#ç¼–è¾‘å¥½åï¼Œ-è¿›è¡Œ-sudo-nginx-s-reload" class="headerlink" title="ç¼–è¾‘å¥½åï¼Œ è¿›è¡Œ  sudo nginx -s reload"></a>ç¼–è¾‘å¥½åï¼Œ è¿›è¡Œ  sudo nginx -s reload</h4><h3 id="é‡‡é›†éŸ³è§†é¢‘"><a href="#é‡‡é›†éŸ³è§†é¢‘" class="headerlink" title="é‡‡é›†éŸ³è§†é¢‘"></a>é‡‡é›†éŸ³è§†é¢‘</h3><p>ç”¨åˆ°æ˜¯ç¬¬ä¸‰æ–¹çš„ <a href="https://github.com/runner365/LiveVideoCoreSDK" target="_blank" rel="external">LiveVideoCoreSDK</a></p>
<p>è¿™è¾¹çš„è¯ä¸»è¦æ˜¯æ”¹ä¸€ä¸‹æ¨æµçš„url, é‚£ä¹ˆæ€ä¹ˆæ ·è®©æ‰‹æœºè®¿é—®çš„è¿™ä¸ªmacçš„æœ¬åœ°æœåŠ¡å™¨å‘¢ï¼Ÿ</p>
<ol>
<li>mac å’Œæ‰‹æœºåœ¨åŒä¸€å±€åŸŸç½‘(å…±è¿ä¸€ä¸ªwifi)</li>
<li>ç„¶åæ‰“å¼€æœ¬æœºçš„åå¥½è®¾ç½®-&gt;ç½‘ç»œ(Network), çœ‹ä¸‹ä½ çš„wifiçš„statusæœ‰ä¸ªipåœ°å€ã€‚æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç”¨ipconfigè¿›è¡Œæ‰çœ‹ å†…ç½‘çš„ipåœ°å€ã€‚æˆ‘çš„æ˜¯192.168.1.100</li>
<li><p>æ›´æ”¹LiveVideoCoreSDKä¸Šdemo</p>
<pre><code>_RtmpUrlTextField.text = @&quot;rtmp://192.168.1.100:1935/myapp/mystream&quot;;
</code></pre></li>
<li><p>çœŸæœºè¿è¡Œdemo</p>
</li>
</ol>
<h3 id="æ’­æ”¾ç«¯"><a href="#æ’­æ”¾ç«¯" class="headerlink" title="æ’­æ”¾ç«¯"></a>æ’­æ”¾ç«¯</h3><p>å®‰è£…ffplayï¼š</p>
<pre><code>brew unlink ffmpeg
brew install ffmpeg --with-ffplay
</code></pre><h2 id="4-å‚è€ƒæ–‡çŒ®"><a href="#4-å‚è€ƒæ–‡çŒ®" class="headerlink" title="4.å‚è€ƒæ–‡çŒ®"></a>4.å‚è€ƒæ–‡çŒ®</h2><ol>
<li><a href="http://www.cocoachina.com/ios/20150818/13081.html" target="_blank" rel="external">HTTP Live Streamingç›´æ’­(iOSç›´æ’­)æŠ€æœ¯åˆ†æä¸å®ç°</a></li>
<li><a href="http://blog.ucloud.cn/?p=796" target="_blank" rel="external"> ã€Šå…³äºç›´æ’­ï¼Œæ‰€æœ‰çš„æŠ€æœ¯ç»†èŠ‚éƒ½åœ¨è¿™é‡Œäº†ã€‹ ç³»åˆ—</a></li>
<li><a href="http://blog.csdn.net/leixiaohua1020/article/details/42658139" target="_blank" rel="external">FFmpegç›¸å…³èµ„æ–™ ä¸“æ æ–‡ç« </a></li>
<li><a href="https://github.com/runner365/LiveVideoCoreSDK" target="_blank" rel="external">LiveVideoCoreSDK</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/27/iOSå¤šçº¿ç¨‹/" itemprop="url">
                  iOSå¤šçº¿ç¨‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-06-27T11:44:00+08:00" content="2016-06-27">
              2016-06-27
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/27/iOSå¤šçº¿ç¨‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/27/iOSå¤šçº¿ç¨‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹"><a href="#å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹"></a>å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹</h2><p><code>ä¼˜ç‚¹</code>: å¤šçº¿ç¨‹èƒ½å¤Ÿé€‚å½“æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ï¼Œé€‚å½“æé«˜èµ„æºåˆ©ç”¨ç‡(CPUã€å†…å­˜åˆ©ç”¨ç‡)ã€‚</p>
<p><code>ç¼ºç‚¹</code>: æ¯å¼€å¯ä¸€æ¡çº¿ç¨‹éœ€è¦å ç”¨ä¸€å®šçš„å†…å­˜ç©ºé—´ï¼Œé‚£ä¹ˆå¯æƒ³è€ŒçŸ¥ï¼Œå¦‚æœå¼€å¯å¤§é‡çš„çº¿ç¨‹å°±ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜ç©ºé—´ï¼Œä»è€Œé™ä½ç¨‹åºçš„æ€§èƒ½ã€‚</p>
<h2 id="Objective-Cä¸­å®ç°å¤šçº¿ç¨‹"><a href="#Objective-Cä¸­å®ç°å¤šçº¿ç¨‹" class="headerlink" title="Objective-Cä¸­å®ç°å¤šçº¿ç¨‹"></a>Objective-Cä¸­å®ç°å¤šçº¿ç¨‹</h2><p><code>performSelectors</code>:</p>
<p>NSObject æä¾›äº†ä»¥performSelector ä¸ºå‰ç¼€çš„ä¸€äº›åˆ—æ–¹æ³•ã€‚å®ƒä»¬å¯ä»¥è®©ç”¨æˆ·åœ¨æŒ‡å®šçš„çº¿ç¨‹ä¸­ï¼Œæˆ–è€…ç«‹å³ï¼Œæˆ–è€…å»¶è¿Ÿæ‰§è¡ŒæŸä¸ªæ–¹æ³•è°ƒç”¨</p>
<h3 id="åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"><a href="#åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š" class="headerlink" title="åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"></a>åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š</h3><pre><code>- (void)performSelector:(SEL)aSelector withObject:(id)anArgument afterDelay:(NSTimeInterval)delay

- (void)performSelector:(SEL)aSelector withObject:(id)anArgument afterDelay:(NSTimeInterval)delay inModes:(NSArray *)modes
</code></pre><h3 id="åœ¨æŒ‡å®šçº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"><a href="#åœ¨æŒ‡å®šçº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š" class="headerlink" title="åœ¨æŒ‡å®šçº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"></a>åœ¨æŒ‡å®šçº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š</h3><pre><code>- (void)performSelector:(SEL)aSelector onThread:(NSThread *)thread withObject:(id)arg waitUntilDone:(BOOL)wait

- (void)performSelector:(SEL)aSelector onThread:(NSThread *)thread withObject:(id)arg waitUntilDone:(BOOL)wait modes:(NSArray *)array
</code></pre><h3 id="åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"><a href="#åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š" class="headerlink" title="åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"></a>åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š</h3><pre><code>-(void)performSelectorOnMainThread: (SEL)selector withObject:(id)argument
waitUntilDone:(BOOL)wait

-(void)performSelectorOnMainThread:(SEL)aSelector withObject:(id)arg
waitUntilDone:(BOOL)wait
modes:(NSArray *)array
</code></pre><h3 id="åœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"><a href="#åœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š" class="headerlink" title="åœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š"></a>åœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼š</h3><pre><code>-(void)performSelectorInBackground:(SEL)aSelector withObject:(id)arg
</code></pre><h2 id="NSThread-pthread"><a href="#NSThread-pthread" class="headerlink" title="NSThread / pthread"></a>NSThread / pthread</h2><p>pthread_t å’Œ NSThreadæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚</p>
<h3 id="ä¸‰ç§å®ç°å¼€å¯çº¿ç¨‹çš„æ–¹å¼ï¼š"><a href="#ä¸‰ç§å®ç°å¼€å¯çº¿ç¨‹çš„æ–¹å¼ï¼š" class="headerlink" title="ä¸‰ç§å®ç°å¼€å¯çº¿ç¨‹çš„æ–¹å¼ï¼š"></a>ä¸‰ç§å®ç°å¼€å¯çº¿ç¨‹çš„æ–¹å¼ï¼š</h3><pre><code>1. åŠ¨æ€å®ä¾‹åŒ–

        NSThread *thread = [[NSThread alloc] initWithTarget:self selector:@selector(loadImageSource:) object:imgUrl];

        thread.threadPriority = 1;// è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§(0.0 - 1.0ï¼Œ1.0æœ€é«˜çº§)

        [thread start];

2. é™æ€å®ä¾‹åŒ–ã€åˆ†ç¦»çº¿ç¨‹ã€‘

        [NSThread detachNewThreadSelector:@selector(loadImageSource:) toTarget:self withObject:imgUrl];

3. éšå¼å®ä¾‹åŒ–

        [self performSelectorInBackground:@selector(loadImageSource:) withObject:imgUrl];
</code></pre><h3 id="çº¿ç¨‹é—´çš„é€šä¿¡"><a href="#çº¿ç¨‹é—´çš„é€šä¿¡" class="headerlink" title="çº¿ç¨‹é—´çš„é€šä¿¡"></a>çº¿ç¨‹é—´çš„é€šä¿¡</h3><pre><code>1. performSelector On The thread

        //åœ¨æŒ‡å®šçº¿ç¨‹ä¸Šæ‰§è¡Œæ“ä½œ
        [self performSelector:@selector(run) onThread:thread withObject:nil waitUntilDone:YES];
        //åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œæ“ä½œ
        [self performSelectorOnMainThread:@selector(run) withObject:nil waitUntilDone:YES];
        //åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œæ“ä½œ
        [self performSelector:@selector(run) withObject:nil];

2. Mach Port (äº†è§£)

    çˆ¶çº¿ç¨‹åˆ›å»ºäº†ä¸€ä¸ªNSMachPortå¯¹è±¡ï¼Œåœ¨åˆ›å»ºå­çº¿ç¨‹çš„æ—¶å€™ä¸€å‚æ•°çš„æ–¹å¼å°†å…¶ä¼ é€’ç»™å­çº¿ç¨‹ï¼Œè¿™æ ·å­çº¿ç¨‹å°±å¯ä»¥å‘è¿™ä¸ªä¼ è¿‡æ¥çš„NSMachPortå¯¹è±¡å‘é€æ¶ˆæ¯ï¼Œå¦‚æœæƒ³è®©çˆ¶çº¿ç¨‹ä¹Ÿå¯ä»¥å‘å­çº¿ç¨‹å‘ä¸ªç‰¹æ®Šæ¶ˆæ¯ï¼Œä¼ è¿‡æ¥çš„æ˜¯è‡ªå·±åˆ›å»ºçš„å¦ä¸€ä¸ªNSMachPortå¯¹è±¡ï¼Œè¿™æ ·çˆ¶çº¿ç¨‹ä¾¿æŒæœ‰äº†å­çº¿ç¨‹åˆ›å»ºçš„portå¯¹è±¡ï¼Œå¯ä»¥å‘è¿™ä¸ªå­çº¿ç¨‹çš„portå¯¹è±¡å‘é€æ¶ˆæ¯ã€‚

    å½“ç„¶å„è‡ªçš„portå¯¹è±¡éœ€è¦è®¾ç½®delegateä»¥åŠschduleåˆ°è‡ªå·±æ‰€åœ¨çº¿ç¨‹çš„RunLoopä¸­ï¼Œè¿™æ ·æ¥äº†æ¶ˆæ¯åï¼Œå¤„ç†portæ¶ˆæ¯çš„delegateæ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œä½ å°±å¯ä»¥è‡ªå·±å¤„ç†æ¶ˆæ¯äº†
</code></pre><h2 id="NSOperation"><a href="#NSOperation" class="headerlink" title="NSOperation"></a>NSOperation</h2><p>é€šè¿‡ç»§æ‰¿NSOperation,å¯ä»¥ä½¿å­ç±»è·å¾—ä¸€äº›çº¿ç¨‹ç›¸å…³çš„ç‰¹æ€§ï¼Œè¿›è€Œå®‰å…¨çš„ç®¡ç†çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼Œé…åˆNSOperationQueue, å¯ä»¥æ§åˆ¶çº¿ç¨‹é—´çš„ä¼˜å…ˆçº§å’Œä¾èµ–æ€§ã€‚</p>
<p>NSOperationæ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œä½†åŒæ—¶ä¹Ÿæä¾›äº†ä¸¤ä¸ªå¯ä»¥ç›´æ¥ä½¿ç”¨çš„å­ç±»ï¼š NSInvocationOperation å’ŒNSBlockOperation.[ä»»åŠ¡çš„å°è£…æ–¹å¼]</p>
<p>NSOperationQueueåˆ™ç”¨äºæ‰§è¡Œè®¡ç®—ä»»åŠ¡ï¼Œç®¡ç†è®¡ç®—ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œå¤„ç†è®¡ç®—ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–æ€§ã€‚NSOperationè¢«æ·»åŠ åˆ°NSOperationQueueä¸­ä¹‹åï¼Œé˜Ÿåˆ—ä¼šæŒ‰ä¼˜å…ˆçº§å’Œè¿›å…¥é¡ºåºè°ƒåº¦ä»»åŠ¡ï¼ŒNSOperation å¯¹è±¡è¢«è‡ªåŠ¨æ‰§è¡Œã€‚</p>
<h3 id="NSOperation-æä¾›ä¸€ä¸‹ä»»åŠ¡ä¼˜å…ˆçº§ï¼š"><a href="#NSOperation-æä¾›ä¸€ä¸‹ä»»åŠ¡ä¼˜å…ˆçº§ï¼š" class="headerlink" title="NSOperation æä¾›ä¸€ä¸‹ä»»åŠ¡ä¼˜å…ˆçº§ï¼š"></a>NSOperation æä¾›ä¸€ä¸‹ä»»åŠ¡ä¼˜å…ˆçº§ï¼š</h3><pre><code>NSOperationQueuePriorityVeryHigh
NSOperationQueuePriorityHigh
NSOperationQueuePriorityNormal
NSOperationQueuePriorityLow
NSOperationQueuePriorityVeryLow
</code></pre><h3 id="NSOperation-ä½¿ç”¨çŠ¶æ€æ¨¡å‹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨KVOè§‚å¯Ÿä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚"><a href="#NSOperation-ä½¿ç”¨çŠ¶æ€æ¨¡å‹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨KVOè§‚å¯Ÿä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚" class="headerlink" title="NSOperation ä½¿ç”¨çŠ¶æ€æ¨¡å‹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨KVOè§‚å¯Ÿä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚"></a>NSOperation ä½¿ç”¨çŠ¶æ€æ¨¡å‹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨KVOè§‚å¯Ÿä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚</h3><pre><code>isReady
isExecuting
isFinished
</code></pre><h3 id="NSOperation-å¯¹è±¡é—´çš„ä¾èµ–æ€§å¯ä»¥ï¼š"><a href="#NSOperation-å¯¹è±¡é—´çš„ä¾èµ–æ€§å¯ä»¥ï¼š" class="headerlink" title="NSOperation å¯¹è±¡é—´çš„ä¾èµ–æ€§å¯ä»¥ï¼š"></a>NSOperation å¯¹è±¡é—´çš„ä¾èµ–æ€§å¯ä»¥ï¼š</h3><pre><code>[refreshUIOperation addDependency:requestDataOperation];
[operationQueue addOperation:requestDataOperation];
[operationQueue addOperation:refreshUIOperation];
</code></pre><h3 id="NSOperationè¿˜æœ‰ä¸€ä¸ªâ€œå–æ¶ˆâ€åŠŸèƒ½ã€‚è°ƒç”¨NSOperation-çš„-cancle-æ–¹æ³•å³å¯ä»¥å–æ¶ˆè¯¥ä»»åŠ¡ï¼Œæœ‰åˆ©äºèŠ‚çœç³»ç»Ÿèµ„æº"><a href="#NSOperationè¿˜æœ‰ä¸€ä¸ªâ€œå–æ¶ˆâ€åŠŸèƒ½ã€‚è°ƒç”¨NSOperation-çš„-cancle-æ–¹æ³•å³å¯ä»¥å–æ¶ˆè¯¥ä»»åŠ¡ï¼Œæœ‰åˆ©äºèŠ‚çœç³»ç»Ÿèµ„æº" class="headerlink" title="NSOperationè¿˜æœ‰ä¸€ä¸ªâ€œå–æ¶ˆâ€åŠŸèƒ½ã€‚è°ƒç”¨NSOperation çš„ cancle: æ–¹æ³•å³å¯ä»¥å–æ¶ˆè¯¥ä»»åŠ¡ï¼Œæœ‰åˆ©äºèŠ‚çœç³»ç»Ÿèµ„æº"></a>NSOperationè¿˜æœ‰ä¸€ä¸ªâ€œå–æ¶ˆâ€åŠŸèƒ½ã€‚è°ƒç”¨NSOperation çš„ cancle: æ–¹æ³•å³å¯ä»¥å–æ¶ˆè¯¥ä»»åŠ¡ï¼Œæœ‰åˆ©äºèŠ‚çœç³»ç»Ÿèµ„æº</h3><h2 id="GCD"><a href="#GCD" class="headerlink" title="GCD"></a>GCD</h2><h3 id="GCDçš„åˆ†å‘é˜Ÿåˆ—ï¼š"><a href="#GCDçš„åˆ†å‘é˜Ÿåˆ—ï¼š" class="headerlink" title="GCDçš„åˆ†å‘é˜Ÿåˆ—ï¼š"></a>GCDçš„åˆ†å‘é˜Ÿåˆ—ï¼š</h3><pre><code> 1. `ä¸²è¡Œé˜Ÿåˆ—` Serial dispatch queue

ä¸²è¡Œåˆ†å‘é˜Ÿåˆ—ï¼ŒæŒ‰ç…§é¡ºåºæ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œä¸”åŒä¸€æ—¶é—´åªä¼šæ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚ä¸²è¡Œé˜Ÿåˆ—å¸¸ç”¨äºå®ç°åŒæ­¥é”, ç”±äºåœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ä¸ä¼šæœ‰ä¸¤ä¸ªä»»åŠ¡å¹¶å‘è¿è¡Œï¼Œå› æ­¤ä¸ä¼šå‡ºç°åŒæ—¶è®¿é—®ä¸´ç•ŒåŒºçš„é£é™©ï¼›ç›¸å¯¹äºè¿™äº›ä»»åŠ¡æ¥è¯´ï¼Œè¿™å°±ä»ç«æ€æ¡ä»¶ä¸‹ä¿æŠ¤äº†ä¸´ç•ŒåŒºã€‚æ‰€ä»¥å¦‚æœè®¿é—®ä¸´ç•ŒåŒºçš„å”¯ä¸€æ–¹å¼æ˜¯é€šè¿‡æäº¤åˆ°è°ƒåº¦é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆä½ å°±ä¸éœ€è¦æ‹…å¿ƒä¸´ç•ŒåŒºçš„å®‰å…¨é—®é¢˜äº†

 2. `å¹¶å‘é˜Ÿåˆ—` Concurrent dispatch queue

 åœ¨å¹¶å‘é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡èƒ½å¾—åˆ°çš„ä¿è¯æ˜¯å®ƒä»¬ä¼šæŒ‰ç…§è¢«æ·»åŠ çš„é¡ºåºå¼€å§‹æ‰§è¡Œï¼Œä½†è¿™å°±æ˜¯å…¨éƒ¨çš„ä¿è¯äº†ã€‚ä»»åŠ¡å¯èƒ½ä»¥ä»»æ„é¡ºåºå®Œæˆï¼Œä½ ä¸ä¼šçŸ¥é“ä½•æ—¶å¼€å§‹è¿è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œæˆ–è€…ä»»æ„æ—¶åˆ»æœ‰å¤šå°‘ Block åœ¨è¿è¡Œã€‚å†è¯´ä¸€éï¼Œè¿™å®Œå…¨å–å†³äº GCD ã€‚å¯¹äºnä¸ªå¹¶å‘é˜Ÿåˆ—ï¼ŒGCDä¸ä¼šåˆ›å»ºå¯¹åº”çš„nä¸ªçº¿ç¨‹è€Œæ˜¯è¿›è¡Œé€‚å½“çš„ä¼˜åŒ–
</code></pre><h3 id="é˜Ÿåˆ—ç±»å‹"><a href="#é˜Ÿåˆ—ç±»å‹" class="headerlink" title="é˜Ÿåˆ—ç±»å‹"></a>é˜Ÿåˆ—ç±»å‹</h3><pre><code>é¦–å…ˆï¼Œç³»ç»Ÿæä¾›ç»™ä½ ä¸€ä¸ªå«åš `ä¸»é˜Ÿåˆ—`ï¼ˆmain queueï¼‰ çš„ç‰¹æ®Šé˜Ÿåˆ—ã€‚å’Œå…¶å®ƒä¸²è¡Œé˜Ÿåˆ—ä¸€æ ·ï¼Œè¿™ä¸ªé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªã€‚ç„¶è€Œï¼Œå®ƒèƒ½ä¿è¯æ‰€æœ‰çš„ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œè€Œä¸»çº¿ç¨‹æ˜¯å”¯ä¸€å¯ç”¨äºæ›´æ–° UI çš„çº¿ç¨‹ã€‚è¿™ä¸ªé˜Ÿåˆ—å°±æ˜¯ç”¨äºå‘ç”Ÿæ¶ˆæ¯ç»™ UIView æˆ–å‘é€é€šçŸ¥çš„ã€‚

ç³»ç»ŸåŒæ—¶æä¾›ç»™ä½ å¥½å‡ ä¸ªå¹¶å‘é˜Ÿåˆ—ã€‚å®ƒä»¬å«åš `å…¨å±€è°ƒåº¦é˜Ÿåˆ—`ï¼ˆGlobal Dispatch Queuesï¼‰ ã€‚ç›®å‰çš„å››ä¸ªå…¨å±€é˜Ÿåˆ—æœ‰ç€ä¸åŒçš„ä¼˜å…ˆçº§ï¼šbackgroundã€lowã€default ä»¥åŠ highã€‚è¦çŸ¥é“ï¼ŒApple çš„ API ä¹Ÿä¼šä½¿ç”¨è¿™äº›é˜Ÿåˆ—ï¼Œæ‰€ä»¥ä½ æ·»åŠ çš„ä»»ä½•ä»»åŠ¡éƒ½ä¸ä¼šæ˜¯è¿™äº›é˜Ÿåˆ—ä¸­å”¯ä¸€çš„ä»»åŠ¡ã€‚
</code></pre><h3 id="GCDä»»åŠ¡æ‰§è¡Œæ–¹å¼"><a href="#GCDä»»åŠ¡æ‰§è¡Œæ–¹å¼" class="headerlink" title="GCDä»»åŠ¡æ‰§è¡Œæ–¹å¼"></a>GCDä»»åŠ¡æ‰§è¡Œæ–¹å¼</h3><pre><code>1. `å¼‚æ­¥`(dispatch_async): å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ä¹‹åï¼Œä¸»çº¿ç¨‹ä¸ä¼šç­‰å¾… block çš„è¿”å›ç»“æœï¼Œè€Œæ˜¯ç«‹å³ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ gcdç®¡ç†çš„çº¿ç¨‹æ± ä¸­æœ‰ç©ºé—²çº¿ç¨‹å°±ä¼šä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡ï¼Œä¼šå¼€å¯çº¿ç¨‹ã€‚
2. `åŒæ­¥`(dispatch_sync): ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ä¹‹åï¼Œä¸»çº¿ç¨‹è¢«é˜»å¡ï¼Œéœ€è¦ç­‰å¾… block çš„æ‰§è¡Œç»“æœè¿”å›ï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ä¸ä¼šå¼€å¯æ–°çº¿ç¨‹ï¼Œåœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œ
</code></pre><h3 id="å‡ ç§ç±»å‹"><a href="#å‡ ç§ç±»å‹" class="headerlink" title="å‡ ç§ç±»å‹"></a>å‡ ç§ç±»å‹</h3><pre><code>å¾ˆæ˜æ˜¾ä¸¤ç§æ‰§è¡Œæ–¹å¼ï¼Œä¸¤ç§é˜Ÿåˆ—ã€‚é‚£ä¹ˆå°±æœ‰4ä¸­æƒ…å†µï¼š ä¸²è¡Œé˜Ÿåˆ—åŒæ­¥æ‰§è¡Œã€ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥æ‰§è¡Œã€å¹¶è¡Œé˜Ÿåˆ—åŒæ­¥æ‰§è¡Œã€å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥æ‰§è¡Œã€‚å“ªä¸€ç§ä¼šå¼€å¯æ–°çš„çº¿ç¨‹ï¼Ÿå¼€å‡ æ¡ï¼Ÿæ˜¯å¦å¹¶å‘ï¼Ÿè®°å¿†èµ·æ¥æ¯”è¾ƒç»•ï¼Œä½†æ˜¯åªè¦æŠ“ä½åŸºæœ¬çš„å°±å¯ä»¥ï¼Œä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œç°åˆ†æå¦‚ä¸‹ï¼š

1. ä¸²è¡Œé˜Ÿåˆ—ï¼ŒåŒæ­¥æ‰§è¡Œ

        ä¸²è¡Œé˜Ÿåˆ—æ„å‘³ç€é¡ºåºæ‰§è¡Œï¼ŒåŒæ­¥æ‰§è¡Œæ„å‘³ç€ä¸å¼€å¯çº¿ç¨‹(åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œ)

2. ä¸²è¡Œé˜Ÿåˆ—ï¼Œå¼‚æ­¥æ‰§è¡Œ

        ä¸²è¡Œé˜Ÿåˆ—é¡ºåºæ‰§è¡Œï¼Œå¼‚æ­¥æ‰§è¡Œè¯´æ˜è¦å¼€çº¿ç¨‹ï¼Œå¦‚æœå¼€å¤šä¸ªçº¿ç¨‹çš„è¯ï¼Œä¸èƒ½ä¿è¯ä¸²è¡Œé˜Ÿåˆ—é¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥åªå¼€ä¸€ä¸ªçº¿ç¨‹

3. å¹¶è¡Œé˜Ÿåˆ—ï¼Œå¼‚æ­¥æ‰§è¡Œ

        å¹¶è¡Œé˜Ÿåˆ—æ‰§è¡Œé¡ºåºä¸ç¡®å®šï¼Œå¼‚æ­¥æ„å‘³ç€ä¼šå¼€å¯çº¿ç¨‹ï¼Œè€Œå¹¶è¡Œé˜Ÿåˆ—åˆå…è®¸ä¸æŒ‰é¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥ä¸ºäº†æé«˜æ€§èƒ½ä¼šå¼€å¯å¤šä¸ªçº¿ç¨‹æ¥é˜Ÿåˆ—å–ä»»åŠ¡.ï¼ˆé˜Ÿåˆ—ä¸­ä»»åŠ¡å–å‡ºä»»ç„¶æ˜¯é¡ºåºå–å‡ºæ¥çš„ï¼Œåªæ˜¯çº¿ç¨‹æ‰§è¡Œæ— åºï¼‰

4. å¹¶è¡Œé˜Ÿåˆ—ï¼ŒåŒæ­¥æ‰§è¡Œ

        åŒæ­¥æ„å‘³ç€ä¸ç¦»å¼€çº¿ç¨‹ï¼Œåˆ™è‚¯å®šæ˜¯é¡ºåºæ‰§è¡Œ
</code></pre><h2 id="iOSå¤šçº¿ç¨‹å¯¹æ¯”"><a href="#iOSå¤šçº¿ç¨‹å¯¹æ¯”" class="headerlink" title="iOSå¤šçº¿ç¨‹å¯¹æ¯”"></a>iOSå¤šçº¿ç¨‹å¯¹æ¯”</h2><table>
<thead>
<tr>
<th>é‡‡ç”¨æŠ€æœ¯</th>
<th>æè¿°</th>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>NSThread</td>
<td>æ¯ä¸ªNSThreadå¯¹è±¡å¯¹åº”ä¸€ä¸ªçº¿ç¨‹ï¼ŒçœŸæ­£æœ€åŸå§‹çš„çº¿ç¨‹ã€‚</td>
<td>NSThread è½»é‡çº§æœ€ä½ï¼Œç›¸å¯¹ç®€å•</td>
<td>æ‰‹åŠ¨ç®¡ç†æ‰€æœ‰çš„çº¿ç¨‹æ´»åŠ¨ï¼Œå¦‚ç”Ÿå‘½å‘¨æœŸã€çº¿ç¨‹åŒæ­¥ã€ç¡çœ ç­‰</td>
</tr>
<tr>
<td>NSOperation</td>
<td>è‡ªå¸¦çº¿ç¨‹ç®¡ç†çš„æŠ½è±¡ç±»</td>
<td>è‡ªå¸¦çº¿ç¨‹å‘¨æœŸç®¡ç†ï¼Œæ“ä½œä¸Šå¯æ›´æ³¨é‡è‡ªå·±é€»è¾‘</td>
<td>é¢å‘å¯¹è±¡çš„æŠ½è±¡ç±»ï¼Œåªèƒ½å®ç°å®ƒæˆ–è€…ä½¿ç”¨å®ƒå®šä¹‰å¥½çš„ä¸¤ä¸ªå­ç±»ï¼šNSInvocationOperation å’Œ NSBlockOperation</td>
</tr>
<tr>
<td>GCD</td>
<td>Grand Central Dispatch (GCD)æ˜¯Appleå¼€å‘çš„ä¸€ä¸ªå¤šæ ¸ç¼–ç¨‹çš„è§£å†³æ–¹æ³•</td>
<td>æœ€é«˜æ•ˆï¼Œé¿å¼€å¹¶å‘é™·é˜±</td>
<td>åŸºäºCå®ç°</td>
</tr>
</tbody>
</table>
<h2 id="å®é™…å¼€å‘ä¸­çš„é€‰æ‹©-ï¼ˆGCD-or-NSOperationï¼‰"><a href="#å®é™…å¼€å‘ä¸­çš„é€‰æ‹©-ï¼ˆGCD-or-NSOperationï¼‰" class="headerlink" title="å®é™…å¼€å‘ä¸­çš„é€‰æ‹© ï¼ˆGCD or NSOperationï¼‰"></a>å®é™…å¼€å‘ä¸­çš„é€‰æ‹© ï¼ˆGCD or NSOperationï¼‰</h2><p>GCD è™½ç„¶åœ¨å¾ˆå¤šåœ°æ–¹å€¼å¾—æå€¡ï¼Œä½†å¹¶ä¸æ˜¯ä»»åŠ¡ç®¡ç†å’Œå¤šçº¿ç¨‹åœ°å”¯ä¸€è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸æ˜¯è¯´æ‰€æœ‰çš„åœ°æ–¹éƒ½åº”è¯¥ä½¿ç”¨ GCDã€‚GCD æ˜¯ä¸€ä¸ªçº¯ C APIï¼ŒNSOperation æ˜¯ Objective-C ç±»ï¼Œåœ¨ä¸€äº›åœ°æ–¹å¯¹è±¡ç¼–ç¨‹æ˜¯æœ‰ä¼˜åŠ¿çš„ã€‚NSOperation ä¹Ÿæä¾›äº†ä¸€äº› GCD æ— æ³•å®ç°ï¼Œæˆ–è€… GCD æ‰€æ²¡æœ‰çš„åŠŸèƒ½ã€‚</p>
<p>è€ƒç•¥ä½¿ç”¨NSOperationçš„ä¸€äº›ï¼š</p>
<ul>
<li>å½“ä½ éœ€è¦å–æ¶ˆçº¿ç¨‹ä»»åŠ¡æ—¶ï¼ŒGCD æ— æ³•æä¾›å–æ¶ˆä»»åŠ¡çš„æ“ä½œã€‚è€Œ NSOperation æä¾›äº†å–æ¶ˆä»»åŠ¡çš„æ“ä½œ;</li>
<li>å½“ä½ éœ€è¦æ›´ç»†çš„ç²’åº¦åœ°è§‚å¯Ÿä»»åŠ¡æ”¹å˜äº†çŠ¶æ€æ—¶ï¼Œç”±äº NSOperation æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ¯”è¾ƒ GCD ä½¿ç”¨çš„ block è€Œè¨€ï¼Œé€šè¿‡å¯¹ NSOperation å¯¹è±¡è¿›è¡Œé”®å€¼è§‚å¯Ÿï¼ˆKVOï¼‰èƒ½å¾ˆå®¹æ˜“è§‚å¯Ÿåˆ°ä»»åŠ¡çš„çŠ¶æ€æ”¹å˜;<br>*<br>å½“ä½ éœ€è¦é‡ç”¨çº¿ç¨‹ä»»åŠ¡æ—¶ï¼ŒNSOperation ä½œä¸ºä¸€ä¸ªæ™®é€šçš„ Objective-C å¯¹è±¡ï¼Œå¯ä»¥å­˜å‚¨ä»»ä½•ä¿¡æ¯ã€‚å¯¹è±¡å°±æ˜¯ä¸ºé‡ç”¨è€Œè®¾è®¡çš„ï¼Œè¿™æ—¶ï¼ŒNSOperation æ¯” GCD ä½¿ç”¨çš„ block è¦æ›´æ–¹ä¾¿ã€‚</li>
</ul>
<p>å»ºè®®ï¼š</p>
<ul>
<li>èƒ½å¤Ÿä½¿ç”¨ GCD çš„åœ°æ–¹ï¼Œå°½é‡ä½¿ç”¨ GCD</li>
<li>åœ¨éœ€è¦æ›´ç»†ç²’åº¦æ§åˆ¶çº¿ç¨‹æ—¶ï¼Œè€ƒè™‘ NSOperation</li>
</ul>
<h2 id="iOSå¤šçº¿ç¨‹ä¸RunLoopçš„å…³ç³»"><a href="#iOSå¤šçº¿ç¨‹ä¸RunLoopçš„å…³ç³»" class="headerlink" title="iOSå¤šçº¿ç¨‹ä¸RunLoopçš„å…³ç³»"></a>iOSå¤šçº¿ç¨‹ä¸RunLoopçš„å…³ç³»</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œå®Œæˆåå°±ä¼šé€€å‡ºï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæœºåˆ¶ï¼Œè®©çº¿ç¨‹èƒ½éšæ—¶å¤„ç†äº‹ä»¶è€Œä¸é€€å‡ºï¼Œé‚£ä¹ˆè¿™å°±ç‰µæ‰¯åˆ°æˆ‘ä¸‹ç¯‡çš„åšå®¢æ–‡ç« äº†ã€‚RunLoopæ˜¯çº¿ç¨‹çš„åŸºæœ¬ <code>æ¶æ„æ¨¡å¼</code>ï¼Œå…³é”®ç‚¹åœ¨äºï¼š å¦‚ä½•å¤„ç†äº‹ä»¶/æ¶ˆæ¯ï¼Œå¦‚ä½•è®©çº¿ç¨‹åœ¨æ²¡æœ‰å¤„ç†æ¶ˆæ¯çš„æ—¶å€™ä¼‘çœ ä»¥é¿å…èµ„æºçš„å ç”¨ã€åœ¨æœ‰æ¶ˆæ¯çš„åˆ°æ¥æ—¶ç«‹åˆ»è¢«å”¤é†’ã€‚</p>
<blockquote>
<p>Run loops are part of the fundamental infrastructure associated with threads. A run loop is an event processing loop that you use to schedule work and coordinate the receipt of incoming events. The purpose of a run loop is to keep your thread busy when there is work to do and put your thread to sleep when there is none.</p>
</blockquote>
<p>ä»CFRunLoopGetMain()å’ŒCFRunLoopGetCurrent()çš„ä¸¤ä¸ªå‡½æ•°çš„å†…éƒ¨é€»è¾‘ä¸­ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºï¼Œçº¿ç¨‹å’ŒRunLoopä¹‹é—´æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå…¶å…³ç³»ä¿å­˜åœ¨ä¸€ä¸ªå…¨å±€çš„Directoryé‡Œã€‚å¹¶ä¸”runloopæ˜¯ä¸€ç§æ‡’åŠ è½½çš„å½¢å¼ï¼Œçº¿ç¨‹åˆ›å»ºæ—¶å¹¶æ²¡æœ‰RunLoopï¼Œå¦‚æœä½ ä¸ä¸»åŠ¨è·å–ï¼Œé‚£ä¹ˆå®ƒä¸€ç›´éƒ½ä¸ä¼šæœ‰ã€ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯æ²¡æœ‰å¿…è¦å»å¯ç”¨çº¿ç¨‹çš„RunLoopçš„ï¼Œé™¤éä½ åœ¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ä¸­éœ€è¦é•¿ä¹…çš„æ£€æµ‹æŸä¸ªäº‹ä»¶ï¼Œ å‡è®¾æˆ‘ä»¬æƒ³åœ¨æ–°å¼€çš„çº¿ç¨‹ä¸­ä½¿ç”¨NSTimerï¼Œå°±å¿…é¡»å¼€å¯runloopï¼Œå¯ä»¥ä½¿ç”¨[[NSRunLoop currentRunLoop] run]å¼€å¯å½“å‰çº¿ç¨‹ï¼Œè¿™æ˜¯å°±è¦è‡ªå·±ç®¡ç†çº¿ç¨‹çš„å›æ”¶ç­‰å·¥ä½œã€‚ã€‘ã€‚RunLoopçš„åˆ›å»ºæ˜¯å‘ç”Ÿåœ¨ç¬¬ä¸€æ¬¡è·å–æ—¶ï¼ŒRunLoopçš„é”€æ¯æ—¶å‘ç”Ÿåœ¨çº¿ç¨‹ç»“æŸæ—¶ã€‚ å¹¶ä¸”ä½ åªèƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹çš„å†…éƒ¨è·å–å…¶RunLoop(ä¸»çº¿ç¨‹é™¤å¤–ï¼Œ currentRunLoopå°±èƒ½è·å–).</p>
<pre><code>1.æ¯æ¡çº¿ç¨‹éƒ½æœ‰å”¯ä¸€çš„ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„RunLoopå¯¹è±¡
2.ä¸»çº¿ç¨‹çš„RunLoopå·²ç»è‡ªåŠ¨åˆ›å»ºå¥½äº†ï¼Œå­çº¿ç¨‹çš„RunLoopéœ€è¦ä¸»åŠ¨åˆ›å»º
3.RunLoopåœ¨ç¬¬ä¸€æ¬¡è·å–æ—¶åˆ›å»ºï¼Œåœ¨çº¿ç¨‹ç»“æŸæ—¶é”€æ¯
</code></pre><h2 id="iOSå¤šçº¿ç¨‹æ­»é”é—®é¢˜"><a href="#iOSå¤šçº¿ç¨‹æ­»é”é—®é¢˜" class="headerlink" title="iOSå¤šçº¿ç¨‹æ­»é”é—®é¢˜"></a>iOSå¤šçº¿ç¨‹æ­»é”é—®é¢˜</h2><p><img src="/images/sisuo.png" alt=""></p>
<p>åœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œå½“çº¿ç¨‹å¼€å§‹æ‰§è¡Œblock1æ—¶ï¼Œå¿…é¡»è¦æ‰§è¡Œé‡Œé¢çš„block2,è€Œç”±äºæ˜¯ä¸²è¡Œé˜Ÿåˆ—ï¼Œ block2åªèƒ½ç­‰block1æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œ, è¿™æ ·block1å’Œblock2çº¿ç¨‹çš„æ‰§è¡Œå°±ä¼šäº’ç›¸ç­‰å¾…ï¼Œé€ æˆæ­»é”ã€‚</p>
<h3 id="æ­»é”ä¸¾ä¾‹ï¼š"><a href="#æ­»é”ä¸¾ä¾‹ï¼š" class="headerlink" title="æ­»é”ä¸¾ä¾‹ï¼š"></a>æ­»é”ä¸¾ä¾‹ï¼š</h3><h4 id="ä¸»é˜Ÿåˆ—æ­»é”ï¼š"><a href="#ä¸»é˜Ÿåˆ—æ­»é”ï¼š" class="headerlink" title="ä¸»é˜Ÿåˆ—æ­»é”ï¼š"></a>ä¸»é˜Ÿåˆ—æ­»é”ï¼š</h4><pre><code>dispatch_sync(dispatch_get_main_queue(), ^{
    // å‘ç”Ÿæ­»é”ä¸‹é¢çš„ä»£ç ä¸ä¼šæ‰§è¡Œ
    NSLog(@&quot;middle&quot;);
});
</code></pre><h4 id="å…¶ä»–çº¿ç¨‹æ­»é”"><a href="#å…¶ä»–çº¿ç¨‹æ­»é”" class="headerlink" title="å…¶ä»–çº¿ç¨‹æ­»é”"></a>å…¶ä»–çº¿ç¨‹æ­»é”</h4><pre><code>dispatch_queue_t serialQueue = dispatch_queue_create(&quot;serial_queue&quot;, DISPATCH_QUEUE_SERIAL);
dispatch_async(serialQueue, ^{
    // ä¸²è¡Œé˜Ÿåˆ—block1
    NSLog(@&quot;begin&quot;);
    dispatch_sync(serialQueue, ^{
        // ä¸²è¡Œé˜Ÿåˆ—block2 å‘ç”Ÿæ­»é”ï¼Œä¸‹é¢çš„ä»£ç ä¸ä¼šæ‰§è¡Œ
        NSLog(@&quot;middle&quot;);
    });
    // ä¸ä¼šæ‰“å°
    NSLog(@&quot;end&quot;);
});
</code></pre><h2 id="æ‹“å±•å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹çŸ¥è¯†"><a href="#æ‹“å±•å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹çŸ¥è¯†" class="headerlink" title="æ‹“å±•å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹çŸ¥è¯†"></a>æ‹“å±•å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹çŸ¥è¯†</h2><h3 id="å•çº¿ç¨‹åŒæ­¥æ¨¡å‹"><a href="#å•çº¿ç¨‹åŒæ­¥æ¨¡å‹" class="headerlink" title="å•çº¿ç¨‹åŒæ­¥æ¨¡å‹"></a>å•çº¿ç¨‹åŒæ­¥æ¨¡å‹</h3><p><img src="/images/p01_sync.png" alt="åŒæ­¥æ¨¡å‹"></p>
<p>åœ¨ä¸€ä¸ªæ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªä»»åŠ¡åœ¨æ‰§è¡Œï¼Œå¹¶ä¸”å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸåä¸€ä¸ªä»»åŠ¡æ‰èƒ½å¼€å§‹ã€‚å¦‚æœä»»åŠ¡éƒ½èƒ½æŒ‰ç…§äº‹å…ˆè§„å®šå¥½çš„é¡ºåºæ‰§è¡Œï¼Œæœ€åä¸€ä¸ªä»»åŠ¡çš„å®Œæˆæ„å‘³ç€å‰é¢æ‰€æœ‰çš„ä»»åŠ¡éƒ½å·²æ— ä»»ä½•å·®é”™åœ°å®Œæˆå¹¶è¾“å‡ºå…¶å¯ç”¨çš„ç»“æœâ€”è¿™æ˜¯å¤šä¹ˆç®€å•çš„é€»è¾‘.</p>
<h3 id="çº¿ç¨‹æ¨¡å‹"><a href="#çº¿ç¨‹æ¨¡å‹" class="headerlink" title="çº¿ç¨‹æ¨¡å‹"></a>çº¿ç¨‹æ¨¡å‹</h3><p><img src="/images/p01_threaded.png" alt="çº¿ç¨‹æ¨¡å‹"></p>
<p>æ¯ä¸ªä»»åŠ¡éƒ½åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­å®Œæˆã€‚è¿™äº›çº¿ç¨‹éƒ½æ˜¯ç”±æ“ä½œç³»ç»Ÿæ¥ç®¡ç†ï¼Œè‹¥åœ¨å¤šå¤„ç†æœºã€å¤šæ ¸å¤„ç†æœºçš„ç³»ç»Ÿä¸­å¯èƒ½ä¼šç›¸äº’ç‹¬ç«‹çš„è¿è¡Œï¼Œè‹¥åœ¨å•å¤„ç†æœºä¸Šï¼Œåˆ™ä¼šäº¤é”™è¿è¡Œã€‚å…³é”®ç‚¹åœ¨äºï¼Œåœ¨çº¿ç¨‹æ¨¡å¼ä¸­ï¼Œå…·ä½“å“ªä¸ªä»»åŠ¡æ‰§è¡Œç”±æ“ä½œç³»ç»Ÿæ¥å¤„ç†ã€‚ä½†ç¼–ç¨‹äººå‘˜åˆ™åªéœ€ç®€å•åœ°è®¤ä¸ºï¼šå®ƒä»¬çš„æŒ‡ä»¤æµæ˜¯ç›¸äº’ç‹¬ç«‹ä¸”å¯ä»¥å¹¶è¡Œæ‰§è¡Œã€‚</p>
<h3 id="å¼‚æ­¥æ¨¡å‹"><a href="#å¼‚æ­¥æ¨¡å‹" class="headerlink" title="å¼‚æ­¥æ¨¡å‹"></a>å¼‚æ­¥æ¨¡å‹</h3><p><img src="/images/p01_async.png" alt="å¼‚æ­¥æ¨¡å‹"></p>
<p>å•çº¿ç¨‹å¤šä¸ªä»»åŠ¡åˆ†æ—¶å®Œæˆ(ä»»åŠ¡æ˜¯äº¤é”™å®Œæˆ)ã€‚</p>
<p>åœ¨å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ä¸å¤šçº¿ç¨‹æ¨¡å‹ä¹‹é—´è¿˜æœ‰ä¸€ä¸ªä¸åŒï¼šåœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œå¯¹äºåœæ­¢æŸä¸ªçº¿ç¨‹å¯åŠ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ï¼Œå…¶å†³å®šæƒå¹¶ä¸åœ¨ç¨‹åºå‘˜æ‰‹é‡Œè€Œåœ¨æ“ä½œç³»ç»Ÿé‚£é‡Œï¼Œåœ¨ç¼–å†™ç¨‹åºè¿‡ç¨‹ä¸­å¿…é¡»è¦å‡è®¾åœ¨ä»»ä½•æ—¶å€™ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰å¯èƒ½è¢«åœæ­¢è€Œå¯åŠ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ã€‚ç›¸åï¼Œåœ¨å¼‚æ­¥æ¨¡å‹ä¸­ï¼Œä¸€ä¸ªä»»åŠ¡è¦æƒ³è¿è¡Œå¿…é¡»æ˜¾å¼æ”¾å¼ƒå½“å‰è¿è¡Œçš„ä»»åŠ¡çš„æ§åˆ¶æƒã€‚è¿™ä¹Ÿæ˜¯ç›¸æ¯”å¤šçº¿ç¨‹æ¨¡å‹æ¥è¯´ï¼Œæœ€ç®€æ´çš„åœ°æ–¹ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š<code>å°†å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ä¸åŒæ­¥æ¨¡å‹æ··åˆåœ¨åŒä¸€ä¸ªç³»ç»Ÿä¸­æ˜¯å¯ä»¥çš„</code>ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/25/Swift-æ¨¡å¼åŒ¹é…/" itemprop="url">
                  Swift æ¨¡å¼åŒ¹é…
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-25T09:15:52+08:00" content="2016-05-25">
              2016-05-25
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/25/Swift-æ¨¡å¼åŒ¹é…/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/25/Swift-æ¨¡å¼åŒ¹é…/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="æ¨¡å¼åŒ¹é…è¿›é˜¶"><a href="#æ¨¡å¼åŒ¹é…è¿›é˜¶" class="headerlink" title="æ¨¡å¼åŒ¹é…è¿›é˜¶"></a>æ¨¡å¼åŒ¹é…è¿›é˜¶</h3><ol>
<li><p>é€šé…ç¬¦æ¨¡å¼</p>
<p> é€šé…ç¬¦æ¨¡å¼ä¼šå¿½ç•¥éœ€è¦åŒ¹é…çš„å€¼ï¼Œ <code>_</code></p>
</li>
<li><p>æ ‡ç¤ºæ¨¡å¼</p>
<p> åŒ¹é…å…·ä½“çš„å€¼</p>
</li>
<li><p>å€¼ç»‘å®šæ¨¡å¼</p>
<pre><code>switch (4, 5) {
    case let (x, y): print(&quot;\(x) \(y)&quot;)
}
</code></pre></li>
<li><p>å…ƒç»„æ¨¡å¼</p>
<pre><code>let age = 23
let job: String? = &quot;Operator&quot;
let payload: AnyObject = NSDictionary()

switch (age, job, payload) {
  case (let age, _?, _ as NSDictionary):
  print(age)
  default: ()
}
</code></pre></li>
<li><p>æšä¸¾Caseæ¨¡å¼</p>
</li>
<li><p>ç±»å‹è½¬æ¢æ¨¡å¼</p>
<ul>
<li>is ç±»å‹ï¼šåŒ¹é…å³æ‰‹è¾¹å†…å®¹çš„è¿è¡Œæ—¶ç±»å‹ï¼ˆæˆ–è€…ç±»å‹çš„å­ç±»ï¼‰ã€‚å®ƒä¼šåšç±»å‹è½¬æ¢ä½†æ˜¯ä¸å…³æ³¨è¿”å›å€¼ã€‚æ‰€ä»¥ä½ çš„ case å—ä¸çŸ¥é“æ‰€åŒ¹é…çš„ç±»å‹æ˜¯ä»€ä¹ˆã€‚</li>
<li><p>æ¨¡å¼ as ç±»å‹ï¼šå’Œ is æ¨¡å¼åšåŒæ ·çš„åŒ¹é…æ“ä½œï¼Œä½†æ˜¯å¦‚æœæˆåŠŸçš„è¯ä¼šæŠŠç±»å‹è½¬æ¢åˆ°å·¦ä¾§æŒ‡å®šçš„æ¨¡å¼ä¸­ã€‚</p>
<p>  let a: Any = 5<br>  switch a {</p>
<pre><code>// è¿™ä¼šå¤±è´¥å› ä¸ºå®ƒçš„ç±»å‹ä»ç„¶æ˜¯ `Any`
// é”™è¯¯: binary operator &apos;+&apos; cannot be applied to operands of type &apos;Any&apos; and &apos;Int&apos;
case is Int: print (a + 1)
// æœ‰æ•ˆå¹¶è¿”å› &apos;6&apos;
case let n as Int: print (n + 1)
default: ()
</code></pre><p>  }</p>
</li>
</ul>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/24/Hexo-Use/" itemprop="url">
                  Hexo Use
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-24T15:31:03+08:00" content="2016-05-24">
              2016-05-24
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/24/Hexo-Use/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/24/Hexo-Use/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œ ç»çŸ¥æ­¤äº‹è¦èº¬è¡Œ</p>
</blockquote>
<h3 id="æ–°å»ºåšæ–‡ï¼š"><a href="#æ–°å»ºåšæ–‡ï¼š" class="headerlink" title="æ–°å»ºåšæ–‡ï¼š"></a>æ–°å»ºåšæ–‡ï¼š</h3><p>  hexo new â€œæ–‡ç« é¢˜ç›®â€</p>
<h3 id="æ–°å»ºé¡µé¢ï¼š"><a href="#æ–°å»ºé¡µé¢ï¼š" class="headerlink" title="æ–°å»ºé¡µé¢ï¼š"></a>æ–°å»ºé¡µé¢ï¼š</h3><p>  hexo new page â€œé¡µé¢åç§°â€</p>
<h3 id="å‘å¸ƒåšæ–‡ï¼š"><a href="#å‘å¸ƒåšæ–‡ï¼š" class="headerlink" title="å‘å¸ƒåšæ–‡ï¼š"></a>å‘å¸ƒåšæ–‡ï¼š</h3><p>  hexo clean<br>  hexo generate<br>  hexo deploy</p>
<h3 id="NexTçš„ä¸»é¢˜é…ç½®"><a href="#NexTçš„ä¸»é¢˜é…ç½®" class="headerlink" title="NexTçš„ä¸»é¢˜é…ç½®"></a><a href="http://theme-next.iissnan.com/theme-settings.html#duoshuo-ua" target="_blank" rel="external">NexTçš„ä¸»é¢˜é…ç½®</a></h3><ol>
<li><p>æ·»åŠ ã€Œæ ‡ç­¾ã€é¡µé¢</p>
<pre><code>title: æ ‡ç­¾æµ‹è¯•æ–‡ç« 
tags:
- Testing
- Another Tag
---
</code></pre></li>
</ol>
<blockquote>
<p>å¯¹äºCNAMEå’ŒREADMEæ–‡ä»¶ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠä»–ä»¬æ”¾åœ¨sourceæ–‡ä»¶å¤¹ä¸­</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/24/hello-world/" itemprop="url">
                  Hello World
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-24T10:11:23+08:00" content="2016-05-24">
              2016-05-24
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/24/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/24/hello-world/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/12316547.jpeg"
               alt="oheroj" />
          <p class="site-author-name" itemprop="name">oheroj</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">9</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/OHeroJ" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">oheroj</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"oheroj"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js"></script>
    
  





  
  
  

  

  

</body>
</html>
